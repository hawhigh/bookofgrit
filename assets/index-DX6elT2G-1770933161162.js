(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function BN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xp={exports:{}},Gc={};var BT;function FN(){if(BT)return Gc;BT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Gc.Fragment=e,Gc.jsx=n,Gc.jsxs=n,Gc}var FT;function HN(){return FT||(FT=1,Xp.exports=FN()),Xp.exports}var y=HN(),Jp={exports:{}},Oe={};var HT;function qN(){if(HT)return Oe;HT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,V={};function B(U,ee,ce){this.props=U,this.context=ee,this.refs=V,this.updater=ce||N}B.prototype.isReactComponent={},B.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function G(){}G.prototype=B.prototype;function q(U,ee,ce){this.props=U,this.context=ee,this.refs=V,this.updater=ce||N}var re=q.prototype=new G;re.constructor=q,j(re,B.prototype),re.isPureReactComponent=!0;var oe=Array.isArray;function ue(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(U,ee,ce){var pe=ce.ref;return{$$typeof:t,type:U,key:ee,ref:pe!==void 0?pe:null,props:ce}}function P(U,ee){return I(U.type,ee,U.props)}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function k(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return ee[ce]})}var D=/\/+/g;function De(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):ee.toString(36)}function Xe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ue,ue):(U.status="pending",U.then(function(ee){U.status==="pending"&&(U.status="fulfilled",U.value=ee)},function(ee){U.status==="pending"&&(U.status="rejected",U.reason=ee)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function J(U,ee,ce,pe,Te){var we=typeof U;(we==="undefined"||we==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(we){case"bigint":case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case t:case e:je=!0;break;case _:return je=U._init,J(je(U._payload),ee,ce,pe,Te)}}if(je)return Te=Te(U),je=pe===""?"."+De(U,0):pe,oe(Te)?(ce="",je!=null&&(ce=je.replace(D,"$&/")+"/"),J(Te,ee,ce,"",function(he){return he})):Te!=null&&(L(Te)&&(Te=P(Te,ce+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+je)),ee.push(Te)),1;je=0;var Be=pe===""?".":pe+":";if(oe(U))for(var nt=0;nt<U.length;nt++)pe=U[nt],we=Be+De(pe,nt),je+=J(pe,ee,ce,we,Te);else if(nt=A(U),typeof nt=="function")for(U=nt.call(U),nt=0;!(pe=U.next()).done;)pe=pe.value,we=Be+De(pe,nt++),je+=J(pe,ee,ce,we,Te);else if(we==="object"){if(typeof U.then=="function")return J(Xe(U),ee,ce,pe,Te);throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return je}function ae(U,ee,ce){if(U==null)return U;var pe=[],Te=0;return J(U,pe,"","",function(we){return ee.call(ce,we,Te++)}),pe}function de(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var Ce=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Pe={map:ae,forEach:function(U,ee,ce){ae(U,function(){ee.apply(this,arguments)},ce)},count:function(U){var ee=0;return ae(U,function(){ee++}),ee},toArray:function(U){return ae(U,function(ee){return ee})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Oe.Activity=E,Oe.Children=Pe,Oe.Component=B,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=q,Oe.StrictMode=s,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return C.H.useMemoCache(U)}},Oe.cache=function(U){return function(){return U.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(U,ee,ce){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var pe=j({},U.props),Te=U.key;if(ee!=null)for(we in ee.key!==void 0&&(Te=""+ee.key),ee)!w.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(pe[we]=ee[we]);var we=arguments.length-2;if(we===1)pe.children=ce;else if(1<we){for(var je=Array(we),Be=0;Be<we;Be++)je[Be]=arguments[Be+2];pe.children=je}return I(U.type,Te,pe)},Oe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Oe.createElement=function(U,ee,ce){var pe,Te={},we=null;if(ee!=null)for(pe in ee.key!==void 0&&(we=""+ee.key),ee)w.call(ee,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Te[pe]=ee[pe]);var je=arguments.length-2;if(je===1)Te.children=ce;else if(1<je){for(var Be=Array(je),nt=0;nt<je;nt++)Be[nt]=arguments[nt+2];Te.children=Be}if(U&&U.defaultProps)for(pe in je=U.defaultProps,je)Te[pe]===void 0&&(Te[pe]=je[pe]);return I(U,we,Te)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:f,render:U}},Oe.isValidElement=L,Oe.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:de}},Oe.memo=function(U,ee){return{$$typeof:p,type:U,compare:ee===void 0?null:ee}},Oe.startTransition=function(U){var ee=C.T,ce={};C.T=ce;try{var pe=U(),Te=C.S;Te!==null&&Te(ce,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(ue,Ce)}catch(we){Ce(we)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),C.T=ee}},Oe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Oe.use=function(U){return C.H.use(U)},Oe.useActionState=function(U,ee,ce){return C.H.useActionState(U,ee,ce)},Oe.useCallback=function(U,ee){return C.H.useCallback(U,ee)},Oe.useContext=function(U){return C.H.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U,ee){return C.H.useDeferredValue(U,ee)},Oe.useEffect=function(U,ee){return C.H.useEffect(U,ee)},Oe.useEffectEvent=function(U){return C.H.useEffectEvent(U)},Oe.useId=function(){return C.H.useId()},Oe.useImperativeHandle=function(U,ee,ce){return C.H.useImperativeHandle(U,ee,ce)},Oe.useInsertionEffect=function(U,ee){return C.H.useInsertionEffect(U,ee)},Oe.useLayoutEffect=function(U,ee){return C.H.useLayoutEffect(U,ee)},Oe.useMemo=function(U,ee){return C.H.useMemo(U,ee)},Oe.useOptimistic=function(U,ee){return C.H.useOptimistic(U,ee)},Oe.useReducer=function(U,ee,ce){return C.H.useReducer(U,ee,ce)},Oe.useRef=function(U){return C.H.useRef(U)},Oe.useState=function(U){return C.H.useState(U)},Oe.useSyncExternalStore=function(U,ee,ce){return C.H.useSyncExternalStore(U,ee,ce)},Oe.useTransition=function(){return C.H.useTransition()},Oe.version="19.2.4",Oe}var qT;function jy(){return qT||(qT=1,Jp.exports=qN()),Jp.exports}var O=jy();const aA=BN(O);var Zp={exports:{}},Yc={},eg={exports:{}},tg={};var GT;function GN(){return GT||(GT=1,(function(t){function e(J,ae){var de=J.length;J.push(ae);e:for(;0<de;){var Ce=de-1>>>1,Pe=J[Ce];if(0<a(Pe,ae))J[Ce]=ae,J[de]=Pe,de=Ce;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],de=J.pop();if(de!==ae){J[0]=de;e:for(var Ce=0,Pe=J.length,U=Pe>>>1;Ce<U;){var ee=2*(Ce+1)-1,ce=J[ee],pe=ee+1,Te=J[pe];if(0>a(ce,de))pe<Pe&&0>a(Te,ce)?(J[Ce]=Te,J[pe]=de,Ce=pe):(J[Ce]=ce,J[ee]=de,Ce=ee);else if(pe<Pe&&0>a(Te,de))J[Ce]=Te,J[pe]=de,Ce=pe;else break e}}return ae}function a(J,ae){var de=J.sortIndex-ae.sortIndex;return de!==0?de:J.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],_=1,E=null,b=3,A=!1,N=!1,j=!1,V=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=J)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function oe(J){if(j=!1,re(J),!N)if(n(m)!==null)N=!0,ue||(ue=!0,k());else{var ae=n(p);ae!==null&&Xe(oe,ae.startTime-J)}}var ue=!1,C=-1,w=5,I=-1;function P(){return V?!0:!(t.unstable_now()-I<w)}function L(){if(V=!1,ue){var J=t.unstable_now();I=J;var ae=!0;try{e:{N=!1,j&&(j=!1,G(C),C=-1),A=!0;var de=b;try{t:{for(re(J),E=n(m);E!==null&&!(E.expirationTime>J&&P());){var Ce=E.callback;if(typeof Ce=="function"){E.callback=null,b=E.priorityLevel;var Pe=Ce(E.expirationTime<=J);if(J=t.unstable_now(),typeof Pe=="function"){E.callback=Pe,re(J),ae=!0;break t}E===n(m)&&s(m),re(J)}else s(m);E=n(m)}if(E!==null)ae=!0;else{var U=n(p);U!==null&&Xe(oe,U.startTime-J),ae=!1}}break e}finally{E=null,b=de,A=!1}ae=void 0}}finally{ae?k():ue=!1}}}var k;if(typeof q=="function")k=function(){q(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,De=D.port2;D.port1.onmessage=L,k=function(){De.postMessage(null)}}else k=function(){B(L,0)};function Xe(J,ae){C=B(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(J){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var de=b;b=ae;try{return J()}finally{b=de}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=b;b=J;try{return ae()}finally{b=de}},t.unstable_scheduleCallback=function(J,ae,de){var Ce=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ce+de:Ce):de=Ce,J){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=de+Pe,J={id:_++,callback:ae,priorityLevel:J,startTime:de,expirationTime:Pe,sortIndex:-1},de>Ce?(J.sortIndex=de,e(p,J),n(m)===null&&J===n(p)&&(j?(G(C),C=-1):j=!0,Xe(oe,de-Ce))):(J.sortIndex=Pe,e(m,J),N||A||(N=!0,ue||(ue=!0,k()))),J},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(J){var ae=b;return function(){var de=b;b=ae;try{return J.apply(this,arguments)}finally{b=de}}}})(tg)),tg}var YT;function YN(){return YT||(YT=1,eg.exports=GN()),eg.exports}var ng={exports:{}},Tn={};var KT;function KN(){if(KT)return Tn;KT=1;var t=jy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:p,implementation:_}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tn.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,_)},Tn.flushSync=function(m){var p=u.T,_=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=_,s.d.f()}},Tn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Tn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Tn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,E=f(_,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:A}):_==="script"&&s.d.X(m,{crossOrigin:E,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Tn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=f(_,p.crossOrigin);s.d.L(m,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tn.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Tn.requestFormReset=function(m){s.d.r(m)},Tn.unstable_batchedUpdates=function(m,p){return m(p)},Tn.useFormState=function(m,p,_){return u.H.useFormState(m,p,_)},Tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Tn.version="19.2.4",Tn}var $T;function $N(){if($T)return ng.exports;$T=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=KN(),ng.exports}var QT;function QN(){if(QT)return Yc;QT=1;var t=YN(),e=jy(),n=$N();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=g;else{for(var T=!1,S=d.child;S;){if(S===o){T=!0,o=d,c=g;break}if(S===c){T=!0,c=d,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=d;break}if(S===c){T=!0,c=g,o=d;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),q=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function De(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case B:return"Profiler";case V:return"StrictMode";case oe:return"Suspense";case ue:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case q:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case re:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:De(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return De(i(r))}catch{}}return null}var Xe=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ce=[],Pe=-1;function U(i){return{current:i}}function ee(i){0>Pe||(i.current=Ce[Pe],Ce[Pe]=null,Pe--)}function ce(i,r){Pe++,Ce[Pe]=i.current,i.current=r}var pe=U(null),Te=U(null),we=U(null),je=U(null);function Be(i,r){switch(ce(we,r),ce(Te,i),ce(pe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?uT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=uT(r),i=hT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(pe),ce(pe,i)}function nt(){ee(pe),ee(Te),ee(we)}function he(i){i.memoizedState!==null&&ce(je,i);var r=pe.current,o=hT(r,i.type);r!==o&&(ce(Te,i),ce(pe,o))}function Ue(i){Te.current===i&&(ee(pe),ee(Te)),je.current===i&&(ee(je),Bc._currentValue=de)}var Ze,Ve;function Lt(i){if(Ze===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ze=r&&r[1]||"",Ve=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+i+Ve}var es=!1;function Ni(i,r){if(!i||es)return"";es=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Q=X}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(X){Q=X}i.call(ie.prototype)}}else{try{throw Error()}catch(X){Q=X}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var M=T.split(`
`),$=S.split(`
`);for(d=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(c===M.length||d===$.length)for(c=M.length-1,d=$.length-1;1<=c&&0<=d&&M[c]!==$[d];)d--;for(;1<=c&&0<=d;c--,d--)if(M[c]!==$[d]){if(c!==1||d!==1)do if(c--,d--,0>d||M[c]!==$[d]){var Z=`
`+M[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=d);break}}}finally{es=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Lt(o):""}function Di(i,r){switch(i.tag){case 26:case 27:case 5:return Lt(i.type);case 16:return Lt("Lazy");case 13:return i.child!==r&&r!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Ni(i.type,!1);case 11:return Ni(i.type.render,!1);case 1:return Ni(i.type,!0);case 31:return Lt("Activity");default:return""}}function ts(i){try{var r="",o=null;do r+=Di(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var xt=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,le=t.unstable_cancelCallback,be=t.unstable_shouldYield,pt=t.unstable_requestPaint,gt=t.unstable_now,qn=t.unstable_getCurrentPriorityLevel,Rn=t.unstable_ImmediatePriority,H=t.unstable_UserBlockingPriority,me=t.unstable_NormalPriority,at=t.unstable_LowPriority,tn=t.unstable_IdlePriority,Gn=t.log,Yn=t.unstable_setDisableYieldValue,Kn=null,At=null;function hn(i){if(typeof Gn=="function"&&Yn(i),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Kn,i)}catch{}}var ot=Math.clz32?Math.clz32:Ea,oi=Math.log,va=Math.LN2;function Ea(i){return i>>>=0,i===0?32:31-(oi(i)/va|0)|0}var li=256,Ta=262144,Ht=4194304;function ns(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function is(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?d=ns(c):(T&=S,T!==0?d=ns(T):o||(o=S&~i,o!==0&&(d=ns(o))))):(S=c&~g,S!==0?d=ns(S):T!==0?d=ns(T):o||(o=c&~i,o!==0&&(d=ns(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function Oi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function tm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yu(){var i=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),i}function ss(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ba(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nm(i,r,o,c,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,M=i.expirationTimes,$=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-ot(o),ie=1<<Z;S[Z]=0,M[Z]=-1;var Q=$[Z];if(Q!==null)for($[Z]=null,Z=0;Z<Q.length;Z++){var X=Q[Z];X!==null&&(X.lane&=-536870913)}o&=~ie}c!==0&&xa(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function xa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-ot(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Yl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-ot(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function Kl(i,r){var o=r&-r;return o=(o&42)!==0?1:Sa(o),(o&(i.suspendedLanes|r))!==0?0:o}function Sa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Vs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ku(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:PT(i.type))}function Mi(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var Pi=Math.random().toString(36).slice(2),qt="__reactFiber$"+Pi,on="__reactProps$"+Pi,rs="__reactContainer$"+Pi,To="__reactEvents$"+Pi,im="__reactListeners$"+Pi,$u="__reactHandles$"+Pi,Qu="__reactResources$"+Pi,as="__reactMarker$"+Pi;function bo(i){delete i[qt],delete i[on],delete i[To],delete i[im],delete i[$u]}function os(i){var r=i[qt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[rs]||o[qt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=_T(i);i!==null;){if(o=i[qt])return o;i=_T(i)}return r}i=o,o=i.parentNode}return null}function ci(i){if(i=i[qt]||i[rs]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function $n(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ls(i){var r=i[Qu];return r||(r=i[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Gt(i){i[as]=!0}var $l=new Set,Ql={};function cs(i,r){us(i,r),us(i+"Capture",r)}function us(i,r){for(Ql[i]=r,i=0;i<r.length;i++)$l.add(r[i])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Jl={};function Wu(i){return xt.call(Jl,i)?!0:xt.call(Xl,i)?!1:Wl.test(i)?Jl[i]=!0:(Xl[i]=!0,!1)}function xo(i,r,o){if(Wu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Qn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Yt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function lt(i){if(!i._valueTracker){var r=gr(i)?"checked":"value";i._valueTracker=Zl(i,r,""+i[r])}}function Aa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=gr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function hs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var wa=/[\n"\\]/g;function Pn(i){return i.replace(wa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function So(i,r,o,c,d,g,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ln(r)):i.value!==""+ln(r)&&(i.value=""+ln(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?ec(i,T,ln(r)):o!=null?ec(i,T,ln(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+ln(S):i.removeAttribute("name")}function Xu(i,r,o,c,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){lt(i);return}o=o!=null?""+ln(o):"",r=r!=null?""+ln(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),lt(i)}function ec(i,r,o){r==="number"&&hs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function yr(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Ju(i,r,o){if(r!=null&&(r=""+ln(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+ln(o):""}function _r(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Xe(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=ln(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),lt(i)}function Vn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Zu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function nc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&tc(i,d,c)}else for(var g in r)r.hasOwnProperty(g)&&tc(i,g,r[g])}function Ao(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(i){return vr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Vi(){}var ic=null;function ui(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Er=null,fs=null;function Ra(i){var r=ci(i);if(r&&(i=r.stateNode)){var o=i[on]||null;e:switch(i=r.stateNode,r.type){case"input":if(So(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[on]||null;if(!d)throw Error(s(90));So(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Aa(c)}break e;case"textarea":Ju(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&yr(i,!!o.multiple,r,!1)}}}var Ro=!1;function Tr(i,r,o){if(Ro)return i(r,o);Ro=!0;try{var c=i(r);return c}finally{if(Ro=!1,(Er!==null||fs!==null)&&(Kh(),Er&&(r=Er,i=fs,fs=Er=null,Ra(r),i)))for(r=0;r<i.length;r++)Ra(i[r])}}function Li(i,r){var o=i.stateNode;if(o===null)return null;var c=o[on]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(hi)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Ia=!1}var ds=null,sc=null,Ca=null;function rc(){if(Ca)return Ca;var i,r=sc,o=r.length,c,d="value"in ds?ds.value:ds.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(c=1;c<=T&&r[o-c]===d[g-c];c++);return Ca=d.slice(i,1<c?1-c:void 0)}function Na(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ls(){return!0}function ki(){return!1}function fn(i){function r(o,c,d,g,T){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ls:ki,this.isPropagationStopped=ki,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),r}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=fn(ks),br=E({},ks,{view:0,detail:0}),ac=fn(br),xr,Io,ps,Co=E({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ps&&(ps&&i.type==="mousemove"?(xr=i.screenX-ps.screenX,Io=i.screenY-ps.screenY):Io=xr=0,ps=i),xr)},movementY:function(i){return"movementY"in i?i.movementY:Io}}),oc=fn(Co),Da=E({},Co,{dataTransfer:0}),th=fn(Da),nh=E({},br,{relatedTarget:0}),Oa=fn(nh),lc=E({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=fn(lc),No=E({},ks,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sh=fn(No),rh=E({},ks,{data:0}),gs=fn(rh),ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ch(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=lh[i])?!!r[i]:!1}function Sr(){return ch}var In=E({},br,{key:function(i){if(i.key){var r=ah[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Na(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?oh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(i){return i.type==="keypress"?Na(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Na(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),uh=fn(In),hh=E({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=fn(hh),h=E({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),v=fn(h),x=E({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=fn(x),Y=E({},Co,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=fn(Y),fe=E({},ks,{newState:0,oldState:0}),Le=fn(fe),kt=[9,13,27,32],it=hi&&"CompositionEvent"in window,wt=null;hi&&"documentMode"in document&&(wt=document.documentMode);var fi=hi&&"TextEvent"in window&&!wt,ys=hi&&(!it||wt&&8<wt&&11>=wt),ji=" ",Ui=!1;function Ma(i,r){switch(i){case"keyup":return kt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Oo=!1;function hC(i,r){switch(i){case"compositionend":return Do(r);case"keypress":return r.which!==32?null:(Ui=!0,ji);case"textInput":return i=r.data,i===ji&&Ui?null:i;default:return null}}function fC(i,r){if(Oo)return i==="compositionend"||!it&&Ma(i,r)?(i=rc(),Ca=sc=ds=null,Oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ys&&r.locale!=="ko"?null:r.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!dC[i.type]:r==="textarea"}function bv(i,r,o,c){Er?fs?fs.push(c):fs=[c]:Er=c,r=ef(r,"onChange"),0<r.length&&(o=new ms("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var cc=null,uc=null;function mC(i){sT(i,0)}function fh(i){var r=$n(i);if(Aa(r))return i}function xv(i,r){if(i==="change")return r}var Sv=!1;if(hi){var sm;if(hi){var rm="oninput"in document;if(!rm){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),rm=typeof Av.oninput=="function"}sm=rm}else sm=!1;Sv=sm&&(!document.documentMode||9<document.documentMode)}function wv(){cc&&(cc.detachEvent("onpropertychange",Rv),uc=cc=null)}function Rv(i){if(i.propertyName==="value"&&fh(uc)){var r=[];bv(r,uc,i,ui(i)),Tr(mC,r)}}function pC(i,r,o){i==="focusin"?(wv(),cc=r,uc=o,cc.attachEvent("onpropertychange",Rv)):i==="focusout"&&wv()}function gC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fh(uc)}function yC(i,r){if(i==="click")return fh(r)}function _C(i,r){if(i==="input"||i==="change")return fh(r)}function vC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Wn=typeof Object.is=="function"?Object.is:vC;function hc(i,r){if(Wn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!xt.call(r,d)||!Wn(i[d],r[d]))return!1}return!0}function Iv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Cv(i,r){var o=Iv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Iv(o)}}function Nv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Nv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Dv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=hs(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=hs(i.document)}return r}function am(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var EC=hi&&"documentMode"in document&&11>=document.documentMode,Mo=null,om=null,fc=null,lm=!1;function Ov(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lm||Mo==null||Mo!==hs(c)||(c=Mo,"selectionStart"in c&&am(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fc&&hc(fc,c)||(fc=c,c=ef(om,"onSelect"),0<c.length&&(r=new ms("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Mo)))}function Pa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Po={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},cm={},Mv={};hi&&(Mv=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Va(i){if(cm[i])return cm[i];if(!Po[i])return i;var r=Po[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Mv)return cm[i]=r[o];return i}var Pv=Va("animationend"),Vv=Va("animationiteration"),Lv=Va("animationstart"),TC=Va("transitionrun"),bC=Va("transitionstart"),xC=Va("transitioncancel"),kv=Va("transitionend"),jv=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function zi(i,r){jv.set(i,r),cs(r,[i])}var dh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},di=[],Vo=0,hm=0;function mh(){for(var i=Vo,r=hm=Vo=0;r<i;){var o=di[r];di[r++]=null;var c=di[r];di[r++]=null;var d=di[r];di[r++]=null;var g=di[r];if(di[r++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&Uv(o,d,g)}}function ph(i,r,o,c){di[Vo++]=i,di[Vo++]=r,di[Vo++]=o,di[Vo++]=c,hm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function fm(i,r,o,c){return ph(i,r,o,c),gh(i)}function La(i,r){return ph(i,null,null,r),gh(i)}function Uv(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-ot(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),g):null}function gh(i){if(50<Pc)throw Pc=0,Tp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Lo={};function SC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(i,r,o,c){return new SC(i,r,o,c)}function dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Us(i,r){var o=i.alternate;return o===null?(o=Xn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function zv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function yh(i,r,o,c,d,g){var T=0;if(c=i,typeof i=="function")dm(i)&&(T=1);else if(typeof i=="string")T=CN(i,o,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Xn(31,o,r,d),i.elementType=I,i.lanes=g,i;case j:return ka(o.children,d,g,r);case V:T=8,d|=24;break;case B:return i=Xn(12,o,r,d|2),i.elementType=B,i.lanes=g,i;case oe:return i=Xn(13,o,r,d),i.elementType=oe,i.lanes=g,i;case ue:return i=Xn(19,o,r,d),i.elementType=ue,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:T=10;break e;case G:T=9;break e;case re:T=11;break e;case C:T=14;break e;case w:T=16,c=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Xn(T,o,r,d),r.elementType=i,r.type=c,r.lanes=g,r}function ka(i,r,o,c){return i=Xn(7,i,c,r),i.lanes=o,i}function mm(i,r,o){return i=Xn(6,i,null,r),i.lanes=o,i}function Bv(i){var r=Xn(18,null,null,0);return r.stateNode=i,r}function pm(i,r,o){return r=Xn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Fv=new WeakMap;function mi(i,r){if(typeof i=="object"&&i!==null){var o=Fv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ts(r)},Fv.set(i,r),r)}return{value:i,source:r,stack:ts(r)}}var ko=[],jo=0,_h=null,dc=0,pi=[],gi=0,Ar=null,_s=1,vs="";function zs(i,r){ko[jo++]=dc,ko[jo++]=_h,_h=i,dc=r}function Hv(i,r,o){pi[gi++]=_s,pi[gi++]=vs,pi[gi++]=Ar,Ar=i;var c=_s;i=vs;var d=32-ot(c)-1;c&=~(1<<d),o+=1;var g=32-ot(r)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,_s=1<<32-ot(r)+d|o<<d|c,vs=g+i}else _s=1<<g|o<<d|c,vs=i}function gm(i){i.return!==null&&(zs(i,1),Hv(i,1,0))}function ym(i){for(;i===_h;)_h=ko[--jo],ko[jo]=null,dc=ko[--jo],ko[jo]=null;for(;i===Ar;)Ar=pi[--gi],pi[gi]=null,vs=pi[--gi],pi[gi]=null,_s=pi[--gi],pi[gi]=null}function qv(i,r){pi[gi++]=_s,pi[gi++]=vs,pi[gi++]=Ar,_s=r.id,vs=r.overflow,Ar=i}var dn=null,Et=null,We=!1,wr=null,yi=!1,_m=Error(s(519));function Rr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mc(mi(r,i)),_m}function Gv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[qt]=i,r[on]=c,o){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(o=0;o<Lc.length;o++)qe(Lc[o],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),Xu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),_r(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||lT(r.textContent,o)?(c.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),c.onScroll!=null&&qe("scroll",r),c.onScrollEnd!=null&&qe("scrollend",r),c.onClick!=null&&(r.onclick=Vi),r=!0):r=!1,r||Rr(i,!0)}function Yv(i){for(dn=i.return;dn;)switch(dn.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:dn=dn.return}}function Uo(i){if(i!==dn)return!1;if(!We)return Yv(i),We=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Lp(i.type,i.memoizedProps)),o=!o),o&&Et&&Rr(i),Yv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Et=yT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Et=yT(i)}else r===27?(r=Et,Br(i.type)?(i=Bp,Bp=null,Et=i):Et=r):Et=dn?vi(i.stateNode.nextSibling):null;return!0}function ja(){Et=dn=null,We=!1}function vm(){var i=wr;return i!==null&&(Un===null?Un=i:Un.push.apply(Un,i),wr=null),i}function mc(i){wr===null?wr=[i]:wr.push(i)}var Em=U(null),Ua=null,Bs=null;function Ir(i,r,o){ce(Em,r._currentValue),r._currentValue=o}function Fs(i){i._currentValue=Em.current,ee(Em)}function Tm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function bm(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var M=0;M<r.length;M++)if(S.context===r[M]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Tm(g.return,o,i),c||(T=null);break e}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Tm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function zo(i,r,o,c){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=d.type;Wn(d.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(d===je.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Bc):i=[Bc])}d=d.return}i!==null&&bm(r,i,o,c),r.flags|=262144}function vh(i){for(i=i.firstContext;i!==null;){if(!Wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function za(i){Ua=i,Bs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function mn(i){return Kv(Ua,i)}function Eh(i,r){return Ua===null&&za(i),Kv(i,r)}function Kv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Bs===null){if(i===null)throw Error(s(308));Bs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Bs=Bs.next=r;return o}var AC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},wC=t.unstable_scheduleCallback,RC=t.unstable_NormalPriority,Kt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new AC,data:new Map,refCount:0}}function pc(i){i.refCount--,i.refCount===0&&wC(RC,function(){i.controller.abort()})}var gc=null,Sm=0,Bo=0,Fo=null;function IC(i,r){if(gc===null){var o=gc=[];Sm=0,Bo=Rp(),Fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Sm++,r.then($v,$v),r}function $v(){if(--Sm===0&&gc!==null){Fo!==null&&(Fo.status="fulfilled");var i=gc;gc=null,Bo=0,Fo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function CC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Qv=J.S;J.S=function(i,r){OE=gt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&IC(i,r),Qv!==null&&Qv(i,r)};var Ba=U(null);function Am(){var i=Ba.current;return i!==null?i:yt.pooledCache}function Th(i,r){r===null?ce(Ba,Ba.current):ce(Ba,r.pool)}function Wv(){var i=Am();return i===null?null:{parent:Kt._currentValue,pool:i}}var Ho=Error(s(460)),wm=Error(s(474)),bh=Error(s(542)),xh={then:function(){}};function Xv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Vi,Vi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,e0(i),i;default:if(typeof r.status=="string")r.then(Vi,Vi);else{if(i=yt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,e0(i),i}throw Ha=r,Ho}}function Fa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ha=o,Ho):o}}var Ha=null;function Zv(){if(Ha===null)throw Error(s(459));var i=Ha;return Ha=null,i}function e0(i){if(i===Ho||i===bh)throw Error(s(483))}var qo=null,yc=0;function Sh(i){var r=yc;return yc+=1,qo===null&&(qo=[]),Jv(qo,i,r)}function _c(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ah(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function t0(i){function r(F,z){if(i){var K=F.deletions;K===null?(F.deletions=[z],F.flags|=16):K.push(z)}}function o(F,z){if(!i)return null;for(;z!==null;)r(F,z),z=z.sibling;return null}function c(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function d(F,z){return F=Us(F,z),F.index=0,F.sibling=null,F}function g(F,z,K){return F.index=K,i?(K=F.alternate,K!==null?(K=K.index,K<z?(F.flags|=67108866,z):K):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function T(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function S(F,z,K,te){return z===null||z.tag!==6?(z=mm(K,F.mode,te),z.return=F,z):(z=d(z,K),z.return=F,z)}function M(F,z,K,te){var xe=K.type;return xe===j?Z(F,z,K.props.children,te,K.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===w&&Fa(xe)===z.type)?(z=d(z,K.props),_c(z,K),z.return=F,z):(z=yh(K.type,K.key,K.props,null,F.mode,te),_c(z,K),z.return=F,z)}function $(F,z,K,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=pm(K,F.mode,te),z.return=F,z):(z=d(z,K.children||[]),z.return=F,z)}function Z(F,z,K,te,xe){return z===null||z.tag!==7?(z=ka(K,F.mode,te,xe),z.return=F,z):(z=d(z,K),z.return=F,z)}function ie(F,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=mm(""+z,F.mode,K),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return K=yh(z.type,z.key,z.props,null,F.mode,K),_c(K,z),K.return=F,K;case N:return z=pm(z,F.mode,K),z.return=F,z;case w:return z=Fa(z),ie(F,z,K)}if(Xe(z)||k(z))return z=ka(z,F.mode,K,null),z.return=F,z;if(typeof z.then=="function")return ie(F,Sh(z),K);if(z.$$typeof===q)return ie(F,Eh(F,z),K);Ah(F,z)}return null}function Q(F,z,K,te){var xe=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return xe!==null?null:S(F,z,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return K.key===xe?M(F,z,K,te):null;case N:return K.key===xe?$(F,z,K,te):null;case w:return K=Fa(K),Q(F,z,K,te)}if(Xe(K)||k(K))return xe!==null?null:Z(F,z,K,te,null);if(typeof K.then=="function")return Q(F,z,Sh(K),te);if(K.$$typeof===q)return Q(F,z,Eh(F,K),te);Ah(F,K)}return null}function X(F,z,K,te,xe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(K)||null,S(z,F,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return F=F.get(te.key===null?K:te.key)||null,M(z,F,te,xe);case N:return F=F.get(te.key===null?K:te.key)||null,$(z,F,te,xe);case w:return te=Fa(te),X(F,z,K,te,xe)}if(Xe(te)||k(te))return F=F.get(K)||null,Z(z,F,te,xe,null);if(typeof te.then=="function")return X(F,z,K,Sh(te),xe);if(te.$$typeof===q)return X(F,z,K,Eh(z,te),xe);Ah(z,te)}return null}function _e(F,z,K,te){for(var xe=null,et=null,Ee=z,ze=z=0,Ye=null;Ee!==null&&ze<K.length;ze++){Ee.index>ze?(Ye=Ee,Ee=null):Ye=Ee.sibling;var tt=Q(F,Ee,K[ze],te);if(tt===null){Ee===null&&(Ee=Ye);break}i&&Ee&&tt.alternate===null&&r(F,Ee),z=g(tt,z,ze),et===null?xe=tt:et.sibling=tt,et=tt,Ee=Ye}if(ze===K.length)return o(F,Ee),We&&zs(F,ze),xe;if(Ee===null){for(;ze<K.length;ze++)Ee=ie(F,K[ze],te),Ee!==null&&(z=g(Ee,z,ze),et===null?xe=Ee:et.sibling=Ee,et=Ee);return We&&zs(F,ze),xe}for(Ee=c(Ee);ze<K.length;ze++)Ye=X(Ee,F,ze,K[ze],te),Ye!==null&&(i&&Ye.alternate!==null&&Ee.delete(Ye.key===null?ze:Ye.key),z=g(Ye,z,ze),et===null?xe=Ye:et.sibling=Ye,et=Ye);return i&&Ee.forEach(function(Yr){return r(F,Yr)}),We&&zs(F,ze),xe}function Ae(F,z,K,te){if(K==null)throw Error(s(151));for(var xe=null,et=null,Ee=z,ze=z=0,Ye=null,tt=K.next();Ee!==null&&!tt.done;ze++,tt=K.next()){Ee.index>ze?(Ye=Ee,Ee=null):Ye=Ee.sibling;var Yr=Q(F,Ee,tt.value,te);if(Yr===null){Ee===null&&(Ee=Ye);break}i&&Ee&&Yr.alternate===null&&r(F,Ee),z=g(Yr,z,ze),et===null?xe=Yr:et.sibling=Yr,et=Yr,Ee=Ye}if(tt.done)return o(F,Ee),We&&zs(F,ze),xe;if(Ee===null){for(;!tt.done;ze++,tt=K.next())tt=ie(F,tt.value,te),tt!==null&&(z=g(tt,z,ze),et===null?xe=tt:et.sibling=tt,et=tt);return We&&zs(F,ze),xe}for(Ee=c(Ee);!tt.done;ze++,tt=K.next())tt=X(Ee,F,ze,tt.value,te),tt!==null&&(i&&tt.alternate!==null&&Ee.delete(tt.key===null?ze:tt.key),z=g(tt,z,ze),et===null?xe=tt:et.sibling=tt,et=tt);return i&&Ee.forEach(function(zN){return r(F,zN)}),We&&zs(F,ze),xe}function mt(F,z,K,te){if(typeof K=="object"&&K!==null&&K.type===j&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case A:e:{for(var xe=K.key;z!==null;){if(z.key===xe){if(xe=K.type,xe===j){if(z.tag===7){o(F,z.sibling),te=d(z,K.props.children),te.return=F,F=te;break e}}else if(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===w&&Fa(xe)===z.type){o(F,z.sibling),te=d(z,K.props),_c(te,K),te.return=F,F=te;break e}o(F,z);break}else r(F,z);z=z.sibling}K.type===j?(te=ka(K.props.children,F.mode,te,K.key),te.return=F,F=te):(te=yh(K.type,K.key,K.props,null,F.mode,te),_c(te,K),te.return=F,F=te)}return T(F);case N:e:{for(xe=K.key;z!==null;){if(z.key===xe)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o(F,z.sibling),te=d(z,K.children||[]),te.return=F,F=te;break e}else{o(F,z);break}else r(F,z);z=z.sibling}te=pm(K,F.mode,te),te.return=F,F=te}return T(F);case w:return K=Fa(K),mt(F,z,K,te)}if(Xe(K))return _e(F,z,K,te);if(k(K)){if(xe=k(K),typeof xe!="function")throw Error(s(150));return K=xe.call(K),Ae(F,z,K,te)}if(typeof K.then=="function")return mt(F,z,Sh(K),te);if(K.$$typeof===q)return mt(F,z,Eh(F,K),te);Ah(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o(F,z.sibling),te=d(z,K),te.return=F,F=te):(o(F,z),te=mm(K,F.mode,te),te.return=F,F=te),T(F)):o(F,z)}return function(F,z,K,te){try{yc=0;var xe=mt(F,z,K,te);return qo=null,xe}catch(Ee){if(Ee===Ho||Ee===bh)throw Ee;var et=Xn(29,Ee,null,F.mode);return et.lanes=te,et.return=F,et}}}var qa=t0(!0),n0=t0(!1),Cr=!1;function Rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Nr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Dr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=gh(i),Uv(i,null,o),r}return ph(i,c,r,o),gh(i)}function vc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Yl(i,o)}}function Cm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Nm=!1;function Ec(){if(Nm){var i=Fo;if(i!==null)throw i}}function Tc(i,r,o,c){Nm=!1;var d=i.updateQueue;Cr=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,$=M.next;M.next=null,T===null?g=$:T.next=$,T=M;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==T&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=M))}if(g!==null){var ie=d.baseState;T=0,Z=$=M=null,S=g;do{var Q=S.lane&-536870913,X=Q!==S.lane;if(X?(Ge&Q)===Q:(c&Q)===Q){Q!==0&&Q===Bo&&(Nm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var _e=i,Ae=S;Q=r;var mt=o;switch(Ae.tag){case 1:if(_e=Ae.payload,typeof _e=="function"){ie=_e.call(mt,ie,Q);break e}ie=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ae.payload,Q=typeof _e=="function"?_e.call(mt,ie,Q):_e,Q==null)break e;ie=E({},ie,Q);break e;case 2:Cr=!0}}Q=S.callback,Q!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=X,M=ie):Z=Z.next=X,T|=Q;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(M=ie),d.baseState=M,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),Lr|=T,i.lanes=T,i.memoizedState=ie}}function i0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function s0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)i0(o[i],r)}var Go=U(null),wh=U(0);function r0(i,r){i=Xs,ce(wh,i),ce(Go,r),Xs=i|r.baseLanes}function Dm(){ce(wh,Xs),ce(Go,Go.current)}function Om(){Xs=wh.current,ee(Go),ee(wh)}var Jn=U(null),_i=null;function Or(i){var r=i.alternate;ce(jt,jt.current&1),ce(Jn,i),_i===null&&(r===null||Go.current!==null||r.memoizedState!==null)&&(_i=i)}function Mm(i){ce(jt,jt.current),ce(Jn,i),_i===null&&(_i=i)}function a0(i){i.tag===22?(ce(jt,jt.current),ce(Jn,i),_i===null&&(_i=i)):Mr()}function Mr(){ce(jt,jt.current),ce(Jn,Jn.current)}function Zn(i){ee(Jn),_i===i&&(_i=null),ee(jt)}var jt=U(0);function Rh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Up(o)||zp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Hs=0,ke=null,ft=null,$t=null,Ih=!1,Yo=!1,Ga=!1,Ch=0,bc=0,Ko=null,NC=0;function Dt(){throw Error(s(321))}function Pm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Wn(i[o],r[o]))return!1;return!0}function Vm(i,r,o,c,d,g){return Hs=g,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?H0:Wm,Ga=!1,g=o(c,d),Ga=!1,Yo&&(g=l0(r,o,c,d)),o0(i),g}function o0(i){J.H=Ac;var r=ft!==null&&ft.next!==null;if(Hs=0,$t=ft=ke=null,Ih=!1,bc=0,Ko=null,r)throw Error(s(300));i===null||Qt||(i=i.dependencies,i!==null&&vh(i)&&(Qt=!0))}function l0(i,r,o,c){ke=i;var d=0;do{if(Yo&&(Ko=null),bc=0,Yo=!1,25<=d)throw Error(s(301));if(d+=1,$t=ft=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=q0,g=r(o,c)}while(Yo);return g}function DC(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?xc(r):r,i=i.useState()[0],(ft!==null?ft.memoizedState:null)!==i&&(ke.flags|=1024),r}function Lm(){var i=Ch!==0;return Ch=0,i}function km(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function jm(i){if(Ih){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ih=!1}Hs=0,$t=ft=ke=null,Yo=!1,bc=Ch=0,Ko=null}function Cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ke.memoizedState=$t=i:$t=$t.next=i,$t}function Ut(){if(ft===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=ft.next;var r=$t===null?ke.memoizedState:$t.next;if(r!==null)$t=r,ft=i;else{if(i===null)throw ke.alternate===null?Error(s(467)):Error(s(310));ft=i,i={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},$t===null?ke.memoizedState=$t=i:$t=$t.next=i}return $t}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xc(i){var r=bc;return bc+=1,Ko===null&&(Ko=[]),i=Jv(Ko,i,r),r=ke,($t===null?r.memoizedState:$t.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?H0:Wm),i}function Dh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return xc(i);if(i.$$typeof===q)return mn(i)}throw Error(s(438,String(i)))}function Um(i){var r=null,o=ke.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Nh(),ke.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=P;return r.index++,o}function qs(i,r){return typeof r=="function"?r(i):r}function Oh(i){var r=Ut();return zm(r,ft,i)}function zm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=T=null,M=null,$=r,Z=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(Ge&ie)===ie:(Hs&ie)===ie){var Q=$.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===Bo&&(Z=!0);else if((Hs&Q)===Q){$=$.next,Q===Bo&&(Z=!0);continue}else ie={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(S=M=ie,T=g):M=M.next=ie,ke.lanes|=Q,Lr|=Q;ie=$.action,Ga&&o(g,ie),g=$.hasEagerState?$.eagerState:o(g,ie)}else Q={lane:ie,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(S=M=Q,T=g):M=M.next=Q,ke.lanes|=ie,Lr|=ie;$=$.next}while($!==null&&$!==r);if(M===null?T=g:M.next=S,!Wn(g,i.memoizedState)&&(Qt=!0,Z&&(o=Fo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=M,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Bm(i){var r=Ut(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);Wn(g,r.memoizedState)||(Qt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function c0(i,r,o){var c=ke,d=Ut(),g=We;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Wn((ft||d).memoizedState,o);if(T&&(d.memoizedState=o,Qt=!0),d=d.queue,qm(f0.bind(null,c,d,i),[i]),d.getSnapshot!==r||T||$t!==null&&$t.memoizedState.tag&1){if(c.flags|=2048,$o(9,{destroy:void 0},h0.bind(null,c,d,o,r),null),yt===null)throw Error(s(349));g||(Hs&127)!==0||u0(c,r,o)}return o}function u0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ke.updateQueue,r===null?(r=Nh(),ke.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function h0(i,r,o,c){r.value=o,r.getSnapshot=c,d0(r)&&m0(i)}function f0(i,r,o){return o(function(){d0(r)&&m0(i)})}function d0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Wn(i,o)}catch{return!0}}function m0(i){var r=La(i,2);r!==null&&zn(r,i,2)}function Fm(i){var r=Cn();if(typeof i=="function"){var o=i;if(i=o(),Ga){hn(!0);try{o()}finally{hn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:i},r}function p0(i,r,o,c){return i.baseState=o,zm(i,ft,typeof c=="function"?c:qs)}function OC(i,r,o,c,d){if(Vh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};J.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,g0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function g0(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var g=J.T,T={};J.T=T;try{var S=o(d,c),M=J.S;M!==null&&M(T,S),y0(i,r,S)}catch($){Hm(i,r,$)}finally{g!==null&&T.types!==null&&(g.types=T.types),J.T=g}}else try{g=o(d,c),y0(i,r,g)}catch($){Hm(i,r,$)}}function y0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){_0(i,r,c)},function(c){return Hm(i,r,c)}):_0(i,r,o)}function _0(i,r,o){r.status="fulfilled",r.value=o,v0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,g0(i,o)))}function Hm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,v0(r),r=r.next;while(r!==c)}i.action=null}function v0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function E0(i,r){return r}function T0(i,r){if(We){var o=yt.formState;if(o!==null){e:{var c=ke;if(We){if(Et){t:{for(var d=Et,g=yi;d.nodeType!==8;){if(!g){d=null;break t}if(d=vi(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Et=vi(d.nextSibling),c=d.data==="F!";break e}}Rr(c)}c=!1}c&&(r=o[0])}}return o=Cn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:r},o.queue=c,o=z0.bind(null,ke,c),c.dispatch=o,c=Fm(!1),g=Qm.bind(null,ke,!1,c.queue),c=Cn(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=OC.bind(null,ke,d,g,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function b0(i){var r=Ut();return x0(r,ft,i)}function x0(i,r,o){if(r=zm(i,r,E0)[0],i=Oh(qs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=xc(r)}catch(T){throw T===Ho?bh:T}else c=r;r=Ut();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(ke.flags|=2048,$o(9,{destroy:void 0},MC.bind(null,d,o),null)),[c,g,i]}function MC(i,r){i.action=r}function S0(i){var r=Ut(),o=ft;if(o!==null)return x0(r,o,i);Ut(),r=r.memoizedState,o=Ut();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function $o(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=ke.updateQueue,r===null&&(r=Nh(),ke.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function A0(){return Ut().memoizedState}function Mh(i,r,o,c){var d=Cn();ke.flags|=i,d.memoizedState=$o(1|r,{destroy:void 0},o,c===void 0?null:c)}function Ph(i,r,o,c){var d=Ut();c=c===void 0?null:c;var g=d.memoizedState.inst;ft!==null&&c!==null&&Pm(c,ft.memoizedState.deps)?d.memoizedState=$o(r,g,o,c):(ke.flags|=i,d.memoizedState=$o(1|r,g,o,c))}function w0(i,r){Mh(8390656,8,i,r)}function qm(i,r){Ph(2048,8,i,r)}function PC(i){ke.flags|=4;var r=ke.updateQueue;if(r===null)r=Nh(),ke.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function R0(i){var r=Ut().memoizedState;return PC({ref:r,nextImpl:i}),function(){if((st&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function I0(i,r){return Ph(4,2,i,r)}function C0(i,r){return Ph(4,4,i,r)}function N0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function D0(i,r,o){o=o!=null?o.concat([i]):null,Ph(4,4,N0.bind(null,r,i),o)}function Gm(){}function O0(i,r){var o=Ut();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Pm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function M0(i,r){var o=Ut();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Pm(r,c[1]))return c[0];if(c=i(),Ga){hn(!0);try{i()}finally{hn(!1)}}return o.memoizedState=[c,r],c}function Ym(i,r,o){return o===void 0||(Hs&1073741824)!==0&&(Ge&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=PE(),ke.lanes|=i,Lr|=i,o)}function P0(i,r,o,c){return Wn(o,r)?o:Go.current!==null?(i=Ym(i,o,c),Wn(i,r)||(Qt=!0),i):(Hs&42)===0||(Hs&1073741824)!==0&&(Ge&261930)===0?(Qt=!0,i.memoizedState=o):(i=PE(),ke.lanes|=i,Lr|=i,r)}function V0(i,r,o,c,d){var g=ae.p;ae.p=g!==0&&8>g?g:8;var T=J.T,S={};J.T=S,Qm(i,!1,r,o);try{var M=d(),$=J.S;if($!==null&&$(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=CC(M,c);Sc(i,r,Z,ni(i))}else Sc(i,r,c,ni(i))}catch(ie){Sc(i,r,{then:function(){},status:"rejected",reason:ie},ni())}finally{ae.p=g,T!==null&&S.types!==null&&(T.types=S.types),J.T=T}}function VC(){}function Km(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=L0(i).queue;V0(i,d,r,de,o===null?VC:function(){return k0(i),o(c)})}function L0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function k0(i){var r=L0(i);r.next===null&&(r=i.alternate.memoizedState),Sc(i,r.next.queue,{},ni())}function $m(){return mn(Bc)}function j0(){return Ut().memoizedState}function U0(){return Ut().memoizedState}function LC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=ni();i=Nr(o);var c=Dr(r,i,o);c!==null&&(zn(c,r,o),vc(c,r,o)),r={cache:xm()},i.payload=r;return}r=r.return}}function kC(i,r,o){var c=ni();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Vh(i)?B0(r,o):(o=fm(i,r,o,c),o!==null&&(zn(o,i,c),F0(o,r,c)))}function z0(i,r,o){var c=ni();Sc(i,r,o,c)}function Sc(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vh(i))B0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(d.hasEagerState=!0,d.eagerState=S,Wn(S,T))return ph(i,r,d,0),yt===null&&mh(),!1}catch{}if(o=fm(i,r,d,c),o!==null)return zn(o,i,c),F0(o,r,c),!0}return!1}function Qm(i,r,o,c){if(c={lane:2,revertLane:Rp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Vh(i)){if(r)throw Error(s(479))}else r=fm(i,o,c,2),r!==null&&zn(r,i,2)}function Vh(i){var r=i.alternate;return i===ke||r!==null&&r===ke}function B0(i,r){Yo=Ih=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function F0(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Yl(i,o)}}var Ac={readContext:mn,use:Dh,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Ac.useEffectEvent=Dt;var H0={readContext:mn,use:Dh,useCallback:function(i,r){return Cn().memoizedState=[i,r===void 0?null:r],i},useContext:mn,useEffect:w0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Mh(4194308,4,N0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Mh(4194308,4,i,r)},useInsertionEffect:function(i,r){Mh(4,2,i,r)},useMemo:function(i,r){var o=Cn();r=r===void 0?null:r;var c=i();if(Ga){hn(!0);try{i()}finally{hn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Cn();if(o!==void 0){var d=o(r);if(Ga){hn(!0);try{o(r)}finally{hn(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=kC.bind(null,ke,i),[c.memoizedState,i]},useRef:function(i){var r=Cn();return i={current:i},r.memoizedState=i},useState:function(i){i=Fm(i);var r=i.queue,o=z0.bind(null,ke,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Gm,useDeferredValue:function(i,r){var o=Cn();return Ym(o,i,r)},useTransition:function(){var i=Fm(!1);return i=V0.bind(null,ke,i.queue,!0,!1),Cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=ke,d=Cn();if(We){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),yt===null)throw Error(s(349));(Ge&127)!==0||u0(c,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,w0(f0.bind(null,c,g,i),[i]),c.flags|=2048,$o(9,{destroy:void 0},h0.bind(null,c,g,o,r),null),o},useId:function(){var i=Cn(),r=yt.identifierPrefix;if(We){var o=vs,c=_s;o=(c&~(1<<32-ot(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ch++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=NC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:$m,useFormState:T0,useActionState:T0,useOptimistic:function(i){var r=Cn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Qm.bind(null,ke,!0,o),o.dispatch=r,[i,r]},useMemoCache:Um,useCacheRefresh:function(){return Cn().memoizedState=LC.bind(null,ke)},useEffectEvent:function(i){var r=Cn(),o={impl:i};return r.memoizedState=o,function(){if((st&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Wm={readContext:mn,use:Dh,useCallback:O0,useContext:mn,useEffect:qm,useImperativeHandle:D0,useInsertionEffect:I0,useLayoutEffect:C0,useMemo:M0,useReducer:Oh,useRef:A0,useState:function(){return Oh(qs)},useDebugValue:Gm,useDeferredValue:function(i,r){var o=Ut();return P0(o,ft.memoizedState,i,r)},useTransition:function(){var i=Oh(qs)[0],r=Ut().memoizedState;return[typeof i=="boolean"?i:xc(i),r]},useSyncExternalStore:c0,useId:j0,useHostTransitionStatus:$m,useFormState:b0,useActionState:b0,useOptimistic:function(i,r){var o=Ut();return p0(o,ft,i,r)},useMemoCache:Um,useCacheRefresh:U0};Wm.useEffectEvent=R0;var q0={readContext:mn,use:Dh,useCallback:O0,useContext:mn,useEffect:qm,useImperativeHandle:D0,useInsertionEffect:I0,useLayoutEffect:C0,useMemo:M0,useReducer:Bm,useRef:A0,useState:function(){return Bm(qs)},useDebugValue:Gm,useDeferredValue:function(i,r){var o=Ut();return ft===null?Ym(o,i,r):P0(o,ft.memoizedState,i,r)},useTransition:function(){var i=Bm(qs)[0],r=Ut().memoizedState;return[typeof i=="boolean"?i:xc(i),r]},useSyncExternalStore:c0,useId:j0,useHostTransitionStatus:$m,useFormState:S0,useActionState:S0,useOptimistic:function(i,r){var o=Ut();return ft!==null?p0(o,ft,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Um,useCacheRefresh:U0};q0.useEffectEvent=R0;function Xm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:E({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Jm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=ni(),d=Nr(c);d.payload=r,o!=null&&(d.callback=o),r=Dr(i,d,c),r!==null&&(zn(r,i,c),vc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=ni(),d=Nr(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Dr(i,d,c),r!==null&&(zn(r,i,c),vc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=ni(),c=Nr(o);c.tag=2,r!=null&&(c.callback=r),r=Dr(i,c,o),r!==null&&(zn(r,i,o),vc(r,i,o))}};function G0(i,r,o,c,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!hc(o,c)||!hc(d,g):!0}function Y0(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Jm.enqueueReplaceState(r,r.state,null)}function Ya(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=E({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function K0(i){dh(i)}function $0(i){console.error(i)}function Q0(i){dh(i)}function Lh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function W0(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zm(i,r,o){return o=Nr(o),o.tag=3,o.payload={element:null},o.callback=function(){Lh(i,r)},o}function X0(i){return i=Nr(i),i.tag=3,i}function J0(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){W0(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){W0(r,o,c),typeof d!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function jC(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&zo(r,o,d,!0),o=Jn.current,o!==null){switch(o.tag){case 31:case 13:return _i===null?$h():o.alternate===null&&Ot===0&&(Ot=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===xh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Sp(i,c,d)),!1;case 22:return o.flags|=65536,c===xh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Sp(i,c,d)),!1}throw Error(s(435,o.tag))}return Sp(i,c,d),$h(),!1}if(We)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==_m&&(i=Error(s(422),{cause:c}),mc(mi(i,o)))):(c!==_m&&(r=Error(s(423),{cause:c}),mc(mi(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=mi(c,o),d=Zm(i.stateNode,c,d),Cm(i,d),Ot!==4&&(Ot=2)),!1;var g=Error(s(520),{cause:c});if(g=mi(g,o),Mc===null?Mc=[g]:Mc.push(g),Ot!==4&&(Ot=2),r===null)return!0;c=mi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Zm(o.stateNode,c,i),Cm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(kr===null||!kr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=X0(d),J0(d,i,o,c),Cm(o,d),!1}o=o.return}while(o!==null);return!1}var ep=Error(s(461)),Qt=!1;function pn(i,r,o,c){r.child=i===null?n0(r,null,o,c):qa(r,i.child,o,c)}function Z0(i,r,o,c,d){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return za(r),c=Vm(i,r,o,T,g,d),S=Lm(),i!==null&&!Qt?(km(i,r,d),Gs(i,r,d)):(We&&S&&gm(r),r.flags|=1,pn(i,r,c,d),r.child)}function eE(i,r,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!dm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,tE(i,r,g,c,d)):(i=yh(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!lp(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:hc,o(T,c)&&i.ref===r.ref)return Gs(i,r,d)}return r.flags|=1,i=Us(g,c),i.ref=r.ref,i.return=r,r.child=i}function tE(i,r,o,c,d){if(i!==null){var g=i.memoizedProps;if(hc(g,c)&&i.ref===r.ref)if(Qt=!1,r.pendingProps=c=g,lp(i,d))(i.flags&131072)!==0&&(Qt=!0);else return r.lanes=i.lanes,Gs(i,r,d)}return tp(i,r,o,c,d)}function nE(i,r,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,r.child=null;return iE(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Th(r,g!==null?g.cachePool:null),g!==null?r0(r,g):Dm(),a0(r);else return c=r.lanes=536870912,iE(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Th(r,g.cachePool),r0(r,g),Mr(),r.memoizedState=null):(i!==null&&Th(r,null),Dm(),Mr());return pn(i,r,d,o),r.child}function wc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function iE(i,r,o,c,d){var g=Am();return g=g===null?null:{parent:Kt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Th(r,null),Dm(),a0(r),i!==null&&zo(i,r,c,!0),r.childLanes=d,null}function kh(i,r){return r=Uh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function sE(i,r,o){return qa(r,i.child,null,o),i=kh(r,r.pendingProps),i.flags|=2,Zn(r),r.memoizedState=null,i}function UC(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(We){if(c.mode==="hidden")return i=kh(r,c),r.lanes=536870912,wc(null,i);if(Mm(r),(i=Et)?(i=gT(i,yi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ar!==null?{id:_s,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},o=Bv(i),o.return=r,r.child=o,dn=r,Et=null)):i=null,i===null)throw Rr(r);return r.lanes=536870912,null}return kh(r,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Mm(r),d)if(r.flags&256)r.flags&=-257,r=sE(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Qt||zo(i,r,o,!1),d=(o&i.childLanes)!==0,Qt||d){if(c=yt,c!==null&&(T=Kl(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,La(i,T),zn(c,i,T),ep;$h(),r=sE(i,r,o)}else i=g.treeContext,Et=vi(T.nextSibling),dn=r,We=!0,wr=null,yi=!1,i!==null&&qv(r,i),r=kh(r,c),r.flags|=4096;return r}return i=Us(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function jh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function tp(i,r,o,c,d){return za(r),o=Vm(i,r,o,c,void 0,d),c=Lm(),i!==null&&!Qt?(km(i,r,d),Gs(i,r,d)):(We&&c&&gm(r),r.flags|=1,pn(i,r,o,d),r.child)}function rE(i,r,o,c,d,g){return za(r),r.updateQueue=null,o=l0(r,c,o,d),o0(i),c=Lm(),i!==null&&!Qt?(km(i,r,g),Gs(i,r,g)):(We&&c&&gm(r),r.flags|=1,pn(i,r,o,g),r.child)}function aE(i,r,o,c,d){if(za(r),r.stateNode===null){var g=Lo,T=o.contextType;typeof T=="object"&&T!==null&&(g=mn(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Rm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?mn(T):Lo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Xm(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Jm.enqueueReplaceState(g,g.state,null),Tc(r,c,g,d),Ec(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,M=Ya(o,S);g.props=M;var $=g.context,Z=o.contextType;T=Lo,typeof Z=="object"&&Z!==null&&(T=mn(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==T)&&Y0(r,g,c,T),Cr=!1;var Q=r.memoizedState;g.state=Q,Tc(r,c,g,d),Ec(),$=r.memoizedState,S||Q!==$||Cr?(typeof ie=="function"&&(Xm(r,o,ie,c),$=r.memoizedState),(M=Cr||G0(r,o,M,c,Q,$,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),g.props=c,g.state=$,g.context=T,c=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Im(i,r),T=r.memoizedProps,Z=Ya(o,T),g.props=Z,ie=r.pendingProps,Q=g.context,$=o.contextType,M=Lo,typeof $=="object"&&$!==null&&(M=mn($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ie||Q!==M)&&Y0(r,g,c,M),Cr=!1,Q=r.memoizedState,g.state=Q,Tc(r,c,g,d),Ec();var X=r.memoizedState;T!==ie||Q!==X||Cr||i!==null&&i.dependencies!==null&&vh(i.dependencies)?(typeof S=="function"&&(Xm(r,o,S,c),X=r.memoizedState),(Z=Cr||G0(r,o,Z,c,Q,X,M)||i!==null&&i.dependencies!==null&&vh(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=M,c=Z):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,jh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=qa(r,i.child,null,d),r.child=qa(r,null,o,d)):pn(i,r,o,d),r.memoizedState=g.state,i=r.child):i=Gs(i,r,d),i}function oE(i,r,o,c){return ja(),r.flags|=256,pn(i,r,o,c),r.child}var np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(i){return{baseLanes:i,cachePool:Wv()}}function sp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ti),i}function lE(i,r,o){var c=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(We){if(d?Or(r):Mr(),(i=Et)?(i=gT(i,yi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ar!==null?{id:_s,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},o=Bv(i),o.return=r,r.child=o,dn=r,Et=null)):i=null,i===null)throw Rr(r);return zp(i)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,d?(Mr(),d=r.mode,S=Uh({mode:"hidden",children:S},d),c=ka(c,d,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=ip(o),c.childLanes=sp(i,T,o),r.memoizedState=np,wc(null,c)):(Or(r),rp(r,S))}var M=i.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(g)r.flags&256?(Or(r),r.flags&=-257,r=ap(i,r,o)):r.memoizedState!==null?(Mr(),r.child=i.child,r.flags|=128,r=null):(Mr(),S=c.fallback,d=r.mode,c=Uh({mode:"visible",children:c.children},d),S=ka(S,d,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,qa(r,i.child,null,o),c=r.child,c.memoizedState=ip(o),c.childLanes=sp(i,T,o),r.memoizedState=np,r=wc(null,c));else if(Or(r),zp(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var $=T.dgst;T=$,c=Error(s(419)),c.stack="",c.digest=T,mc({value:c,source:null,stack:null}),r=ap(i,r,o)}else if(Qt||zo(i,r,o,!1),T=(o&i.childLanes)!==0,Qt||T){if(T=yt,T!==null&&(c=Kl(T,o),c!==0&&c!==M.retryLane))throw M.retryLane=c,La(i,c),zn(T,i,c),ep;Up(S)||$h(),r=ap(i,r,o)}else Up(S)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,Et=vi(S.nextSibling),dn=r,We=!0,wr=null,yi=!1,i!==null&&qv(r,i),r=rp(r,c.children),r.flags|=4096);return r}return d?(Mr(),S=c.fallback,d=r.mode,M=i.child,$=M.sibling,c=Us(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,$!==null?S=Us($,S):(S=ka(S,d,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,wc(null,c),c=r.child,S=i.child.memoizedState,S===null?S=ip(o):(d=S.cachePool,d!==null?(M=Kt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Wv(),S={baseLanes:S.baseLanes|o,cachePool:d}),c.memoizedState=S,c.childLanes=sp(i,T,o),r.memoizedState=np,wc(i.child,c)):(Or(r),o=i.child,i=o.sibling,o=Us(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function rp(i,r){return r=Uh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Uh(i,r){return i=Xn(22,i,null,r),i.lanes=0,i}function ap(i,r,o){return qa(r,i.child,null,o),i=rp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function cE(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Tm(i.return,r,o)}function op(i,r,o,c,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function uE(i,r,o){var c=r.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var T=jt.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ce(jt,T),pn(i,r,c,o),c=We?dc:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cE(i,o,r);else if(i.tag===19)cE(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Rh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),op(r,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Rh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}op(r,!0,o,null,g,c);break;case"together":op(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Gs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Lr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(zo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Us(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Us(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function lp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&vh(i)))}function zC(i,r,o){switch(r.tag){case 3:Be(r,r.stateNode.containerInfo),Ir(r,Kt,i.memoizedState.cache),ja();break;case 27:case 5:he(r);break;case 4:Be(r,r.stateNode.containerInfo);break;case 10:Ir(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Mm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Or(r),r.flags|=128,null):(o&r.child.childLanes)!==0?lE(i,r,o):(Or(r),i=Gs(i,r,o),i!==null?i.sibling:null);Or(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(zo(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return uE(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(jt,jt.current),c)break;return null;case 22:return r.lanes=0,nE(i,r,o,r.pendingProps);case 24:Ir(r,Kt,i.memoizedState.cache)}return Gs(i,r,o)}function hE(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Qt=!0;else{if(!lp(i,o)&&(r.flags&128)===0)return Qt=!1,zC(i,r,o);Qt=(i.flags&131072)!==0}else Qt=!1,We&&(r.flags&1048576)!==0&&Hv(r,dc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Fa(r.elementType),r.type=i,typeof i=="function")dm(i)?(c=Ya(i,c),r.tag=1,r=aE(null,r,i,c,o)):(r.tag=0,r=tp(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===re){r.tag=11,r=Z0(null,r,i,c,o);break e}else if(d===C){r.tag=14,r=eE(null,r,i,c,o);break e}}throw r=De(i)||i,Error(s(306,r,""))}}return r;case 0:return tp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=Ya(c,r.pendingProps),aE(i,r,c,d,o);case 3:e:{if(Be(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;d=g.element,Im(i,r),Tc(r,c,null,o);var T=r.memoizedState;if(c=T.cache,Ir(r,Kt,c),c!==g.cache&&bm(r,[Kt],o,!0),Ec(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=oE(i,r,c,o);break e}else if(c!==d){d=mi(Error(s(424)),r),mc(d),r=oE(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Et=vi(i.firstChild),dn=r,We=!0,wr=null,yi=!0,o=n0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ja(),c===d){r=Gs(i,r,o);break e}pn(i,r,c,o)}r=r.child}return r;case 26:return jh(i,r),i===null?(o=bT(r.type,null,r.pendingProps,null))?r.memoizedState=o:We||(o=r.type,i=r.pendingProps,c=tf(we.current).createElement(o),c[qt]=r,c[on]=i,gn(c,o,i),Gt(c),r.stateNode=c):r.memoizedState=bT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return he(r),i===null&&We&&(c=r.stateNode=vT(r.type,r.pendingProps,we.current),dn=r,yi=!0,d=Et,Br(r.type)?(Bp=d,Et=vi(c.firstChild)):Et=d),pn(i,r,r.pendingProps.children,o),jh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&We&&((d=c=Et)&&(c=gN(c,r.type,r.pendingProps,yi),c!==null?(r.stateNode=c,dn=r,Et=vi(c.firstChild),yi=!1,d=!0):d=!1),d||Rr(r)),he(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,Lp(d,g)?c=null:T!==null&&Lp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=Vm(i,r,DC,null,null,o),Bc._currentValue=d),jh(i,r),pn(i,r,c,o),r.child;case 6:return i===null&&We&&((i=o=Et)&&(o=yN(o,r.pendingProps,yi),o!==null?(r.stateNode=o,dn=r,Et=null,i=!0):i=!1),i||Rr(r)),null;case 13:return lE(i,r,o);case 4:return Be(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=qa(r,null,c,o):pn(i,r,c,o),r.child;case 11:return Z0(i,r,r.type,r.pendingProps,o);case 7:return pn(i,r,r.pendingProps,o),r.child;case 8:return pn(i,r,r.pendingProps.children,o),r.child;case 12:return pn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Ir(r,r.type,c.value),pn(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,za(r),d=mn(d),c=c(d),r.flags|=1,pn(i,r,c,o),r.child;case 14:return eE(i,r,r.type,r.pendingProps,o);case 15:return tE(i,r,r.type,r.pendingProps,o);case 19:return uE(i,r,o);case 31:return UC(i,r,o);case 22:return nE(i,r,o,r.pendingProps);case 24:return za(r),c=mn(Kt),i===null?(d=Am(),d===null&&(d=yt,g=xm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:c,cache:d},Rm(r),Ir(r,Kt,d)):((i.lanes&o)!==0&&(Im(i,r),Tc(r,null,null,o),Ec()),d=i.memoizedState,g=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Ir(r,Kt,c)):(c=g.cache,Ir(r,Kt,c),c!==d.cache&&bm(r,[Kt],o,!0))),pn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ys(i){i.flags|=4}function cp(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(jE())i.flags|=8192;else throw Ha=xh,wm}else i.flags&=-16777217}function fE(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!RT(r))if(jE())i.flags|=8192;else throw Ha=xh,wm}function zh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Yu():536870912,i.lanes|=r,Jo|=r)}function Rc(i,r){if(!We)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Tt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function BC(i,r,o){var c=r.pendingProps;switch(ym(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(r),null;case 1:return Tt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Fs(Kt),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Uo(r)?Ys(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vm())),Tt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(Ys(r),g!==null?(Tt(r),fE(r,g)):(Tt(r),cp(r,d,null,c,o))):g?g!==i.memoizedState?(Ys(r),Tt(r),fE(r,g)):(Tt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ys(r),Tt(r),cp(r,d,i,c,o)),null;case 27:if(Ue(r),o=we.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ys(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Tt(r),null}i=pe.current,Uo(r)?Gv(r):(i=vT(d,c,o),r.stateNode=i,Ys(r))}return Tt(r),null;case 5:if(Ue(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ys(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Tt(r),null}if(g=pe.current,Uo(r))Gv(r);else{var T=tf(we.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}g[qt]=r,g[on]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(gn(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ys(r)}}return Tt(r),cp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ys(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=we.current,Uo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=dn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[qt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||lT(i.nodeValue,o)),i||Rr(r,!0)}else i=tf(i).createTextNode(c),i[qt]=r,r.stateNode=i}return Tt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Uo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[qt]=r}else ja(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),i=!1}else o=vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Zn(r),r):(Zn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Tt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Uo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[qt]=r}else ja(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),d=!1}else d=vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Zn(r),r):(Zn(r),null)}return Zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),zh(r,r.updateQueue),Tt(r),null);case 4:return nt(),i===null&&Dp(r.stateNode.containerInfo),Tt(r),null;case 10:return Fs(r.type),Tt(r),null;case 19:if(ee(jt),c=r.memoizedState,c===null)return Tt(r),null;if(d=(r.flags&128)!==0,g=c.rendering,g===null)if(d)Rc(c,!1);else{if(Ot!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Rh(i),g!==null){for(r.flags|=128,Rc(c,!1),i=g.updateQueue,r.updateQueue=i,zh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)zv(o,i),o=o.sibling;return ce(jt,jt.current&1|2),We&&zs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&gt()>Gh&&(r.flags|=128,d=!0,Rc(c,!1),r.lanes=4194304)}else{if(!d)if(i=Rh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,zh(r,i),Rc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!We)return Tt(r),null}else 2*gt()-c.renderingStartTime>Gh&&o!==536870912&&(r.flags|=128,d=!0,Rc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=gt(),i.sibling=null,o=jt.current,ce(jt,d?o&1|2:o&1),We&&zs(r,c.treeForkCount),i):(Tt(r),null);case 22:case 23:return Zn(r),Om(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Tt(r),r.subtreeFlags&6&&(r.flags|=8192)):Tt(r),o=r.updateQueue,o!==null&&zh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ee(Ba),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Fs(Kt),Tt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function FC(i,r){switch(ym(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Fs(Kt),nt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ue(r),null;case 31:if(r.memoizedState!==null){if(Zn(r),r.alternate===null)throw Error(s(340));ja()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Zn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ja()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(jt),null;case 4:return nt(),null;case 10:return Fs(r.type),null;case 22:case 23:return Zn(r),Om(),i!==null&&ee(Ba),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Fs(Kt),null;case 25:return null;default:return null}}function dE(i,r){switch(ym(r),r.tag){case 3:Fs(Kt),nt();break;case 26:case 27:case 5:Ue(r);break;case 4:nt();break;case 31:r.memoizedState!==null&&Zn(r);break;case 13:Zn(r);break;case 19:ee(jt);break;case 10:Fs(r.type);break;case 22:case 23:Zn(r),Om(),i!==null&&ee(Ba);break;case 24:Fs(Kt)}}function Ic(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==d)}}catch(S){ut(r,r.return,S)}}function Pr(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=r;var M=o,$=S;try{$()}catch(Z){ut(d,M,Z)}}}c=c.next}while(c!==g)}}catch(Z){ut(r,r.return,Z)}}function mE(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{s0(r,o)}catch(c){ut(i,i.return,c)}}}function pE(i,r,o){o.props=Ya(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){ut(i,r,c)}}function Cc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){ut(i,r,d)}}function Es(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){ut(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ut(i,r,d)}else o.current=null}function gE(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){ut(i,i.return,d)}}function up(i,r,o){try{var c=i.stateNode;uN(c,i.type,o,r),c[on]=r}catch(d){ut(i,i.return,d)}}function yE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Br(i.type)||i.tag===4}function hp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Br(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Vi));else if(c!==4&&(c===27&&Br(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(fp(i,r,o),i=i.sibling;i!==null;)fp(i,r,o),i=i.sibling}function Bh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Br(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Bh(i,r,o),i=i.sibling;i!==null;)Bh(i,r,o),i=i.sibling}function _E(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);gn(r,c,o),r[qt]=i,r[on]=o}catch(g){ut(i,i.return,g)}}var Ks=!1,Wt=!1,dp=!1,vE=typeof WeakSet=="function"?WeakSet:Set,cn=null;function HC(i,r){if(i=i.containerInfo,Pp=cf,i=Dv(i),am(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,S=-1,M=-1,$=0,Z=0,ie=i,Q=null;t:for(;;){for(var X;ie!==o||d!==0&&ie.nodeType!==3||(S=T+d),ie!==g||c!==0&&ie.nodeType!==3||(M=T+c),ie.nodeType===3&&(T+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Q=ie,ie=X;for(;;){if(ie===i)break t;if(Q===o&&++$===d&&(S=T),Q===g&&++Z===c&&(M=T),(X=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=X}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:i,selectionRange:o},cf=!1,cn=r;cn!==null;)if(r=cn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,cn=i;else for(;cn!==null;){switch(r=cn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var _e=Ya(o.type,d);i=c.getSnapshotBeforeUpdate(_e,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){ut(o,o.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,cn=i;break}cn=r.return}}function EE(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Qs(i,o),c&4&&Ic(5,o);break;case 1:if(Qs(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){ut(o,o.return,T)}else{var d=Ya(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ut(o,o.return,T)}}c&64&&mE(o),c&512&&Cc(o,o.return);break;case 3:if(Qs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{s0(i,r)}catch(T){ut(o,o.return,T)}}break;case 27:r===null&&c&4&&_E(o);case 26:case 5:Qs(i,o),r===null&&c&4&&gE(o),c&512&&Cc(o,o.return);break;case 12:Qs(i,o);break;case 31:Qs(i,o),c&4&&xE(i,o);break;case 13:Qs(i,o),c&4&&SE(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=JC.bind(null,o),_N(i,o))));break;case 22:if(c=o.memoizedState!==null||Ks,!c){r=r!==null&&r.memoizedState!==null||Wt,d=Ks;var g=Wt;Ks=c,(Wt=r)&&!g?Ws(i,o,(o.subtreeFlags&8772)!==0):Qs(i,o),Ks=d,Wt=g}break;case 30:break;default:Qs(i,o)}}function TE(i){var r=i.alternate;r!==null&&(i.alternate=null,TE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&bo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,Ln=!1;function $s(i,r,o){for(o=o.child;o!==null;)bE(i,r,o),o=o.sibling}function bE(i,r,o){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Kn,o)}catch{}switch(o.tag){case 26:Wt||Es(o,r),$s(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Wt||Es(o,r);var c=Rt,d=Ln;Br(o.type)&&(Rt=o.stateNode,Ln=!1),$s(i,r,o),jc(o.stateNode),Rt=c,Ln=d;break;case 5:Wt||Es(o,r);case 6:if(c=Rt,d=Ln,Rt=null,$s(i,r,o),Rt=c,Ln=d,Rt!==null)if(Ln)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(g){ut(o,r,g)}else try{Rt.removeChild(o.stateNode)}catch(g){ut(o,r,g)}break;case 18:Rt!==null&&(Ln?(i=Rt,mT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),al(i)):mT(Rt,o.stateNode));break;case 4:c=Rt,d=Ln,Rt=o.stateNode.containerInfo,Ln=!0,$s(i,r,o),Rt=c,Ln=d;break;case 0:case 11:case 14:case 15:Pr(2,o,r),Wt||Pr(4,o,r),$s(i,r,o);break;case 1:Wt||(Es(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&pE(o,r,c)),$s(i,r,o);break;case 21:$s(i,r,o);break;case 22:Wt=(c=Wt)||o.memoizedState!==null,$s(i,r,o),Wt=c;break;default:$s(i,r,o)}}function xE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{al(i)}catch(o){ut(r,r.return,o)}}}function SE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{al(i)}catch(o){ut(r,r.return,o)}}function qC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new vE),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new vE),r;default:throw Error(s(435,i.tag))}}function Fh(i,r){var o=qC(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=ZC.bind(null,i,c);c.then(d,d)}})}function kn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Br(S.type)){Rt=S.stateNode,Ln=!1;break e}break;case 5:Rt=S.stateNode,Ln=!1;break e;case 3:case 4:Rt=S.stateNode.containerInfo,Ln=!0;break e}S=S.return}if(Rt===null)throw Error(s(160));bE(g,T,d),Rt=null,Ln=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)AE(r,i),r=r.sibling}var Bi=null;function AE(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:kn(r,i),jn(i),c&4&&(Pr(3,i,i.return),Ic(3,i),Pr(5,i,i.return));break;case 1:kn(r,i),jn(i),c&512&&(Wt||o===null||Es(o,o.return)),c&64&&Ks&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Bi;if(kn(r,i),jn(i),c&512&&(Wt||o===null||Es(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[as]||g[qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),gn(g,c,o),g[qt]=i,Gt(g),c=g;break e;case"link":var T=AT("link","href",d).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}g=d.createElement(c),gn(g,c,o),d.head.appendChild(g);break;case"meta":if(T=AT("meta","content",d).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}g=d.createElement(c),gn(g,c,o),d.head.appendChild(g);break;default:throw Error(s(468,c))}g[qt]=i,Gt(g),c=g}i.stateNode=c}else wT(d,i.type,i.stateNode);else i.stateNode=ST(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?wT(d,i.type,i.stateNode):ST(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&up(i,i.memoizedProps,o.memoizedProps)}break;case 27:kn(r,i),jn(i),c&512&&(Wt||o===null||Es(o,o.return)),o!==null&&c&4&&up(i,i.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,i),jn(i),c&512&&(Wt||o===null||Es(o,o.return)),i.flags&32){d=i.stateNode;try{Vn(d,"")}catch(_e){ut(i,i.return,_e)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,up(i,d,o!==null?o.memoizedProps:d)),c&1024&&(dp=!0);break;case 6:if(kn(r,i),jn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(_e){ut(i,i.return,_e)}}break;case 3:if(rf=null,d=Bi,Bi=nf(r.containerInfo),kn(r,i),Bi=d,jn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{al(r.containerInfo)}catch(_e){ut(i,i.return,_e)}dp&&(dp=!1,wE(i));break;case 4:c=Bi,Bi=nf(i.stateNode.containerInfo),kn(r,i),jn(i),Bi=c;break;case 12:kn(r,i),jn(i);break;case 31:kn(r,i),jn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Fh(i,c)));break;case 13:kn(r,i),jn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qh=gt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Fh(i,c)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,$=Ks,Z=Wt;if(Ks=$||d,Wt=Z||M,kn(r,i),Wt=Z,Ks=$,jn(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||Ks||Wt||Ka(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=M.stateNode;var ie=M.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(_e){ut(M,M.return,_e)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(_e){ut(M,M.return,_e)}}}else if(r.tag===18){if(o===null){M=r;try{var X=M.stateNode;d?pT(X,!0):pT(M.stateNode,!1)}catch(_e){ut(M,M.return,_e)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Fh(i,o))));break;case 19:kn(r,i),jn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Fh(i,c)));break;case 30:break;case 21:break;default:kn(r,i),jn(i)}}function jn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(yE(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=hp(i);Bh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Vn(T,""),o.flags&=-33);var S=hp(i);Bh(i,S,T);break;case 3:case 4:var M=o.stateNode.containerInfo,$=hp(i);fp(i,$,M);break;default:throw Error(s(161))}}catch(Z){ut(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function wE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;wE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Qs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)EE(i,r.alternate,r),r=r.sibling}function Ka(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Pr(4,r,r.return),Ka(r);break;case 1:Es(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&pE(r,r.return,o),Ka(r);break;case 27:jc(r.stateNode);case 26:case 5:Es(r,r.return),Ka(r);break;case 22:r.memoizedState===null&&Ka(r);break;case 30:Ka(r);break;default:Ka(r)}i=i.sibling}}function Ws(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ws(d,g,o),Ic(4,g);break;case 1:if(Ws(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){ut(c,c.return,$)}if(c=g,d=c.updateQueue,d!==null){var S=c.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)i0(M[d],S)}catch($){ut(c,c.return,$)}}o&&T&64&&mE(g),Cc(g,g.return);break;case 27:_E(g);case 26:case 5:Ws(d,g,o),o&&c===null&&T&4&&gE(g),Cc(g,g.return);break;case 12:Ws(d,g,o);break;case 31:Ws(d,g,o),o&&T&4&&xE(d,g);break;case 13:Ws(d,g,o),o&&T&4&&SE(d,g);break;case 22:g.memoizedState===null&&Ws(d,g,o),Cc(g,g.return);break;case 30:break;default:Ws(d,g,o)}r=r.sibling}}function mp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&pc(o))}function pp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&pc(i))}function Fi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)RE(i,r,o,c),r=r.sibling}function RE(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(i,r,o,c),d&2048&&Ic(9,r);break;case 1:Fi(i,r,o,c);break;case 3:Fi(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&pc(i)));break;case 12:if(d&2048){Fi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){ut(r,r.return,M)}}else Fi(i,r,o,c);break;case 31:Fi(i,r,o,c);break;case 13:Fi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Fi(i,r,o,c):Nc(i,r):g._visibility&2?Fi(i,r,o,c):(g._visibility|=2,Qo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&mp(T,r);break;case 24:Fi(i,r,o,c),d&2048&&pp(r.alternate,r);break;default:Fi(i,r,o,c)}}function Qo(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,S=o,M=c,$=T.flags;switch(T.tag){case 0:case 11:case 15:Qo(g,T,S,M,d),Ic(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Qo(g,T,S,M,d):Nc(g,T):(Z._visibility|=2,Qo(g,T,S,M,d)),d&&$&2048&&mp(T.alternate,T);break;case 24:Qo(g,T,S,M,d),d&&$&2048&&pp(T.alternate,T);break;default:Qo(g,T,S,M,d)}r=r.sibling}}function Nc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:Nc(o,c),d&2048&&mp(c.alternate,c);break;case 24:Nc(o,c),d&2048&&pp(c.alternate,c);break;default:Nc(o,c)}r=r.sibling}}var Dc=8192;function Wo(i,r,o){if(i.subtreeFlags&Dc)for(i=i.child;i!==null;)IE(i,r,o),i=i.sibling}function IE(i,r,o){switch(i.tag){case 26:Wo(i,r,o),i.flags&Dc&&i.memoizedState!==null&&NN(o,Bi,i.memoizedState,i.memoizedProps);break;case 5:Wo(i,r,o);break;case 3:case 4:var c=Bi;Bi=nf(i.stateNode.containerInfo),Wo(i,r,o),Bi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Dc,Dc=16777216,Wo(i,r,o),Dc=c):Wo(i,r,o));break;default:Wo(i,r,o)}}function CE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Oc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];cn=c,DE(c,i)}CE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)NE(i),i=i.sibling}function NE(i){switch(i.tag){case 0:case 11:case 15:Oc(i),i.flags&2048&&Pr(9,i,i.return);break;case 3:Oc(i);break;case 12:Oc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Hh(i)):Oc(i);break;default:Oc(i)}}function Hh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];cn=c,DE(c,i)}CE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Pr(8,r,r.return),Hh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Hh(r));break;default:Hh(r)}i=i.sibling}}function DE(i,r){for(;cn!==null;){var o=cn;switch(o.tag){case 0:case 11:case 15:Pr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:pc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,cn=c;else e:for(o=i;cn!==null;){c=cn;var d=c.sibling,g=c.return;if(TE(c),c===o){cn=null;break e}if(d!==null){d.return=g,cn=d;break e}cn=g}}}var GC={getCacheForType:function(i){var r=mn(Kt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return mn(Kt).controller.signal}},YC=typeof WeakMap=="function"?WeakMap:Map,st=0,yt=null,He=null,Ge=0,ct=0,ei=null,Vr=!1,Xo=!1,gp=!1,Xs=0,Ot=0,Lr=0,$a=0,yp=0,ti=0,Jo=0,Mc=null,Un=null,_p=!1,qh=0,OE=0,Gh=1/0,Yh=null,kr=null,nn=0,jr=null,Zo=null,Js=0,vp=0,Ep=null,ME=null,Pc=0,Tp=null;function ni(){return(st&2)!==0&&Ge!==0?Ge&-Ge:J.T!==null?Rp():Ku()}function PE(){if(ti===0)if((Ge&536870912)===0||We){var i=Ta;Ta<<=1,(Ta&3932160)===0&&(Ta=262144),ti=i}else ti=536870912;return i=Jn.current,i!==null&&(i.flags|=32),ti}function zn(i,r,o){(i===yt&&(ct===2||ct===9)||i.cancelPendingCommit!==null)&&(el(i,0),Ur(i,Ge,ti,!1)),ba(i,o),((st&2)===0||i!==yt)&&(i===yt&&((st&2)===0&&($a|=o),Ot===4&&Ur(i,Ge,ti,!1)),Ts(i))}function VE(i,r,o){if((st&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Oi(i,r),d=c?QC(i,r):xp(i,r,!0),g=c;do{if(d===0){Xo&&!c&&Ur(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!KC(o)){d=xp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=i;d=Mc;var M=S.current.memoizedState.isDehydrated;if(M&&(el(S,T).flags|=256),T=xp(S,T,!1),T!==2){if(gp&&!M){S.errorRecoveryDisabledLanes|=g,$a|=g,d=4;break e}g=Un,Un=d,g!==null&&(Un===null?Un=g:Un.push.apply(Un,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){el(i,0),Ur(i,r,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ur(c,r,ti,!Vr);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=qh+300-gt(),10<d)){if(Ur(c,r,ti,!Vr),is(c,0,!0)!==0)break e;Js=r,c.timeoutHandle=fT(LE.bind(null,c,o,Un,Yh,_p,r,ti,$a,Jo,Vr,g,"Throttled",-0,0),d);break e}LE(c,o,Un,Yh,_p,r,ti,$a,Jo,Vr,g,null,-0,0)}}break}while(!0);Ts(i)}function LE(i,r,o,c,d,g,T,S,M,$,Z,ie,Q,X){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vi},IE(r,g,ie);var _e=(g&62914560)===g?qh-gt():(g&4194048)===g?OE-gt():0;if(_e=DN(ie,_e),_e!==null){Js=g,i.cancelPendingCommit=_e(qE.bind(null,i,r,g,o,c,d,T,S,M,Z,ie,null,Q,X)),Ur(i,g,T,!$);return}}qE(i,r,g,o,c,d,T,S,M)}function KC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Wn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ur(i,r,o,c){r&=~yp,r&=~$a,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var g=31-ot(d),T=1<<g;c[g]=-1,d&=~T}o!==0&&xa(i,o,r)}function Kh(){return(st&6)===0?(Vc(0),!1):!0}function bp(){if(He!==null){if(ct===0)var i=He.return;else i=He,Bs=Ua=null,jm(i),qo=null,yc=0,i=He;for(;i!==null;)dE(i.alternate,i),i=i.return;He=null}}function el(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,dN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Js=0,bp(),yt=i,He=o=Us(i.current,null),Ge=r,ct=0,ei=null,Vr=!1,Xo=Oi(i,r),gp=!1,Jo=ti=yp=$a=Lr=Ot=0,Un=Mc=null,_p=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-ot(c),g=1<<d;r|=i[d],c&=~g}return Xs=r,mh(),o}function kE(i,r){ke=null,J.H=Ac,r===Ho||r===bh?(r=Zv(),ct=3):r===wm?(r=Zv(),ct=4):ct=r===ep?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ei=r,He===null&&(Ot=1,Lh(i,mi(r,i.current)))}function jE(){var i=Jn.current;return i===null?!0:(Ge&4194048)===Ge?_i===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?i===_i:!1}function UE(){var i=J.H;return J.H=Ac,i===null?Ac:i}function zE(){var i=J.A;return J.A=GC,i}function $h(){Ot=4,Vr||(Ge&4194048)!==Ge&&Jn.current!==null||(Xo=!0),(Lr&134217727)===0&&($a&134217727)===0||yt===null||Ur(yt,Ge,ti,!1)}function xp(i,r,o){var c=st;st|=2;var d=UE(),g=zE();(yt!==i||Ge!==r)&&(Yh=null,el(i,r)),r=!1;var T=Ot;e:do try{if(ct!==0&&He!==null){var S=He,M=ei;switch(ct){case 8:bp(),T=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var $=ct;if(ct=0,ei=null,tl(i,S,M,$),o&&Xo){T=0;break e}break;default:$=ct,ct=0,ei=null,tl(i,S,M,$)}}$C(),T=Ot;break}catch(Z){kE(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Bs=Ua=null,st=c,J.H=d,J.A=g,He===null&&(yt=null,Ge=0,mh()),T}function $C(){for(;He!==null;)BE(He)}function QC(i,r){var o=st;st|=2;var c=UE(),d=zE();yt!==i||Ge!==r?(Yh=null,Gh=gt()+500,el(i,r)):Xo=Oi(i,r);e:do try{if(ct!==0&&He!==null){r=He;var g=ei;t:switch(ct){case 1:ct=0,ei=null,tl(i,r,g,1);break;case 2:case 9:if(Xv(g)){ct=0,ei=null,FE(r);break}r=function(){ct!==2&&ct!==9||yt!==i||(ct=7),Ts(i)},g.then(r,r);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Xv(g)?(ct=0,ei=null,FE(r)):(ct=0,ei=null,tl(i,r,g,7));break;case 5:var T=null;switch(He.tag){case 26:T=He.memoizedState;case 5:case 27:var S=He;if(T?RT(T):S.stateNode.complete){ct=0,ei=null;var M=S.sibling;if(M!==null)He=M;else{var $=S.return;$!==null?(He=$,Qh($)):He=null}break t}}ct=0,ei=null,tl(i,r,g,5);break;case 6:ct=0,ei=null,tl(i,r,g,6);break;case 8:bp(),Ot=6;break e;default:throw Error(s(462))}}WC();break}catch(Z){kE(i,Z)}while(!0);return Bs=Ua=null,J.H=c,J.A=d,st=o,He!==null?0:(yt=null,Ge=0,mh(),Ot)}function WC(){for(;He!==null&&!be();)BE(He)}function BE(i){var r=hE(i.alternate,i,Xs);i.memoizedProps=i.pendingProps,r===null?Qh(i):He=r}function FE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=rE(o,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=rE(o,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:jm(r);default:dE(o,r),r=He=zv(r,Xs),r=hE(o,r,Xs)}i.memoizedProps=i.pendingProps,r===null?Qh(i):He=r}function tl(i,r,o,c){Bs=Ua=null,jm(r),qo=null,yc=0;var d=r.return;try{if(jC(i,d,r,o,Ge)){Ot=1,Lh(i,mi(o,i.current)),He=null;return}}catch(g){if(d!==null)throw He=d,g;Ot=1,Lh(i,mi(o,i.current)),He=null;return}r.flags&32768?(We||c===1?i=!0:Xo||(Ge&536870912)!==0?i=!1:(Vr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),HE(r,i)):Qh(r)}function Qh(i){var r=i;do{if((r.flags&32768)!==0){HE(r,Vr);return}i=r.return;var o=BC(r.alternate,r,Xs);if(o!==null){He=o;return}if(r=r.sibling,r!==null){He=r;return}He=r=i}while(r!==null);Ot===0&&(Ot=5)}function HE(i,r){do{var o=FC(i.alternate,i);if(o!==null){o.flags&=32767,He=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){He=i;return}He=i=o}while(i!==null);Ot=6,He=null}function qE(i,r,o,c,d,g,T,S,M){i.cancelPendingCommit=null;do Wh();while(nn!==0);if((st&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=hm,nm(i,o,g,T,S,M),i===yt&&(He=yt=null,Ge=0),Zo=r,jr=i,Js=o,vp=g,Ep=d,ME=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eN(me,function(){return QE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,d=ae.p,ae.p=2,T=st,st|=4;try{HC(i,r,o)}finally{st=T,ae.p=d,J.T=c}}nn=1,GE(),YE(),KE()}}function GE(){if(nn===1){nn=0;var i=jr,r=Zo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=ae.p;ae.p=2;var d=st;st|=4;try{AE(r,i);var g=Vp,T=Dv(i.containerInfo),S=g.focusedElem,M=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&Nv(S.ownerDocument.documentElement,S)){if(M!==null&&am(S)){var $=M.start,Z=M.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ie=S.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),_e=S.textContent.length,Ae=Math.min(M.start,_e),mt=M.end===void 0?Ae:Math.min(M.end,_e);!X.extend&&Ae>mt&&(T=mt,mt=Ae,Ae=T);var F=Cv(S,Ae),z=Cv(S,mt);if(F&&z&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var K=ie.createRange();K.setStart(F.node,F.offset),X.removeAllRanges(),Ae>mt?(X.addRange(K),X.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),X.addRange(K))}}}}for(ie=[],X=S;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}cf=!!Pp,Vp=Pp=null}finally{st=d,ae.p=c,J.T=o}}i.current=r,nn=2}}function YE(){if(nn===2){nn=0;var i=jr,r=Zo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=ae.p;ae.p=2;var d=st;st|=4;try{EE(i,r.alternate,r)}finally{st=d,ae.p=c,J.T=o}}nn=3}}function KE(){if(nn===4||nn===3){nn=0,pt();var i=jr,r=Zo,o=Js,c=ME;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?nn=5:(nn=0,Zo=jr=null,$E(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(kr=null),Vs(o),r=r.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Kn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=J.T,d=ae.p,ae.p=2,J.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{J.T=r,ae.p=d}}(Js&3)!==0&&Wh(),Ts(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Tp?Pc++:(Pc=0,Tp=i):Pc=0,Vc(0)}}function $E(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,pc(r)))}function Wh(){return GE(),YE(),KE(),QE()}function QE(){if(nn!==5)return!1;var i=jr,r=vp;vp=0;var o=Vs(Js),c=J.T,d=ae.p;try{ae.p=32>o?32:o,J.T=null,o=Ep,Ep=null;var g=jr,T=Js;if(nn=0,Zo=jr=null,Js=0,(st&6)!==0)throw Error(s(331));var S=st;if(st|=4,NE(g.current),RE(g,g.current,T,o),st=S,Vc(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Kn,g)}catch{}return!0}finally{ae.p=d,J.T=c,$E(i,r)}}function WE(i,r,o){r=mi(o,r),r=Zm(i.stateNode,r,2),i=Dr(i,r,2),i!==null&&(ba(i,2),Ts(i))}function ut(i,r,o){if(i.tag===3)WE(i,i,o);else for(;r!==null;){if(r.tag===3){WE(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(kr===null||!kr.has(c))){i=mi(o,i),o=X0(2),c=Dr(r,o,2),c!==null&&(J0(o,c,r,i),ba(c,2),Ts(c));break}}r=r.return}}function Sp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new YC;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(gp=!0,d.add(o),i=XC.bind(null,i,r,o),r.then(i,i))}function XC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,yt===i&&(Ge&o)===o&&(Ot===4||Ot===3&&(Ge&62914560)===Ge&&300>gt()-qh?(st&2)===0&&el(i,0):yp|=o,Jo===Ge&&(Jo=0)),Ts(i)}function XE(i,r){r===0&&(r=Yu()),i=La(i,r),i!==null&&(ba(i,r),Ts(i))}function JC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),XE(i,o)}function ZC(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),XE(i,o)}function eN(i,r){return St(i,r)}var Xh=null,nl=null,Ap=!1,Jh=!1,wp=!1,zr=0;function Ts(i){i!==nl&&i.next===null&&(nl===null?Xh=nl=i:nl=nl.next=i),Jh=!0,Ap||(Ap=!0,nN())}function Vc(i,r){if(!wp&&Jh){wp=!0;do for(var o=!1,c=Xh;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-ot(42|i)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,tT(c,g))}else g=Ge,g=is(c,c===yt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Oi(c,g)||(o=!0,tT(c,g));c=c.next}while(o);wp=!1}}function tN(){JE()}function JE(){Jh=Ap=!1;var i=0;zr!==0&&fN()&&(i=zr);for(var r=gt(),o=null,c=Xh;c!==null;){var d=c.next,g=ZE(c,r);g===0?(c.next=null,o===null?Xh=d:o.next=d,d===null&&(nl=o)):(o=c,(i!==0||(g&3)!==0)&&(Jh=!0)),c=d}nn!==0&&nn!==5||Vc(i),zr!==0&&(zr=0)}function ZE(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-ot(g),S=1<<T,M=d[T];M===-1?((S&o)===0||(S&c)!==0)&&(d[T]=tm(S,r)):M<=r&&(i.expiredLanes|=S),g&=~S}if(r=yt,o=Ge,o=is(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(ct===2||ct===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&le(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Oi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&le(c),Vs(o)){case 2:case 8:o=H;break;case 32:o=me;break;case 268435456:o=tn;break;default:o=me}return c=eT.bind(null,i),o=St(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&le(c),i.callbackPriority=2,i.callbackNode=null,2}function eT(i,r){if(nn!==0&&nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Wh()&&i.callbackNode!==o)return null;var c=Ge;return c=is(i,i===yt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(VE(i,c,r),ZE(i,gt()),i.callbackNode!=null&&i.callbackNode===o?eT.bind(null,i):null)}function tT(i,r){if(Wh())return null;VE(i,r,!0)}function nN(){mN(function(){(st&6)!==0?St(Rn,tN):JE()})}function Rp(){if(zr===0){var i=Bo;i===0&&(i=li,li<<=1,(li&261888)===0&&(li=256)),zr=i}return zr}function nT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wo(""+i)}function iT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function iN(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var g=nT((d[on]||null).action),T=c.submitter;T&&(r=(r=T[on]||null)?nT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new ms("action","action",null,c,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(zr!==0){var M=T?iT(d,T):new FormData(d);Km(o,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=T?iT(d,T):new FormData(d),Km(o,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var Ip=0;Ip<um.length;Ip++){var Cp=um[Ip],sN=Cp.toLowerCase(),rN=Cp[0].toUpperCase()+Cp.slice(1);zi(sN,"on"+rN)}zi(Pv,"onAnimationEnd"),zi(Vv,"onAnimationIteration"),zi(Lv,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(TC,"onTransitionRun"),zi(bC,"onTransitionStart"),zi(xC,"onTransitionCancel"),zi(kv,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function sT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var S=c[T],M=S.instance,$=S.currentTarget;if(S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(Z){dh(Z)}d.currentTarget=null,g=M}else for(T=0;T<c.length;T++){if(S=c[T],M=S.instance,$=S.currentTarget,S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(Z){dh(Z)}d.currentTarget=null,g=M}}}}function qe(i,r){var o=r[To];o===void 0&&(o=r[To]=new Set);var c=i+"__bubble";o.has(c)||(rT(r,i,2,!1),o.add(c))}function Np(i,r,o){var c=0;r&&(c|=4),rT(o,i,c,r)}var Zh="_reactListening"+Math.random().toString(36).slice(2);function Dp(i){if(!i[Zh]){i[Zh]=!0,$l.forEach(function(o){o!=="selectionchange"&&(aN.has(o)||Np(o,!1,i),Np(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Zh]||(r[Zh]=!0,Np("selectionchange",!1,r))}}function rT(i,r,o,c){switch(PT(r)){case 2:var d=PN;break;case 8:d=VN;break;default:d=Yp}o=d.bind(null,r,o,i),d=void 0,!Ia||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Op(i,r,o,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=c.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=os(S),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){c=g=T;continue e}S=S.parentNode}}c=c.return}Tr(function(){var $=g,Z=ui(o),ie=[];e:{var Q=jv.get(i);if(Q!==void 0){var X=ms,_e=i;switch(i){case"keypress":if(Na(o)===0)break e;case"keydown":case"keyup":X=uh;break;case"focusin":_e="focus",X=Oa;break;case"focusout":_e="blur",X=Oa;break;case"beforeblur":case"afterblur":X=Oa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Pv:case Vv:case Lv:X=ih;break;case kv:X=R;break;case"scroll":case"scrollend":X=ac;break;case"wheel":X=W;break;case"copy":case"cut":case"paste":X=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=js;break;case"toggle":case"beforetoggle":X=Le}var Ae=(r&4)!==0,mt=!Ae&&(i==="scroll"||i==="scrollend"),F=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var z=$,K;z!==null;){var te=z;if(K=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||K===null||F===null||(te=Li(z,F),te!=null&&Ae.push(kc(z,te,K))),mt)break;z=z.return}0<Ae.length&&(Q=new X(Q,_e,null,o,Z),ie.push({event:Q,listeners:Ae}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Q&&o!==ic&&(_e=o.relatedTarget||o.fromElement)&&(os(_e)||_e[rs]))break e;if((X||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(_e=o.relatedTarget||o.toElement,X=$,_e=_e?os(_e):null,_e!==null&&(mt=l(_e),Ae=_e.tag,_e!==mt||Ae!==5&&Ae!==27&&Ae!==6)&&(_e=null)):(X=null,_e=$),X!==_e)){if(Ae=oc,te="onMouseLeave",F="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=js,te="onPointerLeave",F="onPointerEnter",z="pointer"),mt=X==null?Q:$n(X),K=_e==null?Q:$n(_e),Q=new Ae(te,z+"leave",X,o,Z),Q.target=mt,Q.relatedTarget=K,te=null,os(Z)===$&&(Ae=new Ae(F,z+"enter",_e,o,Z),Ae.target=K,Ae.relatedTarget=mt,te=Ae),mt=te,X&&_e)t:{for(Ae=oN,F=X,z=_e,K=0,te=F;te;te=Ae(te))K++;te=0;for(var xe=z;xe;xe=Ae(xe))te++;for(;0<K-te;)F=Ae(F),K--;for(;0<te-K;)z=Ae(z),te--;for(;K--;){if(F===z||z!==null&&F===z.alternate){Ae=F;break t}F=Ae(F),z=Ae(z)}Ae=null}else Ae=null;X!==null&&aT(ie,Q,X,Ae,!1),_e!==null&&mt!==null&&aT(ie,mt,_e,Ae,!0)}}e:{if(Q=$?$n($):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var et=xv;else if(Tv(Q))if(Sv)et=_C;else{et=gC;var Ee=pC}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&Ao($.elementType)&&(et=xv):et=yC;if(et&&(et=et(i,$))){bv(ie,et,o,Z);break e}Ee&&Ee(i,Q,$),i==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&ec(Q,"number",Q.value)}switch(Ee=$?$n($):window,i){case"focusin":(Tv(Ee)||Ee.contentEditable==="true")&&(Mo=Ee,om=$,fc=null);break;case"focusout":fc=om=Mo=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,Ov(ie,o,Z);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":Ov(ie,o,Z)}var ze;if(it)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Oo?Ma(i,o)&&(Ye="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ye="onCompositionStart");Ye&&(ys&&o.locale!=="ko"&&(Oo||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Oo&&(ze=rc()):(ds=Z,sc="value"in ds?ds.value:ds.textContent,Oo=!0)),Ee=ef($,Ye),0<Ee.length&&(Ye=new gs(Ye,i,null,o,Z),ie.push({event:Ye,listeners:Ee}),ze?Ye.data=ze:(ze=Do(o),ze!==null&&(Ye.data=ze)))),(ze=fi?hC(i,o):fC(i,o))&&(Ye=ef($,"onBeforeInput"),0<Ye.length&&(Ee=new gs("onBeforeInput","beforeinput",null,o,Z),ie.push({event:Ee,listeners:Ye}),Ee.data=ze)),iN(ie,i,$,o,Z)}sT(ie,r)})}function kc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function ef(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Li(i,o),d!=null&&c.unshift(kc(i,d,g)),d=Li(i,r),d!=null&&c.push(kc(i,d,g))),i.tag===3)return c;i=i.return}return[]}function oN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function aT(i,r,o,c,d){for(var g=r._reactName,T=[];o!==null&&o!==c;){var S=o,M=S.alternate,$=S.stateNode;if(S=S.tag,M!==null&&M===c)break;S!==5&&S!==26&&S!==27||$===null||(M=$,d?($=Li(o,g),$!=null&&T.unshift(kc(o,$,M))):d||($=Li(o,g),$!=null&&T.push(kc(o,$,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var lN=/\r\n?/g,cN=/\u0000|\uFFFD/g;function oT(i){return(typeof i=="string"?i:""+i).replace(lN,`
`).replace(cN,"")}function lT(i,r){return r=oT(r),oT(i)===r}function dt(i,r,o,c,d,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Vn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Vn(i,""+c);break;case"className":Qn(i,"class",c);break;case"tabIndex":Qn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(i,o,c);break;case"style":nc(i,c,g);break;case"data":if(r!=="object"){Qn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=wo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&dt(i,r,"name",d.name,d,null),dt(i,r,"formEncType",d.formEncType,d,null),dt(i,r,"formMethod",d.formMethod,d,null),dt(i,r,"formTarget",d.formTarget,d,null)):(dt(i,r,"encType",d.encType,d,null),dt(i,r,"method",d.method,d,null),dt(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=wo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Vi);break;case"onScroll":c!=null&&qe("scroll",i);break;case"onScrollEnd":c!=null&&qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=wo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":qe("beforetoggle",i),qe("toggle",i),xo(i,"popover",c);break;case"xlinkActuate":Yt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Yt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Yt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Yt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Yt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Yt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":xo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=eh.get(o)||o,xo(i,o,c))}}function Mp(i,r,o,c,d,g){switch(o){case"style":nc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Vn(i,c):(typeof c=="number"||typeof c=="bigint")&&Vn(i,""+c);break;case"onScroll":c!=null&&qe("scroll",i);break;case"onScrollEnd":c!=null&&qe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[on]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):xo(i,o,c)}}}function gn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",i),qe("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:dt(i,r,g,T,o,null)}}d&&dt(i,r,"srcSet",o.srcSet,o,null),c&&dt(i,r,"src",o.src,o,null);return;case"input":qe("invalid",i);var S=g=T=d=null,M=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":d=Z;break;case"type":T=Z;break;case"checked":M=Z;break;case"defaultChecked":$=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:dt(i,r,c,Z,o,null)}}Xu(i,g,S,M,$,T,d,!1);return;case"select":qe("invalid",i),c=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:dt(i,r,d,S,o,null)}r=g,o=T,i.multiple=!!c,r!=null?yr(i,!!c,r,!1):o!=null&&yr(i,!!c,o,!0);return;case"textarea":qe("invalid",i),g=d=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:dt(i,r,T,S,o,null)}_r(i,c,d,g);return;case"option":for(M in o)o.hasOwnProperty(M)&&(c=o[M],c!=null)&&(M==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":dt(i,r,M,c,o,null));return;case"dialog":qe("beforetoggle",i),qe("toggle",i),qe("cancel",i),qe("close",i);break;case"iframe":case"object":qe("load",i);break;case"video":case"audio":for(c=0;c<Lc.length;c++)qe(Lc[c],i);break;case"image":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"embed":case"source":case"link":qe("error",i),qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:dt(i,r,$,c,o,null)}return;default:if(Ao(r)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Mp(i,r,Z,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&dt(i,r,S,c,o,null))}function uN(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,M=null,$=null,Z=null;for(X in o){var ie=o[X];if(o.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=ie;default:c.hasOwnProperty(X)||dt(i,r,X,null,c,ie)}}for(var Q in c){var X=c[Q];if(ie=o[Q],c.hasOwnProperty(Q)&&(X!=null||ie!=null))switch(Q){case"type":g=X;break;case"name":d=X;break;case"checked":$=X;break;case"defaultChecked":Z=X;break;case"value":T=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ie&&dt(i,r,Q,X,c,ie)}}So(i,T,S,M,$,Z,g,d);return;case"select":X=T=S=Q=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":X=M;default:c.hasOwnProperty(g)||dt(i,r,g,null,c,M)}for(d in c)if(g=c[d],M=o[d],c.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==M&&dt(i,r,d,g,c,M)}r=S,o=T,c=X,Q!=null?yr(i,!!o,Q,!1):!!c!=!!o&&(r!=null?yr(i,!!o,r,!0):yr(i,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:dt(i,r,S,null,c,d)}for(T in c)if(d=c[T],g=o[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Q=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&dt(i,r,T,d,c,g)}Ju(i,Q,X);return;case"option":for(var _e in o)Q=o[_e],o.hasOwnProperty(_e)&&Q!=null&&!c.hasOwnProperty(_e)&&(_e==="selected"?i.selected=!1:dt(i,r,_e,null,c,Q));for(M in c)Q=c[M],X=o[M],c.hasOwnProperty(M)&&Q!==X&&(Q!=null||X!=null)&&(M==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":dt(i,r,M,Q,c,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Q=o[Ae],o.hasOwnProperty(Ae)&&Q!=null&&!c.hasOwnProperty(Ae)&&dt(i,r,Ae,null,c,Q);for($ in c)if(Q=c[$],X=o[$],c.hasOwnProperty($)&&Q!==X&&(Q!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:dt(i,r,$,Q,c,X)}return;default:if(Ao(r)){for(var mt in o)Q=o[mt],o.hasOwnProperty(mt)&&Q!==void 0&&!c.hasOwnProperty(mt)&&Mp(i,r,mt,void 0,c,Q);for(Z in c)Q=c[Z],X=o[Z],!c.hasOwnProperty(Z)||Q===X||Q===void 0&&X===void 0||Mp(i,r,Z,Q,c,X);return}}for(var F in o)Q=o[F],o.hasOwnProperty(F)&&Q!=null&&!c.hasOwnProperty(F)&&dt(i,r,F,null,c,Q);for(ie in c)Q=c[ie],X=o[ie],!c.hasOwnProperty(ie)||Q===X||Q==null&&X==null||dt(i,r,ie,Q,c,X)}function cT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,T=d.initiatorType,S=d.duration;if(g&&S&&cT(T)){for(T=0,S=d.responseEnd,c+=1;c<o.length;c++){var M=o[c],$=M.startTime;if($>S)break;var Z=M.transferSize,ie=M.initiatorType;Z&&cT(ie)&&(M=M.responseEnd,T+=Z*(M<S?1:(S-$)/(M-$)))}if(--c,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Pp=null,Vp=null;function tf(i){return i.nodeType===9?i:i.ownerDocument}function uT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Lp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var kp=null;function fN(){var i=window.event;return i&&i.type==="popstate"?i===kp?!1:(kp=i,!0):(kp=null,!1)}var fT=typeof setTimeout=="function"?setTimeout:void 0,dN=typeof clearTimeout=="function"?clearTimeout:void 0,dT=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof dT<"u"?function(i){return dT.resolve(null).then(i).catch(pN)}:fT;function pN(i){setTimeout(function(){throw i})}function Br(i){return i==="head"}function mT(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),al(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")jc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,jc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[as]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&jc(i.ownerDocument.body);o=d}while(o);al(r)}function pT(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jp(o),bo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function gN(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[as])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=vi(i.nextSibling),i===null)break}return null}function yN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=vi(i.nextSibling),i===null))return null;return i}function gT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=vi(i.nextSibling),i===null))return null;return i}function Up(i){return i.data==="$?"||i.data==="$~"}function zp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function _N(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function vi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Bp=null;function yT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return vi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function _T(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function vT(i,r,o){switch(r=tf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function jc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);bo(i)}var Ei=new Map,ET=new Set;function nf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zs=ae.d;ae.d={f:vN,r:EN,D:TN,C:bN,L:xN,m:SN,X:wN,S:AN,M:RN};function vN(){var i=Zs.f(),r=Kh();return i||r}function EN(i){var r=ci(i);r!==null&&r.tag===5&&r.type==="form"?k0(r):Zs.r(i)}var il=typeof document>"u"?null:document;function TT(i,r,o){var c=il;if(c&&typeof r=="string"&&r){var d=Pn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),ET.has(d)||(ET.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),gn(r,"link",i),Gt(r),c.head.appendChild(r)))}}function TN(i){Zs.D(i),TT("dns-prefetch",i,null)}function bN(i,r){Zs.C(i,r),TT("preconnect",i,r)}function xN(i,r,o){Zs.L(i,r,o);var c=il;if(c&&i&&r){var d='link[rel="preload"][as="'+Pn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Pn(o.imageSizes)+'"]')):d+='[href="'+Pn(i)+'"]';var g=d;switch(r){case"style":g=sl(i);break;case"script":g=rl(i)}Ei.has(g)||(i=E({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Ei.set(g,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Uc(g))||r==="script"&&c.querySelector(zc(g))||(r=c.createElement("link"),gn(r,"link",i),Gt(r),c.head.appendChild(r)))}}function SN(i,r){Zs.m(i,r);var o=il;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=rl(i)}if(!Ei.has(g)&&(i=E({rel:"modulepreload",href:i},r),Ei.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zc(g)))return}c=o.createElement("link"),gn(c,"link",i),Gt(c),o.head.appendChild(c)}}}function AN(i,r,o){Zs.S(i,r,o);var c=il;if(c&&i){var d=ls(c).hoistableStyles,g=sl(i);r=r||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Uc(g)))S.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Ei.get(g))&&Fp(i,o);var M=T=c.createElement("link");Gt(M),gn(M,"link",i),M._p=new Promise(function($,Z){M.onload=$,M.onerror=Z}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,sf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function wN(i,r){Zs.X(i,r);var o=il;if(o&&i){var c=ls(o).hoistableScripts,d=rl(i),g=c.get(d);g||(g=o.querySelector(zc(d)),g||(i=E({src:i,async:!0},r),(r=Ei.get(d))&&Hp(i,r),g=o.createElement("script"),Gt(g),gn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function RN(i,r){Zs.M(i,r);var o=il;if(o&&i){var c=ls(o).hoistableScripts,d=rl(i),g=c.get(d);g||(g=o.querySelector(zc(d)),g||(i=E({src:i,async:!0,type:"module"},r),(r=Ei.get(d))&&Hp(i,r),g=o.createElement("script"),Gt(g),gn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function bT(i,r,o,c){var d=(d=we.current)?nf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=sl(o.href),o=ls(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=sl(o.href);var g=ls(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(Uc(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ei.set(i,o),g||IN(d,i,o,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=rl(o),o=ls(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function sl(i){return'href="'+Pn(i)+'"'}function Uc(i){return'link[rel="stylesheet"]['+i+"]"}function xT(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function IN(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),gn(r,"link",o),Gt(r),i.head.appendChild(r))}function rl(i){return'[src="'+Pn(i)+'"]'}function zc(i){return"script[async]"+i}function ST(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Pn(o.href)+'"]');if(c)return r.instance=c,Gt(c),c;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Gt(c),gn(c,"style",d),sf(c,o.precedence,i),r.instance=c;case"stylesheet":d=sl(o.href);var g=i.querySelector(Uc(d));if(g)return r.state.loading|=4,r.instance=g,Gt(g),g;c=xT(o),(d=Ei.get(d))&&Fp(c,d),g=(i.ownerDocument||i).createElement("link"),Gt(g);var T=g;return T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),gn(g,"link",c),r.state.loading|=4,sf(g,o.precedence,i),r.instance=g;case"script":return g=rl(o.src),(d=i.querySelector(zc(g)))?(r.instance=d,Gt(d),d):(c=o,(d=Ei.get(g))&&(c=E({},o),Hp(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),Gt(d),gn(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,sf(c,o.precedence,i));return r.instance}function sf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Fp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Hp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var rf=null;function AT(i,r,o){if(rf===null){var c=new Map,d=rf=new Map;d.set(o,c)}else d=rf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[as]||g[qt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function wT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function CN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function RT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function NN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=sl(c.href),g=r.querySelector(Uc(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=af.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Gt(g);return}g=r.ownerDocument||r,c=xT(c),(d=Ei.get(d))&&Fp(c,d),g=g.createElement("link"),Gt(g);var T=g;T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),gn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=af.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var qp=0;function DN(i,r){return i.stylesheets&&i.count===0&&lf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&qp===0&&(qp=62500*hN());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>qp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var of=null;function lf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,of=new Map,r.forEach(ON,i),of=null,af.call(i))}function ON(i,r){if(!(r.state.loading&4)){var o=of.get(i);if(o)var c=o.get(null);else{o=new Map,of.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,d),o.set(T,d),this.count++,c=af.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Bc={$$typeof:q,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function MN(i,r,o,c,d,g,T,S,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function IT(i,r,o,c,d,g,T,S,M,$,Z,ie){return i=new MN(i,r,o,T,M,$,Z,ie,S),r=1,g===!0&&(r|=24),g=Xn(3,null,null,r),i.current=g,g.stateNode=i,r=xm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Rm(g),i}function CT(i){return i?(i=Lo,i):Lo}function NT(i,r,o,c,d,g){d=CT(d),c.context===null?c.context=d:c.pendingContext=d,c=Nr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Dr(i,c,r),o!==null&&(zn(o,i,r),vc(o,i,r))}function DT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Gp(i,r){DT(i,r),(i=i.alternate)&&DT(i,r)}function OT(i){if(i.tag===13||i.tag===31){var r=La(i,67108864);r!==null&&zn(r,i,67108864),Gp(i,67108864)}}function MT(i){if(i.tag===13||i.tag===31){var r=ni();r=Sa(r);var o=La(i,r);o!==null&&zn(o,i,r),Gp(i,r)}}var cf=!0;function PN(i,r,o,c){var d=J.T;J.T=null;var g=ae.p;try{ae.p=2,Yp(i,r,o,c)}finally{ae.p=g,J.T=d}}function VN(i,r,o,c){var d=J.T;J.T=null;var g=ae.p;try{ae.p=8,Yp(i,r,o,c)}finally{ae.p=g,J.T=d}}function Yp(i,r,o,c){if(cf){var d=Kp(c);if(d===null)Op(i,r,c,uf,o),VT(i,c);else if(kN(d,i,r,o,c))c.stopPropagation();else if(VT(i,c),r&4&&-1<LN.indexOf(i)){for(;d!==null;){var g=ci(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ns(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var M=1<<31-ot(T);S.entanglements[1]|=M,T&=~M}Ts(g),(st&6)===0&&(Gh=gt()+500,Vc(0))}}break;case 31:case 13:S=La(g,2),S!==null&&zn(S,g,2),Kh(),Gp(g,2)}if(g=Kp(c),g===null&&Op(i,r,c,uf,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Op(i,r,c,null,o)}}function Kp(i){return i=ui(i),$p(i)}var uf=null;function $p(i){if(uf=null,i=os(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return uf=i,null}function PT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qn()){case Rn:return 2;case H:return 8;case me:case at:return 32;case tn:return 268435456;default:return 32}default:return 32}}var Qp=!1,Fr=null,Hr=null,qr=null,Fc=new Map,Hc=new Map,Gr=[],LN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VT(i,r){switch(i){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Fc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(r.pointerId)}}function qc(i,r,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=ci(r),r!==null&&OT(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function kN(i,r,o,c,d){switch(r){case"focusin":return Fr=qc(Fr,i,r,o,c,d),!0;case"dragenter":return Hr=qc(Hr,i,r,o,c,d),!0;case"mouseover":return qr=qc(qr,i,r,o,c,d),!0;case"pointerover":var g=d.pointerId;return Fc.set(g,qc(Fc.get(g)||null,i,r,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Hc.set(g,qc(Hc.get(g)||null,i,r,o,c,d)),!0}return!1}function LT(i){var r=os(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Mi(i.priority,function(){MT(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Mi(i.priority,function(){MT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Kp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);ic=c,o.target.dispatchEvent(c),ic=null}else return r=ci(o),r!==null&&OT(r),i.blockedOn=o,!1;r.shift()}return!0}function kT(i,r,o){hf(i)&&o.delete(r)}function jN(){Qp=!1,Fr!==null&&hf(Fr)&&(Fr=null),Hr!==null&&hf(Hr)&&(Hr=null),qr!==null&&hf(qr)&&(qr=null),Fc.forEach(kT),Hc.forEach(kT)}function ff(i,r){i.blockedOn===r&&(i.blockedOn=null,Qp||(Qp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jN)))}var df=null;function jT(i){df!==i&&(df=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){df===i&&(df=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if($p(c||o)===null)continue;break}var g=ci(o);g!==null&&(i.splice(r,3),r-=3,Km(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function al(i){function r(M){return ff(M,i)}Fr!==null&&ff(Fr,i),Hr!==null&&ff(Hr,i),qr!==null&&ff(qr,i),Fc.forEach(r),Hc.forEach(r);for(var o=0;o<Gr.length;o++){var c=Gr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Gr.length&&(o=Gr[0],o.blockedOn===null);)LT(o),o.blockedOn===null&&Gr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],T=d[on]||null;if(typeof g=="function")T||jT(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[on]||null)S=T.formAction;else if($p(d)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),jT(o)}}}function UT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Wp(i){this._internalRoot=i}mf.prototype.render=Wp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=ni();NT(o,c,i,r,null,null)},mf.prototype.unmount=Wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;NT(i.current,2,null,i,null,null),Kh(),r[rs]=null}};function mf(i){this._internalRoot=i}mf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ku();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Gr.length&&r!==0&&r<Gr[o].priority;o++);Gr.splice(o,0,i),o===0&&LT(i)}};var zT=e.version;if(zT!=="19.2.4")throw Error(s(527,zT,"19.2.4"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var UN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{Kn=pf.inject(UN),At=pf}catch{}}return Yc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=K0,g=$0,T=Q0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=IT(i,1,!1,null,null,o,c,null,d,g,T,UT),i[rs]=r.current,Dp(i),new Wp(r)},Yc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",g=K0,T=$0,S=Q0,M=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=IT(i,1,!0,r,o??null,c,d,M,g,T,S,UT),r.context=CT(null),o=r.current,c=ni(),c=Sa(c),d=Nr(c),d.callback=null,Dr(o,d,c),o=c,r.current.lanes=o,ba(r,o),Ts(r),i[rs]=r.current,Dp(i),new mf(r)},Yc.version="19.2.4",Yc}var WT;function WN(){if(WT)return Zp.exports;WT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zp.exports=QN(),Zp.exports}var XN=WN();var XT="popstate";function JN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return Ug("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:pu(a)}return eD(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZN(){return Math.random().toString(36).substring(2,10)}function JT(t,e){return{usr:t.state,key:t.key,idx:e}}function Ug(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ol(e):e,state:n,key:e&&e.key||s||ZN()}}function pu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ol(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function eD(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",m=null,p=_();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function _(){return(u.state||{idx:null}).idx}function E(){f="POP";let V=_(),B=V==null?null:V-p;p=V,m&&m({action:f,location:j.location,delta:B})}function b(V,B){f="PUSH";let G=Ug(j.location,V,B);p=_()+1;let q=JT(G,p),re=j.createHref(G);try{u.pushState(q,"",re)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;a.location.assign(re)}l&&m&&m({action:f,location:j.location,delta:1})}function A(V,B){f="REPLACE";let G=Ug(j.location,V,B);p=_();let q=JT(G,p),re=j.createHref(G);u.replaceState(q,"",re),l&&m&&m({action:f,location:j.location,delta:0})}function N(V){return tD(V)}let j={get action(){return f},get location(){return t(a,u)},listen(V){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(XT,E),m=V,()=>{a.removeEventListener(XT,E),m=null}},createHref(V){return e(a,V)},createURL:N,encodeLocation(V){let B=N(V);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:b,replace:A,go(V){return u.go(V)}};return j}function tD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:pu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function oA(t,e,n="/"){return nD(t,e,n,!1)}function nD(t,e,n,s){let a=typeof e=="string"?Ol(e):e,l=lr(a.pathname||"/",n);if(l==null)return null;let u=lA(t);iD(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=mD(l);f=fD(u[m],p,s)}return f}function lA(t,e=[],n=[],s="",a=!1){let l=(u,f,m=a,p)=>{let _={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&m)return;It(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let E=sr([s,_.relativePath]),b=n.concat(_);u.children&&u.children.length>0&&(It(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),lA(u.children,e,b,E,m)),!(u.path==null&&!u.index)&&e.push({path:E,score:uD(E,u.index),routesMeta:b})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of cA(u.path))l(u,f,!0,m)}),e}function cA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=cA(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function iD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sD=/^:[\w-]+$/,rD=3,aD=2,oD=1,lD=10,cD=-2,ZT=t=>t==="*";function uD(t,e){let n=t.split("/"),s=n.length;return n.some(ZT)&&(s+=cD),e&&(s+=aD),n.filter(a=>!ZT(a)).reduce((a,l)=>a+(sD.test(l)?rD:l===""?oD:lD),s)}function hD(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function fD(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),b=m.route;if(!E&&p&&n&&!s[s.length-1].route.index&&(E=qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),u.push({params:a,pathname:sr([l,E.pathname]),pathnameBase:_D(sr([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=sr([l,E.pathnameBase]))}return u}function qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=dD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:_,isOptional:E},b)=>{if(_==="*"){let N=f[b]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const A=f[b];return E&&!A?p[_]=void 0:p[_]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function dD(t,e=!1,n=!0){Qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function mD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function lr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var pD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function gD(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ol(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=eb(n.substring(1),"/"):l=eb(n,e)):l=e,{pathname:l,search:vD(s),hash:ED(a)}}function eb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Uy(t){let e=yD(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function zy(t,e,n,s=!1){let a;typeof t=="string"?a=Ol(t):(a={...t},It(!a.pathname||!a.pathname.includes("?"),ig("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),ig("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),ig("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let E=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),E-=1;a.pathname=b.join("/")}f=E>=0?e[E]:"/"}let m=gD(a,f),p=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var sr=t=>t.join("/").replace(/\/\/+/g,"/"),_D=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ED=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,TD=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function xD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hA(t,e){let n=t;if(typeof n!="string"||!pD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(uA)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=lr(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{Qi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fA=["POST","PUT","PATCH","DELETE"];new Set(fA);var SD=["GET",...fA];new Set(SD);var Ml=O.createContext(null);Ml.displayName="DataRouter";var Td=O.createContext(null);Td.displayName="DataRouterState";var AD=O.createContext(!1),dA=O.createContext({isTransitioning:!1});dA.displayName="ViewTransition";var wD=O.createContext(new Map);wD.displayName="Fetchers";var RD=O.createContext(null);RD.displayName="Await";var ai=O.createContext(null);ai.displayName="Navigation";var Nu=O.createContext(null);Nu.displayName="Location";var Ms=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ms.displayName="Route";var By=O.createContext(null);By.displayName="RouteError";var mA="REACT_ROUTER_ERROR",ID="REDIRECT",CD="ROUTE_ERROR_RESPONSE";function ND(t){if(t.startsWith(`${mA}:${ID}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function DD(t){if(t.startsWith(`${mA}:${CD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new TD(e.status,e.statusText,e.data)}catch{}}function OD(t,{relative:e}={}){It(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(ai),{hash:a,pathname:l,search:u}=Du(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:sr([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Pl(){return O.useContext(Nu)!=null}function pr(){return It(Pl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Nu).location}var pA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gA(t){O.useContext(ai).static||O.useLayoutEffect(t)}function Vl(){let{isDataRoute:t}=O.useContext(Ms);return t?GD():MD()}function MD(){It(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Ml),{basename:e,navigator:n}=O.useContext(ai),{matches:s}=O.useContext(Ms),{pathname:a}=pr(),l=JSON.stringify(Uy(s)),u=O.useRef(!1);return gA(()=>{u.current=!0}),O.useCallback((m,p={})=>{if(Qi(u.current,pA),!u.current)return;if(typeof m=="number"){n.go(m);return}let _=zy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:sr([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,l,a,t])}O.createContext(null);function Du(t,{relative:e}={}){let{matches:n}=O.useContext(Ms),{pathname:s}=pr(),a=JSON.stringify(Uy(n));return O.useMemo(()=>zy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function PD(t,e){return yA(t,e)}function yA(t,e,n,s,a){It(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(ai),{matches:u}=O.useContext(Ms),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let G=E&&E.path||"";vA(p,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let b=pr(),A;if(e){let G=typeof e=="string"?Ol(e):e;It(_==="/"||G.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${G.pathname}" was given in the \`location\` prop.`),A=G}else A=b;let N=A.pathname||"/",j=N;if(_!=="/"){let G=_.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(G.length).join("/")}let V=oA(t,{pathname:j});Qi(E||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Qi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=UD(V&&V.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:sr([_,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:sr([_,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),u,n,s,a);return e&&B?O.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function VD(){let t=qD(),e=bD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var LD=O.createElement(VD,null),_A=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=DD(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(Ms.Provider,{value:this.props.routeContext},O.createElement(By.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(kD,{error:t},e):e}};_A.contextType=AD;var sg=new WeakMap;function kD({children:t,error:e}){let{basename:n}=O.useContext(ai);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ND(e.digest);if(s){let a=sg.get(e);if(a)throw a;let l=hA(s.location,n);if(uA&&!sg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw sg.set(e,u),u}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function jD({routeContext:t,match:e,children:n}){let s=O.useContext(Ml);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ms.Provider,{value:t},n)}function UD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let _=l.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);It(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let f=!1,m=-1;if(n)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=_),E.route.id){let{loaderData:b,errors:A}=n,N=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||N){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(_,E)=>{s(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xD(n.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,b)=>{let A,N=!1,j=null,V=null;n&&(A=u&&E.route.id?u[E.route.id]:void 0,j=E.route.errorElement||LD,f&&(m<0&&b===0?(vA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,V=null):m===b&&(N=!0,V=E.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,b+1)),G=()=>{let q;return A?q=j:N?q=V:E.route.Component?q=O.createElement(E.route.Component,null):E.route.element?q=E.route.element:q=_,O.createElement(jD,{match:E,routeContext:{outlet:_,matches:B,isDataRoute:n!=null},children:q})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?O.createElement(_A,{location:n.location,revalidation:n.revalidation,component:j,error:A,children:G(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):G()},null)}function Fy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zD(t){let e=O.useContext(Ml);return It(e,Fy(t)),e}function BD(t){let e=O.useContext(Td);return It(e,Fy(t)),e}function FD(t){let e=O.useContext(Ms);return It(e,Fy(t)),e}function Hy(t){let e=FD(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HD(){return Hy("useRouteId")}function qD(){let t=O.useContext(By),e=BD("useRouteError"),n=Hy("useRouteError");return t!==void 0?t:e.errors?.[n]}function GD(){let{router:t}=zD("useNavigate"),e=Hy("useNavigate"),n=O.useRef(!1);return gA(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{Qi(n.current,pA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var tb={};function vA(t,e,n){!e&&!tb[t]&&(tb[t]=!0,Qi(!1,n))}O.memo(YD);function YD({routes:t,future:e,state:n,onError:s}){return yA(t,void 0,n,s,e)}function KD({to:t,replace:e,state:n,relative:s}){It(Pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(ai);Qi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(Ms),{pathname:u}=pr(),f=Vl(),m=zy(t,Uy(l),u,s==="path"),p=JSON.stringify(m);return O.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function er(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $D({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){It(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=Ol(n));let{pathname:p="/",search:_="",hash:E="",state:b=null,key:A="default"}=n,N=O.useMemo(()=>{let j=lr(p,f);return j==null?null:{location:{pathname:j,search:_,hash:E,state:b,key:A},navigationType:s}},[f,p,_,E,b,A,s]);return Qi(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:O.createElement(ai.Provider,{value:m},O.createElement(Nu.Provider,{children:e,value:N}))}function QD({children:t,location:e}){return PD(zg(t),e)}function zg(t,e=[]){let n=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){n.push.apply(n,zg(s.props.children,l));return}It(s.type===er,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=zg(s.props.children,l)),n.push(u)}),n}var If="get",Cf="application/x-www-form-urlencoded";function bd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function WD(t){return bd(t)&&t.tagName.toLowerCase()==="button"}function XD(t){return bd(t)&&t.tagName.toLowerCase()==="form"}function JD(t){return bd(t)&&t.tagName.toLowerCase()==="input"}function ZD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eO(t,e){return t.button===0&&(!e||e==="_self")&&!ZD(t)}var gf=null;function tO(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var nO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(t){return t!=null&&!nO.has(t)?(Qi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cf}"`),null):t}function iO(t,e){let n,s,a,l,u;if(XD(t)){let f=t.getAttribute("action");s=f?lr(f,e):null,n=t.getAttribute("method")||If,a=rg(t.getAttribute("enctype"))||Cf,l=new FormData(t)}else if(WD(t)||JD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?lr(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||If,a=rg(t.getAttribute("formenctype"))||rg(f.getAttribute("enctype"))||Cf,l=new FormData(f,t),!tO()){let{name:p,type:_,value:E}=t;if(_==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,E)}}else{if(bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=If,s=null,a=Cf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sO(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&lr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function rO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oO(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await rO(l,n);return u.links?u.links():[]}return[]}));return hO(s.flat(1).filter(aO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nb(t,e,n,s,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function lO(t,e,{includeHydrateFallback:n}={}){return cO(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function cO(t){return[...new Set(t)]}function uO(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function hO(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(uO(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function EA(){let t=O.useContext(Ml);return qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fO(){let t=O.useContext(Td);return qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gy=O.createContext(void 0);Gy.displayName="FrameworkContext";function TA(){let t=O.useContext(Gy);return qy(t,"You must render this element inside a <HydratedRouter> element"),t}function dO(t,e){let n=O.useContext(Gy),[s,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:E}=e,b=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=B=>{B.forEach(G=>{u(G.isIntersecting)})},V=new IntersectionObserver(j,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[t]),O.useEffect(()=>{if(s){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[s]);let A=()=>{a(!0)},N=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Kc(f,A),onBlur:Kc(m,N),onMouseEnter:Kc(p,A),onMouseLeave:Kc(_,N),onTouchStart:Kc(E,A)}]:[!1,b,{}]}function Kc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mO({page:t,...e}){let{router:n}=EA(),s=O.useMemo(()=>oA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(gO,{page:t,matches:s,...e}):null}function pO(t){let{manifest:e,routeModules:n}=TA(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return oO(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function gO({page:t,matches:e,...n}){let s=pr(),{future:a,manifest:l,routeModules:u}=TA(),{basename:f}=EA(),{loaderData:m,matches:p}=fO(),_=O.useMemo(()=>nb(t,e,p,l,s,"data"),[t,e,p,l,s]),E=O.useMemo(()=>nb(t,e,p,l,s,"assets"),[t,e,p,l,s]),b=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,V=!1;if(e.forEach(G=>{let q=l.routes[G.route.id];!q||!q.hasLoader||(!_.some(re=>re.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||q.hasClientLoader?V=!0:j.add(G.route.id))}),j.size===0)return[];let B=sO(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return V&&j.size>0&&B.searchParams.set("_routes",e.filter(G=>j.has(G.route.id)).map(G=>G.route.id).join(",")),[B.pathname+B.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,_,e,t,u]),A=O.useMemo(()=>lO(E,l),[E,l]),N=pO(E);return O.createElement(O.Fragment,null,b.map(j=>O.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),A.map(j=>O.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),N.map(({key:j,link:V})=>O.createElement("link",{key:j,nonce:n.nonce,...V,crossOrigin:V.crossOrigin??n.crossOrigin})))}function yO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_O&&(window.__reactRouterVersion="7.13.0")}catch{}function vO({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=O.useRef();a.current==null&&(a.current=JN({window:s,v5Compat:!0}));let l=a.current,[u,f]=O.useState({action:l.action,location:l.location}),m=O.useCallback(p=>{n===!1?f(p):O.startTransition(()=>f(p))},[n]);return O.useLayoutEffect(()=>l.listen(m),[l,m]),O.createElement($D,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var bA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ki=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...A},N){let{basename:j,unstable_useTransitions:V}=O.useContext(ai),B=typeof p=="string"&&bA.test(p),G=hA(p,j);p=G.to;let q=OD(p,{relative:a}),[re,oe,ue]=dO(s,A),C=xO(p,{replace:u,state:f,target:m,preventScrollReset:_,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:V});function w(P){e&&e(P),P.defaultPrevented||C(P)}let I=O.createElement("a",{...A,...ue,href:G.absoluteURL||q,onClick:G.isExternal||l?e:w,ref:yO(N,oe),target:m,"data-discover":!B&&n==="render"?"true":void 0});return re&&!B?O.createElement(O.Fragment,null,I,O.createElement(mO,{page:q})):I});Ki.displayName="Link";var EO=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},_){let E=Du(u,{relative:p.relative}),b=pr(),A=O.useContext(Td),{navigator:N,basename:j}=O.useContext(ai),V=A!=null&&IO(E)&&f===!0,B=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,G=b.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(G=G.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&j&&(q=lr(q,j)||q);const re=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let oe=G===B||!a&&G.startsWith(B)&&G.charAt(re)==="/",ue=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),C={isActive:oe,isPending:ue,isTransitioning:V},w=oe?e:void 0,I;typeof s=="function"?I=s(C):I=[s,oe?"active":null,ue?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return O.createElement(Ki,{...p,"aria-current":w,className:I,ref:_,style:P,to:u,viewTransition:f},typeof m=="function"?m(C):m)});EO.displayName="NavLink";var TO=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=If,action:f,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...A},N)=>{let{unstable_useTransitions:j}=O.useContext(ai),V=wO(),B=RO(f,{relative:p}),G=u.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&bA.test(f),re=oe=>{if(m&&m(oe),oe.defaultPrevented)return;oe.preventDefault();let ue=oe.nativeEvent.submitter,C=ue?.getAttribute("formmethod")||u,w=()=>V(ue||oe.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b});j&&n!==!1?O.startTransition(()=>w()):w()};return O.createElement("form",{ref:N,method:G,action:B,onSubmit:s?m:re,...A,"data-discover":!q&&t==="render"?"true":void 0})});TO.displayName="Form";function bO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(t){let e=O.useContext(Ml);return It(e,bO(t)),e}function xO(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Vl(),_=pr(),E=Du(t,{relative:l});return O.useCallback(b=>{if(eO(b,e)){b.preventDefault();let A=n!==void 0?n:pu(_)===pu(E),N=()=>p(t,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});m?O.startTransition(()=>N()):N()}},[_,p,E,n,s,e,t,a,l,u,f,m])}var SO=0,AO=()=>`__${String(++SO)}__`;function wO(){let{router:t}=xA("useSubmit"),{basename:e}=O.useContext(ai),n=HD(),s=t.fetch,a=t.navigate;return O.useCallback(async(l,u={})=>{let{action:f,method:m,encType:p,formData:_,body:E}=iO(l,e);if(u.navigate===!1){let b=u.fetcherKey||AO();await s(b,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:E,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:E,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function RO(t,{relative:e}={}){let{basename:n}=O.useContext(ai),s=O.useContext(Ms);It(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Du(t||".",{relative:e})},u=pr();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(_=>_==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let _=f.toString();l.search=_?`?${_}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:sr([n,l.pathname])),pu(l)}function IO(t,{relative:e}={}){let n=O.useContext(dA);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xA("useViewTransitionState"),a=Du(t,{relative:e});if(!n.isTransitioning)return!1;let l=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return qf(a.pathname,u)!=null||qf(a.pathname,l)!=null}const Yy=O.createContext({});function Ky(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const SA=typeof window<"u",AA=SA?O.useLayoutEffect:O.useEffect,xd=O.createContext(null);function $y(t,e){t.indexOf(e)===-1&&t.push(e)}function Qy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ns=(t,e,n)=>n>e?e:n<t?t:n;let Wy=()=>{};const cr={},wA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function RA(t){return typeof t=="object"&&t!==null}const IA=t=>/^0[^.\s]+$/u.test(t);function Xy(t){let e;return()=>(e===void 0&&(e=t()),e)}const wi=t=>t,CO=(t,e)=>n=>e(t(n)),Ou=(...t)=>t.reduce(CO),gu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Jy{constructor(){this.subscriptions=[]}add(e){return $y(this.subscriptions,e),()=>Qy(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=t=>t*1e3,Ai=t=>t/1e3;function CA(t,e){return e?t*(1e3/e):0}const NA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NO=1e-7,DO=12;function OO(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=NA(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>NO&&++f<DO);return u}function Mu(t,e,n,s){if(t===e&&n===s)return wi;const a=l=>OO(l,0,1,t,n);return l=>l===0||l===1?l:NA(a(l),e,s)}const DA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OA=t=>e=>1-t(1-e),MA=Mu(.33,1.53,.69,.99),Zy=OA(MA),PA=DA(Zy),VA=t=>(t*=2)<1?.5*Zy(t):.5*(2-Math.pow(2,-10*(t-1))),e_=t=>1-Math.sin(Math.acos(t)),LA=OA(e_),kA=DA(e_),MO=Mu(.42,0,1,1),PO=Mu(0,0,.58,1),jA=Mu(.42,0,.58,1),VO=t=>Array.isArray(t)&&typeof t[0]!="number",UA=t=>Array.isArray(t)&&typeof t[0]=="number",LO={linear:wi,easeIn:MO,easeInOut:jA,easeOut:PO,circIn:e_,circInOut:kA,circOut:LA,backIn:Zy,backInOut:PA,backOut:MA,anticipate:VA},kO=t=>typeof t=="string",ib=t=>{if(UA(t)){Wy(t.length===4);const[e,n,s,a]=t;return Mu(e,n,s,a)}else if(kO(t))return LO[t];return t},yf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jO(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(_){u.has(_)&&(p.schedule(_),t()),_(f)}const p={schedule:(_,E=!1,b=!1)=>{const N=b&&a?n:s;return E&&u.add(_),N.has(_)||N.add(_),_},cancel:_=>{s.delete(_),u.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(_))}};return p}const UO=40;function zA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=yf.reduce((q,re)=>(q[re]=jO(l),q),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:_,update:E,preRender:b,render:A,postRender:N}=u,j=()=>{const q=cr.useManualTiming?a.timestamp:performance.now();n=!1,cr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,UO),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),_.process(a),E.process(a),b.process(a),A.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(j))},V=()=>{n=!0,s=!0,a.isProcessing||t(j)};return{schedule:yf.reduce((q,re)=>{const oe=u[re];return q[re]=(ue,C=!1,w=!1)=>(n||V(),oe.schedule(ue,C,w)),q},{}),cancel:q=>{for(let re=0;re<yf.length;re++)u[yf[re]].cancel(q)},state:a,steps:u}}const{schedule:vt,cancel:ra,state:yn,steps:ag}=zA(typeof requestAnimationFrame<"u"?requestAnimationFrame:wi,!0);let Nf;function zO(){Nf=void 0}const Nn={now:()=>(Nf===void 0&&Nn.set(yn.isProcessing||cr.useManualTiming?yn.timestamp:performance.now()),Nf),set:t=>{Nf=t,queueMicrotask(zO)}},BA=t=>e=>typeof e=="string"&&e.startsWith(t),FA=BA("--"),BO=BA("var(--"),t_=t=>BO(t)?FO.test(t.split("/*")[0].trim()):!1,FO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function sb(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Ll={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yu={...Ll,transform:t=>Ns(0,1,t)},_f={...Ll,default:1},ru=t=>Math.round(t*1e5)/1e5,n_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HO(t){return t==null}const qO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i_=(t,e)=>n=>!!(typeof n=="string"&&qO.test(n)&&n.startsWith(t)||e&&!HO(n)&&Object.prototype.hasOwnProperty.call(n,e)),HA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(n_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},GO=t=>Ns(0,255,t),og={...Ll,transform:t=>Math.round(GO(t))},Za={test:i_("rgb","red"),parse:HA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+og.transform(t)+", "+og.transform(e)+", "+og.transform(n)+", "+ru(yu.transform(s))+")"};function YO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Bg={test:i_("#"),parse:YO,transform:Za.transform},Pu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$r=Pu("deg"),Ss=Pu("%"),ve=Pu("px"),KO=Pu("vh"),$O=Pu("vw"),rb={...Ss,parse:t=>Ss.parse(t)/100,transform:t=>Ss.transform(t*100)},hl={test:i_("hsl","hue"),parse:HA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ss.transform(ru(e))+", "+Ss.transform(ru(n))+", "+ru(yu.transform(s))+")"},Jt={test:t=>Za.test(t)||Bg.test(t)||hl.test(t),parse:t=>Za.test(t)?Za.parse(t):hl.test(t)?hl.parse(t):Bg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Za.transform(t):hl.transform(t),getAnimatableNone:t=>{const e=Jt.parse(t);return e.alpha=0,Jt.transform(e)}},QO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WO(t){return isNaN(t)&&typeof t=="string"&&(t.match(n_)?.length||0)+(t.match(QO)?.length||0)>0}const qA="number",GA="color",XO="var",JO="var(",ab="${}",ZO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _u(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(ZO,m=>(Jt.test(m)?(s.color.push(l),a.push(GA),n.push(Jt.parse(m))):m.startsWith(JO)?(s.var.push(l),a.push(XO),n.push(m)):(s.number.push(l),a.push(qA),n.push(parseFloat(m))),++l,ab)).split(ab);return{values:n,split:f,indexes:s,types:a}}function YA(t){return _u(t).values}function KA(t){const{split:e,types:n}=_u(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===qA?l+=ru(a[u]):f===GA?l+=Jt.transform(a[u]):l+=a[u]}return l}}const e2=t=>typeof t=="number"?0:Jt.test(t)?Jt.getAnimatableNone(t):t;function t2(t){const e=YA(t);return KA(t)(e.map(e2))}const aa={test:WO,parse:YA,createTransformer:KA,getAnimatableNone:t2};function lg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function n2({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=lg(m,f,t+1/3),l=lg(m,f,t),u=lg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Gf(t,e){return n=>n>0?e:t}const Ct=(t,e,n)=>t+(e-t)*n,cg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},i2=[Bg,Za,hl],s2=t=>i2.find(e=>e.test(t));function ob(t){const e=s2(t);if(!e)return!1;let n=e.parse(t);return e===hl&&(n=n2(n)),n}const lb=(t,e)=>{const n=ob(t),s=ob(e);if(!n||!s)return Gf(t,e);const a={...n};return l=>(a.red=cg(n.red,s.red,l),a.green=cg(n.green,s.green,l),a.blue=cg(n.blue,s.blue,l),a.alpha=Ct(n.alpha,s.alpha,l),Za.transform(a))},Fg=new Set(["none","hidden"]);function r2(t,e){return Fg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function a2(t,e){return n=>Ct(t,e,n)}function s_(t){return typeof t=="number"?a2:typeof t=="string"?t_(t)?Gf:Jt.test(t)?lb:c2:Array.isArray(t)?$A:typeof t=="object"?Jt.test(t)?lb:o2:Gf}function $A(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>s_(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function o2(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=s_(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function l2(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const c2=(t,e)=>{const n=aa.createTransformer(e),s=_u(t),a=_u(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Fg.has(t)&&!a.values.length||Fg.has(e)&&!s.values.length?r2(t,e):Ou($A(l2(s,a),a.values),n):Gf(t,e)};function QA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):s_(t)(t,e)}const u2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>vt.update(e,n),stop:()=>ra(e),now:()=>yn.isProcessing?yn.timestamp:Nn.now()}},WA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Yf=2e4;function r_(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Yf;)e+=n,s=t.next(e);return e>=Yf?1/0:e}function h2(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(r_(s),Yf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ai(a)}}const f2=5;function XA(t,e,n){const s=Math.max(e-f2,0);return CA(n-t(s),e-s)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ug=.001;function d2({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:s=Mt.mass}){let a,l,u=1-e;u=Ns(Mt.minDamping,Mt.maxDamping,u),t=Ns(Mt.minDuration,Mt.maxDuration,Ai(t)),u<1?(a=p=>{const _=p*u,E=_*t,b=_-n,A=Hg(p,u),N=Math.exp(-E);return ug-b/A*N},l=p=>{const E=p*u*t,b=E*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,N=Math.exp(-E),j=Hg(Math.pow(p,2),u);return(-a(p)+ug>0?-1:1)*((b-A)*N)/j}):(a=p=>{const _=Math.exp(-p*t),E=(p-n)*t+1;return-ug+_*E},l=p=>{const _=Math.exp(-p*t),E=(n-p)*(t*t);return _*E});const f=5/t,m=p2(a,l,f);if(t=rr(t),isNaN(m))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const m2=12;function p2(t,e,n){let s=n;for(let a=1;a<m2;a++)s=s-t(s)/e(s);return s}function Hg(t,e){return t*Math.sqrt(1-e*e)}const g2=["duration","bounce"],y2=["stiffness","damping","mass"];function cb(t,e){return e.some(n=>t[n]!==void 0)}function _2(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!cb(t,y2)&&cb(t,g2))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ns(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Mt.mass,stiffness:a,damping:l}}else{const n=d2(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function Kf(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:_,duration:E,velocity:b,isResolvedFromDuration:A}=_2({...n,velocity:-Ai(n.velocity||0)}),N=b||0,j=p/(2*Math.sqrt(m*_)),V=u-l,B=Ai(Math.sqrt(m/_)),G=Math.abs(V)<5;s||(s=G?Mt.restSpeed.granular:Mt.restSpeed.default),a||(a=G?Mt.restDelta.granular:Mt.restDelta.default);let q;if(j<1){const oe=Hg(B,j);q=ue=>{const C=Math.exp(-j*B*ue);return u-C*((N+j*B*V)/oe*Math.sin(oe*ue)+V*Math.cos(oe*ue))}}else if(j===1)q=oe=>u-Math.exp(-B*oe)*(V+(N+B*V)*oe);else{const oe=B*Math.sqrt(j*j-1);q=ue=>{const C=Math.exp(-j*B*ue),w=Math.min(oe*ue,300);return u-C*((N+j*B*V)*Math.sinh(w)+oe*V*Math.cosh(w))/oe}}const re={calculatedDuration:A&&E||null,next:oe=>{const ue=q(oe);if(A)f.done=oe>=E;else{let C=oe===0?N:0;j<1&&(C=oe===0?rr(N):XA(q,oe,ue));const w=Math.abs(C)<=s,I=Math.abs(u-ue)<=a;f.done=w&&I}return f.value=f.done?u:ue,f},toString:()=>{const oe=Math.min(r_(re),Yf),ue=WA(C=>re.next(oe*C).value,oe,30);return oe+"ms "+ue},toTransition:()=>{}};return re}Kf.applyToOptions=t=>{const e=h2(t,100,Kf);return t.ease=e.ease,t.duration=rr(e.duration),t.type="keyframes",t};function qg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:_}){const E=t[0],b={done:!1,value:E},A=w=>f!==void 0&&w<f||m!==void 0&&w>m,N=w=>f===void 0?m:m===void 0||Math.abs(f-w)<Math.abs(m-w)?f:m;let j=n*e;const V=E+j,B=u===void 0?V:u(V);B!==V&&(j=B-E);const G=w=>-j*Math.exp(-w/s),q=w=>B+G(w),re=w=>{const I=G(w),P=q(w);b.done=Math.abs(I)<=p,b.value=b.done?B:P};let oe,ue;const C=w=>{A(b.value)&&(oe=w,ue=Kf({keyframes:[b.value,N(b.value)],velocity:XA(q,w,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:_}))};return C(0),{calculatedDuration:null,next:w=>{let I=!1;return!ue&&oe===void 0&&(I=!0,re(w),C(w)),oe!==void 0&&w>=oe?ue.next(w-oe):(!I&&re(w),b)}}}function v2(t,e,n){const s=[],a=n||cr.mix||QA,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||wi:e;f=Ou(m,f)}s.push(f)}return s}function E2(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Wy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=v2(e,s,a),m=f.length,p=_=>{if(u&&_<t[0])return e[0];let E=0;if(m>1)for(;E<t.length-2&&!(_<t[E+1]);E++);const b=gu(t[E],t[E+1],_);return f[E](b)};return n?_=>p(Ns(t[0],t[l-1],_)):p}function T2(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=gu(0,e,s);t.push(Ct(n,1,a))}}function b2(t){const e=[0];return T2(e,t.length-1),e}function x2(t,e){return t.map(n=>n*e)}function S2(t,e){return t.map(()=>e||jA).splice(0,t.length-1)}function au({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=VO(s)?s.map(ib):ib(s),l={done:!1,value:e[0]},u=x2(n&&n.length===e.length?n:b2(e),t),f=E2(u,e,{ease:Array.isArray(a)?a:S2(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const A2=t=>t!==null;function a_(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(A2),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const w2={decay:qg,inertia:qg,tween:au,keyframes:au,spring:Kf};function JA(t){typeof t.type=="string"&&(t.type=w2[t.type])}class o_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const R2=t=>t/100;class l_ extends o_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;JA(e);const{type:n=au,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||au;m!==au&&typeof f[0]!="number"&&(this.mixKeyframes=Ou(R2,QA(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=r_(p));const{calculatedDuration:_}=p;this.calculatedDuration=_,this.resolvedDuration=_+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:_,repeat:E,repeatType:b,repeatDelay:A,type:N,onUpdate:j,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,re=s;if(E){const w=Math.min(this.currentTime,a)/f;let I=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&I--,I=Math.min(I,E+1),I%2&&(b==="reverse"?(P=1-P,A&&(P-=A/f)):b==="mirror"&&(re=u)),q=Ns(0,1,P)*f}const oe=G?{done:!1,value:_[0]}:re.next(q);l&&(oe.value=l(oe.value));let{done:ue}=oe;!G&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return C&&N!==qg&&(oe.value=a_(_,this.options,V,this.speed)),j&&j(oe.value),C&&this.finish(),oe}then(e,n){return this.finished.then(e,n)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(this.currentTime)}set time(e){e=rr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=u2,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function I2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const eo=t=>t*180/Math.PI,Gg=t=>{const e=eo(Math.atan2(t[1],t[0]));return Yg(e)},C2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gg,rotateZ:Gg,skewX:t=>eo(Math.atan(t[1])),skewY:t=>eo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Yg=t=>(t=t%360,t<0&&(t+=360),t),ub=Gg,hb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),N2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hb,scaleY:fb,scale:t=>(hb(t)+fb(t))/2,rotateX:t=>Yg(eo(Math.atan2(t[6],t[5]))),rotateY:t=>Yg(eo(Math.atan2(-t[2],t[0]))),rotateZ:ub,rotate:ub,skewX:t=>eo(Math.atan(t[4])),skewY:t=>eo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Kg(t){return t.includes("scale")?1:0}function $g(t,e){if(!t||t==="none")return Kg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=N2,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=C2,a=f}if(!a)return Kg(e);const l=s[e],u=a[1].split(",").map(O2);return typeof l=="function"?l(u):u[l]}const D2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $g(n,e)};function O2(t){return parseFloat(t.trim())}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(kl),db=t=>t===Ll||t===ve,M2=new Set(["x","y","z"]),P2=kl.filter(t=>!M2.has(t));function V2(t){const e=[];return P2.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Zr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$g(e,"x"),y:(t,{transform:e})=>$g(e,"y")};Zr.translateX=Zr.x;Zr.translateY=Zr.y;const io=new Set;let Qg=!1,Wg=!1,Xg=!1;function ZA(){if(Wg){const t=Array.from(io).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=V2(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Wg=!1,Qg=!1,io.forEach(t=>t.complete(Xg)),io.clear()}function ew(){io.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wg=!0)})}function L2(){Xg=!0,ew(),ZA(),Xg=!1}class c_{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(io.add(this),Qg||(Qg=!0,vt.read(ew),vt.resolveKeyframes(ZA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}I2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),io.delete(this)}cancel(){this.state==="scheduled"&&(io.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const k2=t=>t.startsWith("--");function j2(t,e,n){k2(e)?t.style.setProperty(e,n):t.style[e]=n}const U2=Xy(()=>window.ScrollTimeline!==void 0),z2={};function B2(t,e){const n=Xy(t);return()=>z2[e]??n()}const tw=B2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,mb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wc([0,.65,.55,1]),circOut:Wc([.55,0,1,.45]),backIn:Wc([.31,.01,.66,-.59]),backOut:Wc([.33,1.53,.69,.99])};function nw(t,e){if(t)return typeof t=="function"?tw()?WA(t,e):"ease-out":UA(t)?Wc(t):Array.isArray(t)?t.map(n=>nw(n,e)||mb.easeOut):mb[t]}function F2(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const _={[e]:n};m&&(_.offset=m);const E=nw(f,a);Array.isArray(E)&&(_.easing=E);const b={delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(_,b)}function iw(t){return typeof t=="function"&&"applyToOptions"in t}function H2({type:t,...e}){return iw(t)&&tw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class q2 extends o_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Wy(typeof e.type!="string");const p=H2(e);this.animation=F2(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const _=a_(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(_):j2(n,s,_),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ai(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=rr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&U2()?(this.animation.timeline=e,wi):n(this)}}const sw={anticipate:VA,backInOut:PA,circInOut:kA};function G2(t){return t in sw}function Y2(t){typeof t.ease=="string"&&G2(t.ease)&&(t.ease=sw[t.ease])}const hg=10;class K2 extends q2{constructor(e){Y2(e),JA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new l_({...u,autoplay:!1}),m=Math.max(hg,Nn.now()-this.startTime),p=Ns(0,hg,m-hg);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const pb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(aa.test(t)||t==="0")&&!t.startsWith("url("));function $2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Q2(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=pb(a,e),f=pb(l,e);return!u||!f?!1:$2(t)||(n==="spring"||iw(n))&&s}function Jg(t){t.duration=0,t.type="keyframes"}const W2=new Set(["opacity","clipPath","filter","transform"]),X2=Xy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J2(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return X2()&&n&&W2.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const Z2=40;class eM extends o_{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:_,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:_,...E},A=_?.KeyframeResolver||c_;this.keyframeResolver=new A(f,(N,j,V)=>this.onKeyframesResolved(N,j,b,!V),m,p,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:_}=s;this.resolvedAt=Nn.now(),Q2(e,l,u,f)||((cr.instantAnimations||!m)&&_?.(a_(e,s,n)),e[0]=e[e.length-1],Jg(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Z2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&J2(b),N=b.motionValue?.owner?.current,j=A?new K2({...b,element:N}):new l_(b);j.finished.then(()=>{this.notifyFinished()}).catch(wi),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),L2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function rw(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,_)=>p.sortNodePosition(_)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const tM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nM(t){const e=tM.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function aw(t,e,n=1){const[s,a]=nM(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return wA(u)?parseFloat(u):u}return t_(a)?aw(a,e,n+1):a}const iM={type:"spring",stiffness:500,damping:25,restSpeed:10},sM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rM={type:"keyframes",duration:.8},aM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oM=(t,{keyframes:e})=>e.length>2?rM:jl.has(t)?t.startsWith("scale")?sM(e[1]):iM:aM,lM=t=>t!==null;function cM(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(lM),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function u_(t,e){return t?.[e]??t?.default??t}function uM({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,..._}){return!!Object.keys(_).length}const h_=(t,e,n,s={},a,l)=>u=>{const f=u_(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-rr(m);const _={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};uM(f)||Object.assign(_,oM(t,_)),_.duration&&(_.duration=rr(_.duration)),_.repeatDelay&&(_.repeatDelay=rr(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let E=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(Jg(_),_.delay===0&&(E=!0)),(cr.instantAnimations||cr.skipAnimations||a?.shouldSkipAnimations)&&(E=!0,Jg(_),_.delay=0),_.allowFlatten=!f.type&&!f.ease,E&&!l&&e.get()!==void 0){const b=cM(_.keyframes,f);if(b!==void 0){vt.update(()=>{_.onUpdate(b),_.onComplete()});return}}return f.isSync?new l_(_):new eM(_)};function gb(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function f_(t,e,n,s){if(typeof e=="function"){const[a,l]=gb(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=gb(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function gl(t,e,n){const s=t.getProps();return f_(s,e,n!==void 0?n:s.custom,t)}const ow=new Set(["width","height","top","left","right","bottom",...kl]),yb=30,hM=t=>!isNaN(parseFloat(t));class fM{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jy);const s=this.events[e].add(n);return e==="change"?()=>{s(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yb);return CA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sl(t,e){return new fM(t,e)}const Zg=t=>Array.isArray(t);function dM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sl(n))}function mM(t){return Zg(t)?t[t.length-1]||0:t}function pM(t,e){const n=gl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=mM(l[u]);dM(t,u,f)}}const An=t=>!!(t&&t.getVelocity);function gM(t){return!!(An(t)&&t.add)}function ey(t,e){const n=t.getValue("willChange");if(gM(n))return n.add(e);if(!n&&cr.WillChange){const s=new cr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function d_(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const yM="framerAppearId",lw="data-"+d_(yM);function cw(t){return t.props[lw]}function _M({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function uw(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;const m=l?.reduceMotion;s&&(l=s);const p=[],_=a&&t.animationState&&t.animationState.getState()[a];for(const E in f){const b=t.getValue(E,t.latestValues[E]??null),A=f[E];if(A===void 0||_&&_M(_,E))continue;const N={delay:n,...u_(l||{},E)},j=b.get();if(j!==void 0&&!b.isAnimating&&!Array.isArray(A)&&A===j&&!N.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const q=cw(t);if(q){const re=window.MotionHandoffAnimation(q,E,vt);re!==null&&(N.startTime=re,V=!0)}}ey(t,E);const B=m??t.shouldReduceMotion;b.start(h_(E,b,A,B&&ow.has(E)?{type:!1}:N,t,V));const G=b.animation;G&&p.push(G)}return u&&Promise.all(p).then(()=>{vt.update(()=>{u&&pM(t,u)})}),p}function ty(t,e,n={}){const s=gl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(uw(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:_,staggerDirection:E}=a;return vM(t,e,m,p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function vM(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(ty(m,e,{...u,delay:n+(typeof s=="function"?0:s)+rw(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function EM(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>ty(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=ty(t,e,n);else{const a=typeof e=="function"?gl(t,e,n.custom):e;s=Promise.all(uw(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const TM={test:t=>t==="auto",parse:t=>t},hw=t=>e=>e.test(t),fw=[Ll,ve,Ss,$r,$O,KO,TM],_b=t=>fw.find(hw(t));function bM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IA(t):!0}const xM=new Set(["brightness","contrast","saturate","opacity"]);function SM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(n_)||[];if(!s)return t;const a=n.replace(s,"");let l=xM.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const AM=/\b([a-z-]*)\(.*?\)/gu,ny={...aa,getAnimatableNone:t=>{const e=t.match(AM);return e?e.map(SM).join(" "):t}},vb={...Ll,transform:Math.round},wM={rotate:$r,rotateX:$r,rotateY:$r,rotateZ:$r,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:$r,skewX:$r,skewY:$r,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:yu,originX:rb,originY:rb,originZ:ve},m_={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,inset:ve,insetBlock:ve,insetBlockStart:ve,insetBlockEnd:ve,insetInline:ve,insetInlineStart:ve,insetInlineEnd:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,paddingBlock:ve,paddingBlockStart:ve,paddingBlockEnd:ve,paddingInline:ve,paddingInlineStart:ve,paddingInlineEnd:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,marginBlock:ve,marginBlockStart:ve,marginBlockEnd:ve,marginInline:ve,marginInlineStart:ve,marginInlineEnd:ve,fontSize:ve,backgroundPositionX:ve,backgroundPositionY:ve,...wM,zIndex:vb,fillOpacity:yu,strokeOpacity:yu,numOctaves:vb},RM={...m_,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:ny,WebkitFilter:ny},dw=t=>RM[t];function mw(t,e){let n=dw(t);return n!==ny&&(n=aa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const IM=new Set(["auto","none","0"]);function CM(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!IM.has(l)&&_u(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=mw(n,a)}class NM extends c_{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let _=0;_<e.length;_++){let E=e[_];if(typeof E=="string"&&(E=E.trim(),t_(E))){const b=aw(E,n.current);b!==void 0&&(e[_]=b),_===e.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!ow.has(s)||e.length!==2)return;const[a,l]=e,u=_b(a),f=_b(l),m=sb(a),p=sb(l);if(m!==p&&Zr[s]){this.needsMeasurement=!0;return}if(u!==f)if(db(u)&&db(f))for(let _=0;_<e.length;_++){const E=e[_];typeof E=="string"&&(e[_]=parseFloat(E))}else Zr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||bM(e[a]))&&s.push(a);s.length&&CM(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Zr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function DM(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(s=>s!=null)}const pw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function iy(t){return RA(t)&&"offsetHeight"in t}const{schedule:p_}=zA(queueMicrotask,!1),qi={x:!1,y:!1};function gw(){return qi.x||qi.y}function OM(t){return t==="x"||t==="y"?qi[t]?null:(qi[t]=!0,()=>{qi[t]=!1}):qi.x||qi.y?null:(qi.x=qi.y=!0,()=>{qi.x=qi.y=!1})}function yw(t,e){const n=DM(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Eb(t){return!(t.pointerType==="touch"||gw())}function MM(t,e,n={}){const[s,a,l]=yw(t,n),u=f=>{if(!Eb(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const _=E=>{Eb(E)&&(p(E),m.removeEventListener("pointerleave",_))};m.addEventListener("pointerleave",_,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const _w=(t,e)=>e?t===e?!0:_w(t,e.parentElement):!1,g_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VM(t){return PM.has(t.tagName)||t.isContentEditable===!0}const LM=new Set(["INPUT","SELECT","TEXTAREA"]);function kM(t){return LM.has(t.tagName)||t.isContentEditable===!0}const Df=new WeakSet;function Tb(t){return e=>{e.key==="Enter"&&t(e)}}function fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jM=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Tb(()=>{if(Df.has(n))return;fg(n,"down");const a=Tb(()=>{fg(n,"up")}),l=()=>fg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function bb(t){return g_(t)&&!gw()}function UM(t,e,n={}){const[s,a,l]=yw(t,n),u=f=>{const m=f.currentTarget;if(!bb(f))return;Df.add(m);const p=e(m,f),_=(A,N)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",b),Df.has(m)&&Df.delete(m),bb(A)&&typeof p=="function"&&p(A,{success:N})},E=A=>{_(A,m===window||m===document||n.useGlobalTarget||_w(m,A.target))},b=A=>{_(A,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),iy(f)&&(f.addEventListener("focus",p=>jM(p,a)),!VM(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function vw(t){return RA(t)&&"ownerSVGElement"in t}function zM(t){return vw(t)&&t.tagName==="svg"}const BM=[...fw,Jt,aa],FM=t=>BM.find(hw(t)),xb=()=>({translate:0,scale:1,origin:0,originPoint:0}),fl=()=>({x:xb(),y:xb()}),Sb=()=>({min:0,max:0}),sn=()=>({x:Sb(),y:Sb()}),sy={current:null},Ew={current:!1},HM=typeof window<"u";function qM(){if(Ew.current=!0,!!HM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sy.current=t.matches;t.addEventListener("change",e),e()}else sy.current=!1}const GM=new WeakMap;function Sd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vu(t){return typeof t=="string"||Array.isArray(t)}const y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],__=["initial",...y_];function Ad(t){return Sd(t.animate)||__.some(e=>vu(t[e]))}function Tw(t){return!!(Ad(t)||t.variants)}function YM(t,e,n){for(const s in e){const a=e[s],l=n[s];if(An(a))t.addValue(s,a);else if(An(l))t.addValue(s,Sl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Sl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Ab=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let $f={};function bw(t){$f=t}function KM(){return $f}class $M{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=c_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Nn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,vt.render(this.render,!1,!0))};const{latestValues:p,renderState:_}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=_,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Ad(n),this.isVariantNode=Tw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:E,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in b){const N=b[A];p[A]!==void 0&&An(N)&&N.set(p[A])}}mount(e){this.current=e,GM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Ew.current||qM(),this.shouldReduceMotion=sy.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ra(this.notifyUpdate),ra(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=jl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&vt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $f){const n=$f[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ab.length;s++){const a=Ab[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=YM(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Sl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(wA(s)||IA(s))?s=parseFloat(s):!FM(s)&&aa.test(n)&&(s=mw(e,n)),this.setBaseTarget(e,An(s)?s.get():s)),An(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=f_(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!An(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){p_.render(this.render)}}class xw extends $M{constructor(){super(...arguments),this.KeyframeResolver=NM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;An(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class da{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Sw({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function QM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function dg(t){return t===void 0||t===1}function ry({scale:t,scaleX:e,scaleY:n}){return!dg(t)||!dg(e)||!dg(n)}function Xa(t){return ry(t)||Aw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Aw(t){return wb(t.x)||wb(t.y)}function wb(t){return t&&t!=="0%"}function Qf(t,e,n){const s=t-n,a=e*s;return n+a}function Rb(t,e,n,s,a){return a!==void 0&&(t=Qf(t,a,s)),Qf(t,n,s)+e}function ay(t,e=0,n=1,s,a){t.min=Rb(t.min,e,n,s,a),t.max=Rb(t.max,e,n,s,a)}function ww(t,{x:e,y:n}){ay(t.x,e.translate,e.scale,e.originPoint),ay(t.y,n.translate,n.scale,n.originPoint)}const Ib=.999999999999,Cb=1.0000000000001;function XM(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ml(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,ww(t,u)),s&&Xa(l.latestValues)&&ml(t,l.latestValues))}e.x<Cb&&e.x>Ib&&(e.x=1),e.y<Cb&&e.y>Ib&&(e.y=1)}function dl(t,e){t.min=t.min+e,t.max=t.max+e}function Nb(t,e,n,s,a=.5){const l=Ct(t.min,t.max,a);ay(t,e,n,l,s)}function ml(t,e){Nb(t.x,e.x,e.scaleX,e.scale,e.originX),Nb(t.y,e.y,e.scaleY,e.scale,e.originY)}function Rw(t,e){return Sw(WM(t.getBoundingClientRect(),e))}function JM(t,e,n){const s=Rw(t,n),{scroll:a}=e;return a&&(dl(s.x,a.offset.x),dl(s.y,a.offset.y)),s}const ZM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eP=kl.length;function tP(t,e,n){let s="",a=!0;for(let l=0;l<eP;l++){const u=kl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(u.startsWith("scale")?1:0);else{const p=parseFloat(f);m=u.startsWith("scale")?p===1:p===0}if(!m||n){const p=pw(f,m_[u]);if(!m){a=!1;const _=ZM[u]||u;s+=`${_}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function v_(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(jl.has(m)){u=!0;continue}else if(FA(m)){a[m]=p;continue}else{const _=pw(p,m_[m]);m.startsWith("origin")?(f=!0,l[m]=_):s[m]=_}}if(e.transform||(u||n?s.transform=tP(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:_=0}=l;s.transformOrigin=`${m} ${p} ${_}`}}function Iw(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Db(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $c={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=Db(t,e.target.x),s=Db(t,e.target.y);return`${n}% ${s}%`}},nP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=aa.parse(t);if(a.length>5)return s;const l=aa.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const p=Ct(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},oy={borderRadius:{...$c,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$c,borderTopRightRadius:$c,borderBottomLeftRadius:$c,borderBottomRightRadius:$c,boxShadow:nP};function Cw(t,{layout:e,layoutId:n}){return jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!oy[t]||t==="opacity")}function E_(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(An(s[u])||a&&An(a[u])||Cw(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function iP(t){return window.getComputedStyle(t)}class sP extends xw{constructor(){super(...arguments),this.type="html",this.renderInstance=Iw}readValueFromInstance(e,n){if(jl.has(n))return this.projection?.isProjecting?Kg(n):D2(e,n);{const s=iP(e),a=(FA(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Rw(e,n)}build(e,n,s){v_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return E_(e,n,s)}}const rP={offset:"stroke-dashoffset",array:"stroke-dasharray"},aP={offset:"strokeDashoffset",array:"strokeDasharray"};function oP(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?rP:aP;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const lP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Nw(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,_){if(v_(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:b}=t;E.transform&&(b.transform=E.transform,delete E.transform),(b.transform||E.transformOrigin)&&(b.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),b.transform&&(b.transformBox=_?.transformBox??"fill-box",delete E.transformBox);for(const A of lP)E[A]!==void 0&&(b[A]=E[A],delete E[A]);e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),a!==void 0&&oP(E,a,l,u,!1)}const Dw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ow=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cP(t,e,n,s){Iw(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Dw.has(a)?a:d_(a),e.attrs[a])}function Mw(t,e,n){const s=E_(t,e,n);for(const a in t)if(An(t[a])||An(e[a])){const l=kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class uP extends xw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jl.has(n)){const s=dw(n);return s&&s.default||0}return n=Dw.has(n)?n:d_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Mw(e,n,s)}build(e,n,s){Nw(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){cP(e,n,s,a)}mount(e){this.isSVGTag=Ow(e.tagName),super.mount(e)}}const hP=__.length;function Pw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Pw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<hP;n++){const s=__[n],a=t.props[s];(vu(a)||a===!1)&&(e[s]=a)}return e}function Vw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const fP=[...y_].reverse(),dP=y_.length;function mP(t){return e=>Promise.all(e.map(({animation:n,options:s})=>EM(t,n,s)))}function pP(t){let e=mP(t),n=Ob(),s=!0;const a=m=>(p,_)=>{const E=gl(t,_,m==="exit"?t.presenceContext?.custom:void 0);if(E){const{transition:b,transitionEnd:A,...N}=E;p={...p,...N,...A}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,_=Pw(t.parent)||{},E=[],b=new Set;let A={},N=1/0;for(let V=0;V<dP;V++){const B=fP[V],G=n[B],q=p[B]!==void 0?p[B]:_[B],re=vu(q),oe=B===m?G.isActive:null;oe===!1&&(N=V);let ue=q===_[B]&&q!==p[B]&&re;if(ue&&s&&t.manuallyAnimateOnMount&&(ue=!1),G.protectedKeys={...A},!G.isActive&&oe===null||!q&&!G.prevProp||Sd(q)||typeof q=="boolean")continue;const C=gP(G.prevProp,q);let w=C||B===m&&G.isActive&&!ue&&re||V>N&&re,I=!1;const P=Array.isArray(q)?q:[q];let L=P.reduce(a(B),{});oe===!1&&(L={});const{prevResolvedValues:k={}}=G,D={...k,...L},De=ae=>{w=!0,b.has(ae)&&(I=!0,b.delete(ae)),G.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in D){const de=L[ae],Ce=k[ae];if(A.hasOwnProperty(ae))continue;let Pe=!1;Zg(de)&&Zg(Ce)?Pe=!Vw(de,Ce):Pe=de!==Ce,Pe?de!=null?De(ae):b.add(ae):de!==void 0&&b.has(ae)?De(ae):G.protectedKeys[ae]=!0}G.prevProp=q,G.prevResolvedValues=L,G.isActive&&(A={...A,...L}),s&&t.blockInitialAnimation&&(w=!1);const Xe=ue&&C;w&&(!Xe||I)&&E.push(...P.map(ae=>{const de={type:B};if(typeof ae=="string"&&s&&!Xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ce}=t,Pe=gl(Ce,ae);if(Ce.enteringChildren&&Pe){const{delayChildren:U}=Pe.transition||{};de.delay=rw(Ce.enteringChildren,t,U)}}return{animation:ae,options:de}}))}if(b.size){const V={};if(typeof p.initial!="boolean"){const B=gl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(V.transition=B.transition)}b.forEach(B=>{const G=t.getBaseTarget(B),q=t.getValue(B);q&&(q.liveStyle=!0),V[B]=G??null}),E.push({animation:V})}let j=!!E.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(E):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(E=>E.animationState?.setActive(m,p)),n[m].isActive=p;const _=u(m);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Ob()}}}function gP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Vw(e,t):!1}function Qa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ob(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}function Mb(t,e){t.min=e.min,t.max=e.max}function Hi(t,e){Mb(t.x,e.x),Mb(t.y,e.y)}function Pb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Lw=1e-4,yP=1-Lw,_P=1+Lw,kw=.01,vP=0-kw,EP=0+kw;function Dn(t){return t.max-t.min}function TP(t,e,n){return Math.abs(t-e)<=n}function Vb(t,e,n,s=.5){t.origin=s,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=yP&&t.scale<=_P||isNaN(t.scale))&&(t.scale=1),(t.translate>=vP&&t.translate<=EP||isNaN(t.translate))&&(t.translate=0)}function ou(t,e,n,s){Vb(t.x,e.x,n.x,s?s.originX:void 0),Vb(t.y,e.y,n.y,s?s.originY:void 0)}function Lb(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function bP(t,e,n){Lb(t.x,e.x,n.x),Lb(t.y,e.y,n.y)}function kb(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function Wf(t,e,n){kb(t.x,e.x,n.x),kb(t.y,e.y,n.y)}function jb(t,e,n,s,a){return t-=e,t=Qf(t,1/n,s),a!==void 0&&(t=Qf(t,1/a,s)),t}function xP(t,e=0,n=1,s=.5,a,l=t,u=t){if(Ss.test(e)&&(e=parseFloat(e),e=Ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Ct(l.min,l.max,s);t===l&&(f-=e),t.min=jb(t.min,e,n,f,a),t.max=jb(t.max,e,n,f,a)}function Ub(t,e,[n,s,a],l,u){xP(t,e[n],e[s],e[a],e.scale,l,u)}const SP=["x","scaleX","originX"],AP=["y","scaleY","originY"];function zb(t,e,n,s){Ub(t.x,e,SP,n?n.x:void 0,s?s.x:void 0),Ub(t.y,e,AP,n?n.y:void 0,s?s.y:void 0)}function Bb(t){return t.translate===0&&t.scale===1}function jw(t){return Bb(t.x)&&Bb(t.y)}function Fb(t,e){return t.min===e.min&&t.max===e.max}function wP(t,e){return Fb(t.x,e.x)&&Fb(t.y,e.y)}function Hb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Uw(t,e){return Hb(t.x,e.x)&&Hb(t.y,e.y)}function qb(t){return Dn(t.x)/Dn(t.y)}function Gb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Ti(t){return[t("x"),t("y")]}function RP(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:_,rotateX:E,rotateY:b,skewX:A,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),_&&(s+=`rotate(${_}deg) `),E&&(s+=`rotateX(${E}deg) `),b&&(s+=`rotateY(${b}deg) `),A&&(s+=`skewX(${A}deg) `),N&&(s+=`skewY(${N}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const zw=["TopLeft","TopRight","BottomLeft","BottomRight"],IP=zw.length,Yb=t=>typeof t=="string"?parseFloat(t):t,Kb=t=>typeof t=="number"||ve.test(t);function CP(t,e,n,s,a,l){a?(t.opacity=Ct(0,n.opacity??1,NP(s)),t.opacityExit=Ct(e.opacity??1,0,DP(s))):l&&(t.opacity=Ct(e.opacity??1,n.opacity??1,s));for(let u=0;u<IP;u++){const f=`border${zw[u]}Radius`;let m=$b(e,f),p=$b(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Kb(m)===Kb(p)?(t[f]=Math.max(Ct(Yb(m),Yb(p),s),0),(Ss.test(p)||Ss.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,s))}function $b(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NP=Bw(0,.5,LA),DP=Bw(.5,.95,wi);function Bw(t,e,n){return s=>s<t?0:s>e?1:n(gu(t,e,s))}function OP(t,e,n){const s=An(t)?t:Sl(t);return s.start(h_("",s,e,n)),s.animation}function Eu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const MP=(t,e)=>t.depth-e.depth;class PP{constructor(){this.children=[],this.isDirty=!1}add(e){$y(this.children,e),this.isDirty=!0}remove(e){Qy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MP),this.isDirty=!1,this.children.forEach(e)}}function VP(t,e){const n=Nn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ra(s),t(l-e))};return vt.setup(s,!0),()=>ra(s)}function Of(t){return An(t)?t.get():t}class LP{constructor(){this.members=[]}add(e){$y(this.members,e),e.scheduleRender()}remove(e){if(Qy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:f}=e.options;f===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},mg=["","X","Y","Z"],kP=1e3;let jP=0;function pg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Fw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Fw(s)}function Hw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=jP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BP),this.nodes.forEach(GP),this.nodes.forEach(YP),this.nodes.forEach(FP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new PP)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Jy),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=vw(u)&&!zM(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let _,E=0;const b=()=>this.root.updateBlockedByResize=!1;vt.read(()=>{E=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==E&&(E=A,this.root.updateBlockedByResize=!0,_&&_(),_=VP(b,250),Mf.hasAnimatedSinceResize&&(Mf.hasAnimatedSinceResize=!1,this.nodes.forEach(Xb)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:b,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||XP,{onLayoutAnimationStart:j,onLayoutAnimationComplete:V}=p.getProps(),B=!this.targetLayout||!Uw(this.targetLayout,A),G=!E&&b;if(this.options.layoutRoot||this.resumeFrom||G||E&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...u_(N,"layout"),onPlay:j,onComplete:V};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(_,G)}else E||Xb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const E=this.path[_];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qP),this.nodes.forEach(UP),this.nodes.forEach(zP)):this.nodes.forEach(Wb),this.clearAllSnapshots();const f=Nn.now();yn.delta=Ns(0,1e3/60,f-yn.timestamp),yn.timestamp=f,yn.isProcessing=!0,ag.update.process(yn),ag.preRender.process(yn),ag.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HP),this.sharedNodes.forEach($P)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!jw(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,_=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Xa(this.latestValues)||_)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),JP(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return sn();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZP))){const{scroll:p}=this.root;p&&(dl(f.x,p.offset.x),dl(f.y,p.offset.y))}return f}removeElementScroll(u){const f=sn();if(Hi(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:_,options:E}=p;p!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Hi(f,u),dl(f.x,_.offset.x),dl(f.y,_.offset.y))}return f}applyTransform(u,f=!1){const m=sn();Hi(m,u);for(let p=0;p<this.path.length;p++){const _=this.path[p];!f&&_.options.layoutScroll&&_.scroll&&_!==_.root&&ml(m,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),Xa(_.latestValues)&&ml(m,_.latestValues)}return Xa(this.latestValues)&&ml(m,this.latestValues),m}removeTransform(u){const f=sn();Hi(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Xa(p.latestValues))continue;ry(p.latestValues)&&p.updateSnapshot();const _=sn(),E=p.measurePageBox();Hi(_,E),zb(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,_)}return Xa(this.latestValues)&&zb(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!this.layout||!(_||E))return;this.resolvedRelativeTargetAt=yn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hi(this.target,this.layout.layoutBox),ww(this.target,this.targetDelta)):Hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ry(this.parent.latestValues)||Aw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Wf(this.relativeTargetOrigin,f,m),Hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||_))return;Hi(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;XM(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=sn());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pb(this.prevProjectionDelta.x,this.projectionDelta.x),Pb(this.prevProjectionDelta.y,this.projectionDelta.y)),ou(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==b||!Gb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fl(),this.projectionDelta=fl(),this.projectionDeltaWithTransform=fl()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},_={...this.latestValues},E=fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=sn(),A=m?m.source:void 0,N=this.layout?this.layout.source:void 0,j=A!==N,V=this.getStack(),B=!V||V.members.length<=1,G=!!(j&&!B&&this.options.crossfade===!0&&!this.path.some(WP));this.animationProgress=0;let q;this.mixTargetDelta=re=>{const oe=re/1e3;Jb(E.x,u.x,oe),Jb(E.y,u.y,oe),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QP(this.relativeTarget,this.relativeTargetOrigin,b,oe),q&&wP(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=sn()),Hi(q,this.relativeTarget)),j&&(this.animationValues=_,CP(_,p,this.latestValues,oe,G,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{Mf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sl(0)),this.currentAnimation=OP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:_}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&qw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||sn();const E=Dn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+E;const b=Dn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}Hi(f,m),ml(f,_),ou(this.projectionDeltaWithTransform,this.layoutCorrected,f,_)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new LP),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&pg("z",u,p,this.animationValues);for(let _=0;_<mg.length;_++)pg(`rotate${mg[_]}`,u,p,this.animationValues),pg(`skew${mg[_]}`,u,p,this.animationValues);u.render();for(const _ in p)u.setStaticValue(_,p[_]),this.animationValues&&(this.animationValues[_]=p[_]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Of(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Of(f?.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const _=p.animationValues||p.latestValues;this.applyTransformsToTarget();let E=RP(this.projectionDeltaWithTransform,this.treeScale,_);m&&(E=m(_,E)),u.transform=E;const{x:b,y:A}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:u.opacity=p===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const N in oy){if(_[N]===void 0)continue;const{correct:j,applyTo:V,isCSSVariable:B}=oy[N],G=E==="none"?_[N]:j(_[N],p);if(V){const q=V.length;for(let re=0;re<q;re++)u[V[re]]=G}else B?this.options.visualElement.renderState.vars[N]=G:u[N]=G}this.options.layoutId&&(u.pointerEvents=p===this?Of(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Qb),this.root.sharedNodes.clear()}}}function UP(t){t.updateLayout()}function zP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Ti(_=>{const E=l?e.measuredBox[_]:e.layoutBox[_],b=Dn(E);E.min=n[_].min,E.max=E.min+b}):qw(a,e.layoutBox,n)&&Ti(_=>{const E=l?e.measuredBox[_]:e.layoutBox[_],b=Dn(n[_]);E.max=E.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+b)});const u=fl();ou(u,n,e.layoutBox);const f=fl();l?ou(f,t.applyTransform(s,!0),e.measuredBox):ou(f,n,e.layoutBox);const m=!jw(u);let p=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:b}=_;if(E&&b){const A=sn();Wf(A,e.layoutBox,E.layoutBox);const N=sn();Wf(N,n,b.layoutBox),Uw(A,N)||(p=!0),_.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=A,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function BP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function FP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HP(t){t.clearSnapshot()}function Qb(t){t.clearMeasurements()}function Wb(t){t.isLayoutDirty=!1}function qP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GP(t){t.resolveTargetDelta()}function YP(t){t.calcProjection()}function KP(t){t.resetSkewAndRotation()}function $P(t){t.removeLeadSnapshot()}function Jb(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Zb(t,e,n,s){t.min=Ct(e.min,n.min,s),t.max=Ct(e.max,n.max,s)}function QP(t,e,n,s){Zb(t.x,e.x,n.x,s),Zb(t.y,e.y,n.y,s)}function WP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XP={duration:.45,ease:[.4,0,.1,1]},ex=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tx=ex("applewebkit/")&&!ex("chrome/")?Math.round:wi;function nx(t){t.min=tx(t.min),t.max=tx(t.max)}function JP(t){nx(t.x),nx(t.y)}function qw(t,e,n){return t==="position"||t==="preserve-aspect"&&!TP(qb(e),qb(n),.2)}function ZP(t){return t!==t.root&&t.scroll?.wasRoot}const eV=Hw({attachResizeListener:(t,e)=>Eu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),gg={current:void 0},Gw=Hw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gg.current){const t=new eV({});t.mount(window),t.setOptions({layoutScroll:!0}),gg.current=t}return gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),T_=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ix(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tV(...t){return e=>{let n=!1;const s=t.map(a=>{const l=ix(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():ix(t[a],null)}}}}function nV(...t){return O.useCallback(tV(...t),t)}class iV extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=iy(s)&&s.offsetWidth||0,l=iy(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function sV({children:t,isPresent:e,anchorX:n,anchorY:s,root:a}){const l=O.useId(),u=O.useRef(null),f=O.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=O.useContext(T_),p=t.props?.ref??t?.ref,_=nV(u,p);return O.useInsertionEffect(()=>{const{width:E,height:b,top:A,left:N,right:j,bottom:V}=f.current;if(e||!u.current||!E||!b)return;const B=n==="left"?`left: ${N}`:`right: ${j}`,G=s==="bottom"?`bottom: ${V}`:`top: ${A}`;u.current.dataset.motionPopId=l;const q=document.createElement("style");m&&(q.nonce=m);const re=a??document.head;return re.appendChild(q),q.sheet&&q.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${b}px !important;
            ${B}px !important;
            ${G}px !important;
          }
        `),()=>{re.contains(q)&&re.removeChild(q)}},[e]),y.jsx(iV,{isPresent:e,childRef:u,sizeRef:f,children:O.cloneElement(t,{ref:_})})}const rV=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:m,root:p})=>{const _=Ky(aV),E=O.useId();let b=!0,A=O.useMemo(()=>(b=!1,{id:E,initial:e,isPresent:n,custom:a,onExitComplete:N=>{_.set(N,!0);for(const j of _.values())if(!j)return;s&&s()},register:N=>(_.set(N,!1),()=>_.delete(N))}),[n,_,s]);return l&&b&&(A={...A}),O.useMemo(()=>{_.forEach((N,j)=>_.set(j,!1))},[n]),O.useEffect(()=>{!n&&!_.size&&s&&s()},[n]),u==="popLayout"&&(t=y.jsx(sV,{isPresent:n,anchorX:f,anchorY:m,root:p,children:t})),y.jsx(xd.Provider,{value:A,children:t})};function aV(){return new Map}function Yw(t=!0){const e=O.useContext(xd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const vf=t=>t.key||"";function sx(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const oV=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:m="top",root:p})=>{const[_,E]=Yw(u),b=O.useMemo(()=>sx(t),[t]),A=u&&!_?[]:b.map(vf),N=O.useRef(!0),j=O.useRef(b),V=Ky(()=>new Map),B=O.useRef(new Set),[G,q]=O.useState(b),[re,oe]=O.useState(b);AA(()=>{N.current=!1,j.current=b;for(let w=0;w<re.length;w++){const I=vf(re[w]);A.includes(I)?(V.delete(I),B.current.delete(I)):V.get(I)!==!0&&V.set(I,!1)}},[re,A.length,A.join("-")]);const ue=[];if(b!==G){let w=[...b];for(let I=0;I<re.length;I++){const P=re[I],L=vf(P);A.includes(L)||(w.splice(I,0,P),ue.push(P))}return l==="wait"&&ue.length&&(w=ue),oe(sx(w)),q(b),null}const{forceRender:C}=O.useContext(Yy);return y.jsx(y.Fragment,{children:re.map(w=>{const I=vf(w),P=u&&!_?!1:b===re||A.includes(I),L=()=>{if(B.current.has(I))return;if(B.current.add(I),V.has(I))V.set(I,!0);else return;let k=!0;V.forEach(D=>{D||(k=!1)}),k&&(C?.(),oe(j.current),u&&E?.(),s&&s())};return y.jsx(rV,{isPresent:P,initial:!N.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:P?void 0:L,anchorX:f,anchorY:m,children:w},I)})})},Kw=O.createContext({strict:!1}),rx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ax=!1;function lV(){if(ax)return;const t={};for(const e in rx)t[e]={isEnabled:n=>rx[e].some(s=>!!n[s])};bw(t),ax=!0}function $w(){return lV(),KM()}function cV(t){const e=$w();for(const n in t)e[n]={...e[n],...t[n]};bw(e)}const uV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uV.has(t)}let Qw=t=>!Xf(t);function hV(t){typeof t=="function"&&(Qw=e=>e.startsWith("on")?!Xf(e):t(e))}try{hV(require("@emotion/is-prop-valid").default)}catch{}function fV(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(Qw(a)||n===!0&&Xf(a)||!e&&!Xf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const wd=O.createContext({});function dV(t,e){if(Ad(t)){const{initial:n,animate:s}=t;return{initial:n===!1||vu(n)?n:void 0,animate:vu(s)?s:void 0}}return t.inherit!==!1?e:{}}function mV(t){const{initial:e,animate:n}=dV(t,O.useContext(wd));return O.useMemo(()=>({initial:e,animate:n}),[ox(e),ox(n)])}function ox(t){return Array.isArray(t)?t.join(" "):t}const b_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ww(t,e,n){for(const s in e)!An(e[s])&&!Cw(s,n)&&(t[s]=e[s])}function pV({transformTemplate:t},e){return O.useMemo(()=>{const n=b_();return v_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gV(t,e){const n=t.style||{},s={};return Ww(s,n,t),Object.assign(s,pV(t,e)),s}function yV(t,e){const n={},s=gV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Xw=()=>({...b_(),attrs:{}});function _V(t,e,n,s){const a=O.useMemo(()=>{const l=Xw();return Nw(l,e,Ow(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Ww(l,t.style,t),a.style={...l,...a.style}}return a}const vV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x_(t){return typeof t!="string"||t.includes("-")?!1:!!(vV.indexOf(t)>-1||/[A-Z]/u.test(t))}function EV(t,e,n,{latestValues:s},a,l=!1,u){const m=(u??x_(t)?_V:yV)(e,s,a,t),p=fV(e,typeof t=="string",l),_=t!==O.Fragment?{...p,...m,ref:n}:{},{children:E}=e,b=O.useMemo(()=>An(E)?E.get():E,[E]);return O.createElement(t,{..._,children:b})}function TV({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:bV(n,s,a,t),renderState:e()}}function bV(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=Of(l[b]);let{initial:u,animate:f}=t;const m=Ad(t),p=Tw(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let _=n?n.initial===!1:!1;_=_||u===!1;const E=_?f:u;if(E&&typeof E!="boolean"&&!Sd(E)){const b=Array.isArray(E)?E:[E];for(let A=0;A<b.length;A++){const N=f_(t,b[A]);if(N){const{transitionEnd:j,transition:V,...B}=N;for(const G in B){let q=B[G];if(Array.isArray(q)){const re=_?q.length-1:0;q=q[re]}q!==null&&(a[G]=q)}for(const G in j)a[G]=j[G]}}}return a}const Jw=t=>(e,n)=>{const s=O.useContext(wd),a=O.useContext(xd),l=()=>TV(t,e,s,a);return n?l():Ky(l)},xV=Jw({scrapeMotionValuesFromProps:E_,createRenderState:b_}),SV=Jw({scrapeMotionValuesFromProps:Mw,createRenderState:Xw}),AV=Symbol.for("motionComponentSymbol");function wV(t,e,n){const s=O.useRef(n);O.useInsertionEffect(()=>{s.current=n});const a=O.useRef(null);return O.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const Zw=O.createContext({});function Xc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RV(t,e,n,s,a,l){const{visualElement:u}=O.useContext(wd),f=O.useContext(Kw),m=O.useContext(xd),p=O.useContext(T_),_=p.reducedMotion,E=p.skipAnimations,b=O.useRef(null),A=O.useRef(!1);s=s||f.renderer,!b.current&&s&&(b.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:_,skipAnimations:E,isSVG:l}),A.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const N=b.current,j=O.useContext(Zw);N&&!N.projection&&a&&(N.type==="html"||N.type==="svg")&&IV(b.current,n,a,j);const V=O.useRef(!1);O.useInsertionEffect(()=>{N&&V.current&&N.update(n,m)});const B=n[lw],G=O.useRef(!!B&&!window.MotionHandoffIsComplete?.(B)&&window.MotionHasOptimisedAnimation?.(B));return AA(()=>{A.current=!0,N&&(V.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),N.scheduleRenderMicrotask(),G.current&&N.animationState&&N.animationState.animateChanges())}),O.useEffect(()=>{N&&(!G.current&&N.animationState&&N.animationState.animateChanges(),G.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(B)}),G.current=!1),N.enteringChildren=void 0)}),N}function IV(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:_}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Xc(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:_,layoutScroll:m,layoutRoot:p})}function eR(t){if(t)return t.options.allowProjection!==!1?t.projection:eR(t.parent)}function yg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&cV(s);const l=n?n==="svg":x_(t),u=l?SV:xV;function f(p,_){let E;const b={...O.useContext(T_),...p,layoutId:CV(p)},{isStatic:A}=b,N=mV(p),j=u(p,A);if(!A&&SA){NV();const V=DV(b);E=V.MeasureLayout,N.visualElement=RV(t,j,b,a,V.ProjectionNode,l)}return y.jsxs(wd.Provider,{value:N,children:[E&&N.visualElement?y.jsx(E,{visualElement:N.visualElement,...b}):null,EV(t,p,wV(j,N.visualElement,_),j,A,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=O.forwardRef(f);return m[AV]=t,m}function CV({layoutId:t}){const e=O.useContext(Yy).id;return e&&t!==void 0?e+"-"+t:t}function NV(t,e){O.useContext(Kw).strict}function DV(t){const e=$w(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function OV(t,e){if(typeof Proxy>"u")return yg;const n=new Map,s=(l,u)=>yg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,yg(u,void 0,t,e)),n.get(u))})}const MV=(t,e)=>e.isSVG??x_(t)?new uP(e):new sP(e,{allowProjection:t!==O.Fragment});class PV extends da{constructor(e){super(e),e.animationState||(e.animationState=pP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VV=0;class LV extends da{constructor(){super(...arguments),this.id=VV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kV={animation:{Feature:PV},exit:{Feature:LV}};function Vu(t){return{point:{x:t.pageX,y:t.pageY}}}const jV=t=>e=>g_(e)&&t(e,Vu(e));function lu(t,e,n,s){return Eu(t,e,jV(n),s)}const tR=({current:t})=>t?t.ownerDocument.defaultView:null,lx=(t,e)=>Math.abs(t-e);function UV(t,e){const n=lx(t.x,e.x),s=lx(t.y,e.y);return Math.sqrt(n**2+s**2)}const cx=new Set(["auto","scroll"]);class nR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=vg(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,j=UV(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!j)return;const{point:V}=A,{timestamp:B}=yn;this.history.push({...V,timestamp:B});const{onStart:G,onMove:q}=this.handlers;N||(G&&G(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,A)},this.handlePointerMove=(A,N)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=_g(N,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(A,N)=>{this.end();const{onEnd:j,onSessionEnd:V,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=vg(A.type==="pointercancel"?this.lastMoveEventInfo:_g(N,this.transformPagePoint),this.history);this.startEvent&&j&&j(A,G),V&&V(A,G)},!g_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=Vu(e),p=_g(m,this.transformPagePoint),{point:_}=p,{timestamp:E}=yn;this.history=[{..._,timestamp:E}];const{onSessionStart:b}=n;b&&b(e,vg(p,this.history)),this.removeListeners=Ou(lu(this.contextWindow,"pointermove",this.handlePointerMove),lu(this.contextWindow,"pointerup",this.handlePointerUp),lu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(cx.has(s.overflowX)||cx.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),vt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ra(this.updatePoint)}}function _g(t,e){return e?{point:e(t.point)}:t}function ux(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vg({point:t},e){return{point:t,delta:ux(t,iR(e)),offset:ux(t,zV(e)),velocity:BV(e,.1)}}function zV(t){return t[0]}function iR(t){return t[t.length-1]}function BV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=iR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>rr(e)));)n--;if(!s)return{x:0,y:0};const l=Ai(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function FV(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ct(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ct(n,t,s.max):Math.min(t,n)),t}function hx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function HV(t,{top:e,left:n,bottom:s,right:a}){return{x:hx(t.x,n,a),y:hx(t.y,e,s)}}function fx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function qV(t,e){return{x:fx(t.x,e.x),y:fx(t.y,e.y)}}function GV(t,e){let n=.5;const s=Dn(t),a=Dn(e);return a>s?n=gu(e.min,e.max-s,t.min):s>a&&(n=gu(t.min,t.max-a,e.min)),Ns(0,1,n)}function YV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ly=.35;function KV(t=ly){return t===!1?t=0:t===!0&&(t=ly),{x:dx(t,"left","right"),y:dx(t,"top","bottom")}}function dx(t,e,n){return{min:mx(t,e),max:mx(t,n)}}function mx(t,e){return typeof t=="number"?t:t[e]||0}const $V=new WeakMap;class QV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=E=>{n?(this.stopAnimation(),this.snapToCursor(Vu(E).point)):this.pauseAnimation()},u=(E,b)=>{this.stopAnimation();const{drag:A,dragPropagation:N,onDragStart:j}=this.getProps();if(A&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OM(A),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(B=>{let G=this.getAxisMotionValue(B).get()||0;if(Ss.test(G)){const{projection:q}=this.visualElement;if(q&&q.layout){const re=q.layout.layoutBox[B];re&&(G=Dn(re)*(parseFloat(G)/100))}}this.originPoint[B]=G}),j&&vt.update(()=>j(E,b),!1,!0),ey(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},f=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b;const{dragPropagation:A,dragDirectionLock:N,onDirectionLock:j,onDrag:V}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=b;if(N&&this.currentDirection===null){this.currentDirection=WV(B),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",b.point,B),this.updateAxis("y",b.point,B),this.visualElement.render(),V&&vt.update(()=>V(E,b),!1,!0)},m=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b,this.stop(E,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ti(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new nR(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:s,contextWindow:tR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&vt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Ef(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=FV(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Xc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=HV(s.layoutBox,e):this.constraints=!1,this.elastic=KV(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ti(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=YV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xc(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=JM(s,a.root,this.visualElement.getTransformPagePoint());let u=qV(a.layout.layoutBox,l);if(n){const f=n(QM(u));this.hasMutatedConstraints=!!f,f&&(u=Sw(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Ti(_=>{if(!Ef(_,n,this.currentDirection))return;let E=m&&m[_]||{};u&&(E={min:0,max:0});const b=a?200:1e6,A=a?40:1e7,N={type:"inertia",velocity:s?e[_]:0,bounceStiffness:b,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(_,N)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ey(this.visualElement,e),s.start(h_(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ti(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ti(n=>{const{drag:s}=this.getProps();if(!Ef(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-Ct(u,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Xc(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ti(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=GV({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ti(u=>{if(!Ef(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(Ct(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;$V.set(this.visualElement,this);const e=this.visualElement.current,n=lu(e,"pointerdown",m=>{const{drag:p,dragListener:_=!0}=this.getProps(),E=m.target,b=E!==e&&kM(E);p&&_&&!b&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Xc(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),vt.read(s);const u=Eu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ti(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=m[_].translate,E.set(E.get()+m[_].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=ly,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Ef(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function WV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XV extends da{constructor(e){super(e),this.removeGroupControls=wi,this.removeListeners=wi,this.controls=new QV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Eg=t=>(e,n)=>{t&&vt.update(()=>t(e,n),!1,!0)};class JV extends da{constructor(){super(...arguments),this.removePointerDownListener=wi}onPointerDown(e){this.session=new nR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Eg(e),onStart:Eg(n),onMove:Eg(s),onEnd:(l,u)=>{delete this.session,a&&vt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=lu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Tg=!1;class ZV extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Tg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),Tg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||vt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),p_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Tg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sR(t){const[e,n]=Yw(),s=O.useContext(Yy);return y.jsx(ZV,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(Zw),isPresent:e,safeToRemove:n})}const eL={pan:{Feature:JV},drag:{Feature:XV,ProjectionNode:Gw,MeasureLayout:sR}};function px(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&vt.postRender(()=>l(e,Vu(e)))}class tL extends da{mount(){const{current:e}=this.node;e&&(this.unmount=MM(e,(n,s)=>(px(this.node,s,"Start"),a=>px(this.node,a,"End"))))}unmount(){}}class nL extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ou(Eu(this.node.current,"focus",()=>this.onFocus()),Eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gx(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&vt.postRender(()=>l(e,Vu(e)))}class iL extends da{mount(){const{current:e}=this.node;e&&(this.unmount=UM(e,(n,s)=>(gx(this.node,s,"Start"),(a,{success:l})=>gx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cy=new WeakMap,bg=new WeakMap,sL=t=>{const e=cy.get(t.target);e&&e(t)},rL=t=>{t.forEach(sL)};function aL({root:t,...e}){const n=t||document;bg.has(n)||bg.set(n,{});const s=bg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(rL,{root:t,...e})),s[a]}function oL(t,e,n){const s=aL(e);return cy.set(t,n),s.observe(t),()=>{cy.delete(t),s.unobserve(t)}}const lL={some:0,all:1};class cL extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:lL[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:_,onViewportLeave:E}=this.node.getProps(),b=p?_:E;b&&b(m)};return oL(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uL(e,n))&&this.startObserver()}unmount(){}}function uL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hL={inView:{Feature:cL},tap:{Feature:iL},focus:{Feature:nL},hover:{Feature:tL}},fL={layout:{ProjectionNode:Gw,MeasureLayout:sR}},dL={...kV,...hL,...eL,...fL},Pt=OV(dL,MV),mL=()=>{};var yx={};const rR=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},pL=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},aR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,A=p&63;m||(A=64,u||(b=64)),s.push(n[_],n[E],n[b],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const E=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||E==null)throw new gL;const b=l<<2|f>>4;if(s.push(b),p!==64){const A=f<<4&240|p>>2;if(s.push(A),E!==64){const N=p<<6&192|E;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yL=function(t){const e=rR(t);return aR.encodeByteArray(e,!0)},Jf=function(t){return yL(t).replace(/\./g,"")},oR=function(t){try{return aR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _L(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vL=()=>_L().__FIREBASE_DEFAULTS__,EL=()=>{if(typeof process>"u"||typeof yx>"u")return;const t=yx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oR(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return mL()||vL()||EL()||TL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lR=t=>Rd()?.emulatorHosts?.[t],cR=t=>{const e=lR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},uR=()=>Rd()?.config,hR=t=>Rd()?.[`_${t}`];class bL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S_(t){return(await fetch(t,{credentials:"include"})).ok}function fR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jf(JSON.stringify(n)),Jf(JSON.stringify(u)),""].join(".")}const cu={};function xL(){const t={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?t.emulator.push(e):t.prod.push(e);return t}function SL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _x=!1;function A_(t,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||cu[t]===e||cu[t]||_x)return;cu[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=xL().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{_x=!0,u()},b}function _(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=SL(s),A=n("text"),N=document.getElementById(A)||document.createElement("span"),j=n("learnmore"),V=document.getElementById(j)||document.createElement("a"),B=n("preprendIcon"),G=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;f(q),_(V,j);const re=p();m(G,B),q.append(G,N,V,re),document.body.appendChild(q)}l?(N.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function wL(){const t=Rd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CL(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NL(){return!wL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function DL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const OL="FirebaseError";class Ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=OL,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mo.prototype.create)}}class mo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?ML(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ci(a,f,s)}}function ML(t,e){return t.replace(PL,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const PL=/\{\$([^}]+)}/g;function VL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ur(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(vx(l)&&vx(u)){if(!ur(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function vx(t){return t!==null&&typeof t=="object"}function Lu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LL(t,e){const n=new kL(t,e);return n.subscribe.bind(n)}class kL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}const UL=1e3,zL=2,BL=14400*1e3,FL=.5;function Ex(t,e=UL,n=zL){const s=e*Math.pow(n,t),a=Math.round(FL*s*(Math.random()-.5)*2);return Math.min(BL,s+a)}function Vt(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ja="[DEFAULT]";class HL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bL;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GL(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qL(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qL(t){return t===Ja?void 0:t}function GL(t){return t.instantiationMode==="EAGER"}class YL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const KL={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},$L=Ke.INFO,QL={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},WL=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=QL[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Id{constructor(e){this.name=e,this._logLevel=$L,this._logHandler=WL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const XL=(t,e)=>e.some(n=>t instanceof n);let Tx,bx;function JL(){return Tx||(Tx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZL(){return bx||(bx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gR=new WeakMap,uy=new WeakMap,yR=new WeakMap,Sg=new WeakMap,w_=new WeakMap;function ek(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ta(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&gR.set(n,t)}).catch(()=>{}),w_.set(e,t),e}function tk(t){if(uy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});uy.set(t,e)}let hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nk(t){hy=t(hy)}function ik(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ag(this),e,...n);return yR.set(s,e.sort?e.sort():[e]),ta(s)}:ZL().includes(t)?function(...e){return t.apply(Ag(this),e),ta(gR.get(this))}:function(...e){return ta(t.apply(Ag(this),e))}}function sk(t){return typeof t=="function"?ik(t):(t instanceof IDBTransaction&&tk(t),XL(t,JL())?new Proxy(t,hy):t)}function ta(t){if(t instanceof IDBRequest)return ek(t);if(Sg.has(t))return Sg.get(t);const e=sk(t);return e!==t&&(Sg.set(t,e),w_.set(e,t)),e}const Ag=t=>w_.get(t);function _R(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=ta(u);return s&&u.addEventListener("upgradeneeded",m=>{s(ta(u.result),m.oldVersion,m.newVersion,ta(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const rk=["get","getKey","getAll","getAllKeys","count"],ak=["put","add","delete","clear"],wg=new Map;function xx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ak.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||rk.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return wg.set(e,l),l}nk(t=>({...t,get:(e,n,s)=>xx(e,n)||t.get(e,n,s),has:(e,n)=>!!xx(e,n)||t.has(e,n)}));class ok{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lk(t){return t.getComponent()?.type==="VERSION"}const fy="@firebase/app",Sx="0.14.7";const hr=new Id("@firebase/app"),ck="@firebase/app-compat",uk="@firebase/analytics-compat",hk="@firebase/analytics",fk="@firebase/app-check-compat",dk="@firebase/app-check",mk="@firebase/auth",pk="@firebase/auth-compat",gk="@firebase/database",yk="@firebase/data-connect",_k="@firebase/database-compat",vk="@firebase/functions",Ek="@firebase/functions-compat",Tk="@firebase/installations",bk="@firebase/installations-compat",xk="@firebase/messaging",Sk="@firebase/messaging-compat",Ak="@firebase/performance",wk="@firebase/performance-compat",Rk="@firebase/remote-config",Ik="@firebase/remote-config-compat",Ck="@firebase/storage",Nk="@firebase/storage-compat",Dk="@firebase/firestore",Ok="@firebase/ai",Mk="@firebase/firestore-compat",Pk="firebase",Vk="12.8.0";const dy="[DEFAULT]",Lk={[fy]:"fire-core",[ck]:"fire-core-compat",[hk]:"fire-analytics",[uk]:"fire-analytics-compat",[dk]:"fire-app-check",[fk]:"fire-app-check-compat",[mk]:"fire-auth",[pk]:"fire-auth-compat",[gk]:"fire-rtdb",[yk]:"fire-data-connect",[_k]:"fire-rtdb-compat",[vk]:"fire-fn",[Ek]:"fire-fn-compat",[Tk]:"fire-iid",[bk]:"fire-iid-compat",[xk]:"fire-fcm",[Sk]:"fire-fcm-compat",[Ak]:"fire-perf",[wk]:"fire-perf-compat",[Rk]:"fire-rc",[Ik]:"fire-rc-compat",[Ck]:"fire-gcs",[Nk]:"fire-gcs-compat",[Dk]:"fire-fst",[Mk]:"fire-fst-compat",[Ok]:"fire-vertex","fire-js":"fire-js",[Pk]:"fire-js-all"};const Zf=new Map,kk=new Map,my=new Map;function Ax(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wi(t){const e=t.name;if(my.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(const n of Zf.values())Ax(n,t);for(const n of kk.values())Ax(n,t);return!0}function ma(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t==null?!1:t.settings!==void 0}const jk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new mo("app","Firebase",jk);class Uk{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}const po=Vk;function vR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:dy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw na.create("bad-app-name",{appName:String(a)});if(n||(n=uR()),!n)throw na.create("no-options");const l=Zf.get(a);if(l){if(ur(n,l.options)&&ur(s,l.config))return l;throw na.create("duplicate-app",{appName:a})}const u=new YL(a);for(const m of my.values())u.addComponent(m);const f=new Uk(n,s,u);return Zf.set(a,f),f}function Cd(t=dy){const e=Zf.get(t);if(!e&&t===dy&&uR())return vR();if(!e)throw na.create("no-app",{appName:t});return e}function Hn(t,e,n){let s=Lk[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(u.join(" "));return}Wi(new Ii(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const zk="firebase-heartbeat-database",Bk=1,Tu="firebase-heartbeat-store";let Rg=null;function ER(){return Rg||(Rg=_R(zk,Bk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw na.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function Fk(t){try{const n=(await ER()).transaction(Tu),s=await n.objectStore(Tu).get(TR(t));return await n.done,s}catch(e){if(e instanceof Ci)hr.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function wx(t,e){try{const s=(await ER()).transaction(Tu,"readwrite");await s.objectStore(Tu).put(e,TR(t)),await s.done}catch(n){if(n instanceof Ci)hr.warn(n.message);else{const s=na.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function TR(t){return`${t.name}!${t.options.appId}`}const Hk=1024,qk=30;class Gk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>qk){const a=$k(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rx(),{heartbeatsToSend:n,unsentEntries:s}=Yk(this._heartbeatsCache.heartbeats),a=Jf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return hr.warn(e),""}}}function Rx(){return new Date().toISOString().substring(0,10)}function Yk(t,e=Hk){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Ix(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ix(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Kk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ix(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}function $k(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function Qk(t){Wi(new Ii("platform-logger",e=>new ok(e),"PRIVATE")),Wi(new Ii("heartbeat",e=>new Gk(e),"PRIVATE")),Hn(fy,Sx,t),Hn(fy,Sx,"esm2020"),Hn("fire-js","")}Qk("");var Cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ia,bR;(function(){var t;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(P,L,k){for(var D=Array(arguments.length-2),De=2;De<arguments.length;De++)D[De-2]=arguments[De];return w.prototype[L].apply(P,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,w,I){I||(I=0);const P=Array(16);if(typeof w=="string")for(var L=0;L<16;++L)P[L]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(L=0;L<16;++L)P[L]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],L=C.g[2];let k=C.g[3],D;D=w+(k^I&(L^k))+P[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(L^w&(I^L))+P[1]+3905402710&4294967295,k=w+(D<<12&4294967295|D>>>20),D=L+(I^k&(w^I))+P[2]+606105819&4294967295,L=k+(D<<17&4294967295|D>>>15),D=I+(w^L&(k^w))+P[3]+3250441966&4294967295,I=L+(D<<22&4294967295|D>>>10),D=w+(k^I&(L^k))+P[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(L^w&(I^L))+P[5]+1200080426&4294967295,k=w+(D<<12&4294967295|D>>>20),D=L+(I^k&(w^I))+P[6]+2821735955&4294967295,L=k+(D<<17&4294967295|D>>>15),D=I+(w^L&(k^w))+P[7]+4249261313&4294967295,I=L+(D<<22&4294967295|D>>>10),D=w+(k^I&(L^k))+P[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(L^w&(I^L))+P[9]+2336552879&4294967295,k=w+(D<<12&4294967295|D>>>20),D=L+(I^k&(w^I))+P[10]+4294925233&4294967295,L=k+(D<<17&4294967295|D>>>15),D=I+(w^L&(k^w))+P[11]+2304563134&4294967295,I=L+(D<<22&4294967295|D>>>10),D=w+(k^I&(L^k))+P[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(L^w&(I^L))+P[13]+4254626195&4294967295,k=w+(D<<12&4294967295|D>>>20),D=L+(I^k&(w^I))+P[14]+2792965006&4294967295,L=k+(D<<17&4294967295|D>>>15),D=I+(w^L&(k^w))+P[15]+1236535329&4294967295,I=L+(D<<22&4294967295|D>>>10),D=w+(L^k&(I^L))+P[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^L&(w^I))+P[6]+3225465664&4294967295,k=w+(D<<9&4294967295|D>>>23),D=L+(w^I&(k^w))+P[11]+643717713&4294967295,L=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(L^k))+P[0]+3921069994&4294967295,I=L+(D<<20&4294967295|D>>>12),D=w+(L^k&(I^L))+P[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^L&(w^I))+P[10]+38016083&4294967295,k=w+(D<<9&4294967295|D>>>23),D=L+(w^I&(k^w))+P[15]+3634488961&4294967295,L=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(L^k))+P[4]+3889429448&4294967295,I=L+(D<<20&4294967295|D>>>12),D=w+(L^k&(I^L))+P[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^L&(w^I))+P[14]+3275163606&4294967295,k=w+(D<<9&4294967295|D>>>23),D=L+(w^I&(k^w))+P[3]+4107603335&4294967295,L=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(L^k))+P[8]+1163531501&4294967295,I=L+(D<<20&4294967295|D>>>12),D=w+(L^k&(I^L))+P[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^L&(w^I))+P[2]+4243563512&4294967295,k=w+(D<<9&4294967295|D>>>23),D=L+(w^I&(k^w))+P[7]+1735328473&4294967295,L=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(L^k))+P[12]+2368359562&4294967295,I=L+(D<<20&4294967295|D>>>12),D=w+(I^L^k)+P[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^L)+P[8]+2272392833&4294967295,k=w+(D<<11&4294967295|D>>>21),D=L+(k^w^I)+P[11]+1839030562&4294967295,L=k+(D<<16&4294967295|D>>>16),D=I+(L^k^w)+P[14]+4259657740&4294967295,I=L+(D<<23&4294967295|D>>>9),D=w+(I^L^k)+P[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^L)+P[4]+1272893353&4294967295,k=w+(D<<11&4294967295|D>>>21),D=L+(k^w^I)+P[7]+4139469664&4294967295,L=k+(D<<16&4294967295|D>>>16),D=I+(L^k^w)+P[10]+3200236656&4294967295,I=L+(D<<23&4294967295|D>>>9),D=w+(I^L^k)+P[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^L)+P[0]+3936430074&4294967295,k=w+(D<<11&4294967295|D>>>21),D=L+(k^w^I)+P[3]+3572445317&4294967295,L=k+(D<<16&4294967295|D>>>16),D=I+(L^k^w)+P[6]+76029189&4294967295,I=L+(D<<23&4294967295|D>>>9),D=w+(I^L^k)+P[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^L)+P[12]+3873151461&4294967295,k=w+(D<<11&4294967295|D>>>21),D=L+(k^w^I)+P[15]+530742520&4294967295,L=k+(D<<16&4294967295|D>>>16),D=I+(L^k^w)+P[2]+3299628645&4294967295,I=L+(D<<23&4294967295|D>>>9),D=w+(L^(I|~k))+P[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~L))+P[7]+1126891415&4294967295,k=w+(D<<10&4294967295|D>>>22),D=L+(w^(k|~I))+P[14]+2878612391&4294967295,L=k+(D<<15&4294967295|D>>>17),D=I+(k^(L|~w))+P[5]+4237533241&4294967295,I=L+(D<<21&4294967295|D>>>11),D=w+(L^(I|~k))+P[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~L))+P[3]+2399980690&4294967295,k=w+(D<<10&4294967295|D>>>22),D=L+(w^(k|~I))+P[10]+4293915773&4294967295,L=k+(D<<15&4294967295|D>>>17),D=I+(k^(L|~w))+P[1]+2240044497&4294967295,I=L+(D<<21&4294967295|D>>>11),D=w+(L^(I|~k))+P[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~L))+P[15]+4264355552&4294967295,k=w+(D<<10&4294967295|D>>>22),D=L+(w^(k|~I))+P[6]+2734768916&4294967295,L=k+(D<<15&4294967295|D>>>17),D=I+(k^(L|~w))+P[13]+1309151649&4294967295,I=L+(D<<21&4294967295|D>>>11),D=w+(L^(I|~k))+P[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~L))+P[11]+3174756917&4294967295,k=w+(D<<10&4294967295|D>>>22),D=L+(w^(k|~I))+P[2]+718787259&4294967295,L=k+(D<<15&4294967295|D>>>17),D=I+(k^(L|~w))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,P=this.C;let L=this.h,k=0;for(;k<w;){if(L==0)for(;k<=I;)a(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(P[L++]=C.charCodeAt(k++),L==this.blockSize){a(this,P),L=0;break}}else for(;k<w;)if(P[L++]=C[k++],L==this.blockSize){a(this,P),L=0;break}}this.h=L,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)C[w++]=this.g[I]>>>P&255;return C};function l(C,w){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function u(C,w){this.h=w;const I=[];let P=!0;for(let L=C.length-1;L>=0;L--){const k=C[L]|0;P&&k==w||(I[L]=k,P=!1)}this.g=I}var f={};function m(C){return-128<=C&&C<128?l(C,function(w){return new u([w|0],w<0?-1:0)}):new u([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return V(p(-C));const w=[];let I=1;for(let P=0;C>=I;P++)w[P]=C/I|0,I*=4294967296;return new u(w,0)}function _(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return V(_(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(w,8));let P=E;for(let k=0;k<C.length;k+=8){var L=Math.min(8,C.length-k);const D=parseInt(C.substring(k,k+L),w);L<8?(L=p(Math.pow(w,L)),P=P.j(L).add(p(D))):(P=P.j(I),P=P.add(p(D)))}return P}var E=m(0),b=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(j(this))return-V(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);C+=(P>=0?P:4294967296+P)*w,w*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(j(this))return"-"+V(this).toString(C);const w=p(Math.pow(C,6));var I=this;let P="";for(;;){const L=re(I,w).g;I=B(I,L.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=L,N(I))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function j(C){return C.h==-1}t.l=function(C){return C=B(this,C),j(C)?-1:N(C)?0:1};function V(C){const w=C.g.length,I=[];for(let P=0;P<w;P++)I[P]=~C.g[P];return new u(I,~C.h).add(b)}t.abs=function(){return j(this)?V(this):this},t.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let P=0;for(let L=0;L<=w;L++){let k=P+(this.i(L)&65535)+(C.i(L)&65535),D=(k>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);P=D>>>16,k&=65535,D&=65535,I[L]=D<<16|k}return new u(I,I[I.length-1]&-2147483648?-1:0)};function B(C,w){return C.add(V(w))}t.j=function(C){if(N(this)||N(C))return E;if(j(this))return j(C)?V(this).j(V(C)):V(V(this).j(C));if(j(C))return V(this.j(V(C)));if(this.l(A)<0&&C.l(A)<0)return p(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var P=0;P<2*w;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<C.g.length;L++){const k=this.i(P)>>>16,D=this.i(P)&65535,De=C.i(L)>>>16,Xe=C.i(L)&65535;I[2*P+2*L]+=D*Xe,G(I,2*P+2*L),I[2*P+2*L+1]+=k*Xe,G(I,2*P+2*L+1),I[2*P+2*L+1]+=D*De,G(I,2*P+2*L+1),I[2*P+2*L+2]+=k*De,G(I,2*P+2*L+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new u(I,0)};function G(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function q(C,w){this.g=C,this.h=w}function re(C,w){if(N(w))throw Error("division by zero");if(N(C))return new q(E,E);if(j(C))return w=re(V(C),w),new q(V(w.g),V(w.h));if(j(w))return w=re(C,V(w)),new q(V(w.g),w.h);if(C.g.length>30){if(j(C)||j(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,P=w;P.l(C)<=0;)I=oe(I),P=oe(P);var L=ue(I,1),k=ue(P,1);for(P=ue(P,2),I=ue(I,2);!N(P);){var D=k.add(P);D.l(C)<=0&&(L=L.add(I),k=D),P=ue(P,1),I=ue(I,1)}return w=B(C,L.j(w)),new q(L,w)}for(L=E;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=p(I),D=k.j(w);j(D)||D.l(C)>0;)I-=P,k=p(I),D=k.j(w);N(k)&&(k=b),L=L.add(k),C=B(C,D)}return new q(L,C)}t.B=function(C){return re(this,C).h},t.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)&C.i(P);return new u(I,this.h&C.h)},t.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)|C.i(P);return new u(I,this.h|C.h)},t.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)^C.i(P);return new u(I,this.h^C.h)};function oe(C){const w=C.g.length+1,I=[];for(let P=0;P<w;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new u(I,C.h)}function ue(C,w){const I=w>>5;w%=32;const P=C.g.length-I,L=[];for(let k=0;k<P;k++)L[k]=w>0?C.i(k+I)>>>w|C.i(k+I+1)<<32-w:C.i(k+I);return new u(L,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,bR=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,ia=u}).apply(typeof Cx<"u"?Cx:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xR,eu,SR,Pf,py,AR,wR,RR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var v=0;v<h.length;++v){var x=h[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var x=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var Y=h[R];if(!(Y in x))break e;x=x[Y]}h=h[h.length-1],R=x[h],v=v(R),v!=R&&v!=null&&e(x,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var x=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&x.push([R,v[R]]);return x}});var l=l||{},u=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,x){return h.call.apply(h.bind,arguments)}function p(h,v,x){return p=m,p.apply(null,arguments)}function _(h,v){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function E(h,v){function x(){}x.prototype=v.prototype,h.Z=v.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(R,Y,W){for(var fe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)fe[Le-2]=arguments[Le];return v.prototype[Y].apply(R,fe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const v=h.length;if(v>0){const x=Array(v);for(let R=0;R<v;R++)x[R]=h[R];return x}return[]}function N(h,v){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var x=typeof Y;if(x=x!="object"?x:Y?Array.isArray(Y)?"array":x:"null",x=="array"||x=="object"&&typeof Y.length=="number"){x=h.length||0;const W=Y.length||0;h.length=x+W;for(let fe=0;fe<W;fe++)h[x+fe]=Y[fe]}else h.push(Y)}}class j{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(h){u.setTimeout(()=>{throw h},0)}function B(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,x){const R=q.get();R.set(v,x),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new j(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ue=!1,C=new G,w=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(I)}};function I(){for(var h;h=B();){try{h.h.call(h.g)}catch(x){V(x)}var v=q;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ue=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,v),u.removeEventListener("test",x,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function De(h,v){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}E(De,L),De.prototype.init=function(h,v){const x=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(x=="mouseover"?v=h.fromElement:x=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(h,v,x,R,Y){this.listener=h,this.proxy=null,this.src=v,this.type=x,this.capture=!!R,this.ha=Y,this.key=++J,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h,v,x){for(const R in h)v.call(x,h[R],R,h)}function Pe(h,v){for(const x in h)v.call(void 0,h[x],x,h)}function U(h){const v={};for(const x in h)v[x]=h[x];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,v){let x,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(x in R)h[x]=R[x];for(let W=0;W<ee.length;W++)x=ee[W],Object.prototype.hasOwnProperty.call(R,x)&&(h[x]=R[x])}}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,v,x,R,Y){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const fe=we(h,v,R,Y);return fe>-1?(v=h[fe],x||(v.fa=!1)):(v=new ae(v,this.src,W,!!R,Y),v.fa=x,h.push(v)),v};function Te(h,v){const x=v.type;if(x in h.g){var R=h.g[x],Y=Array.prototype.indexOf.call(R,v,void 0),W;(W=Y>=0)&&Array.prototype.splice.call(R,Y,1),W&&(de(v),h.g[x].length==0&&(delete h.g[x],h.h--))}}function we(h,v,x,R){for(let Y=0;Y<h.length;++Y){const W=h[Y];if(!W.da&&W.listener==v&&W.capture==!!x&&W.ha==R)return Y}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Be={};function nt(h,v,x,R,Y){if(Array.isArray(v)){for(let W=0;W<v.length;W++)nt(h,v[W],x,R,Y);return null}return x=ts(x),h&&h[Xe]?h.J(v,x,f(R)?!!R.capture:!1,Y):he(h,v,x,!1,R,Y)}function he(h,v,x,R,Y,W){if(!v)throw Error("Invalid event type");const fe=f(Y)?!!Y.capture:!!Y;let Le=Ni(h);if(Le||(h[je]=Le=new pe(h)),x=Le.add(v,x,R,fe,W),x.proxy)return x;if(R=Ue(),x.proxy=R,R.src=h,R.listener=x,h.addEventListener)k||(Y=fe),Y===void 0&&(Y=!1),h.addEventListener(v.toString(),R,Y);else if(h.attachEvent)h.attachEvent(Lt(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ue(){function h(x){return v.call(h.src,h.listener,x)}const v=es;return h}function Ze(h,v,x,R,Y){if(Array.isArray(v))for(var W=0;W<v.length;W++)Ze(h,v[W],x,R,Y);else R=f(R)?!!R.capture:!!R,x=ts(x),h&&h[Xe]?(h=h.i,W=String(v).toString(),W in h.g&&(v=h.g[W],x=we(v,x,R,Y),x>-1&&(de(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete h.g[W],h.h--)))):h&&(h=Ni(h))&&(v=h.g[v.toString()],h=-1,v&&(h=we(v,x,R,Y)),(x=h>-1?v[h]:null)&&Ve(x))}function Ve(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Xe])Te(v.i,h);else{var x=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(x,R,h.capture):v.detachEvent?v.detachEvent(Lt(x),R):v.addListener&&v.removeListener&&v.removeListener(R),(x=Ni(v))?(Te(x,h),x.h==0&&(x.src=null,v[je]=null)):de(h)}}}function Lt(h){return h in Be?Be[h]:Be[h]="on"+h}function es(h,v){if(h.da)h=!0;else{v=new De(v,this);const x=h.listener,R=h.ha||h.src;h.fa&&Ve(h),h=x.call(R,v)}return h}function Ni(h){return h=h[je],h instanceof pe?h:null}var Di="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(h){return typeof h=="function"?h:(h[Di]||(h[Di]=function(v){return h.handleEvent(v)}),h[Di])}function xt(){P.call(this),this.i=new pe(this),this.M=this,this.G=null}E(xt,P),xt.prototype[Xe]=!0,xt.prototype.removeEventListener=function(h,v,x,R){Ze(this,h,v,x,R)};function St(h,v){var x,R=h.G;if(R)for(x=[];R;R=R.G)x.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new L(v,h);else if(v instanceof L)v.target=v.target||h;else{var Y=v;v=new L(R,h),ce(v,Y)}Y=!0;let W,fe;if(x)for(fe=x.length-1;fe>=0;fe--)W=v.g=x[fe],Y=le(W,R,!0,v)&&Y;if(W=v.g=h,Y=le(W,R,!0,v)&&Y,Y=le(W,R,!1,v)&&Y,x)for(fe=0;fe<x.length;fe++)W=v.g=x[fe],Y=le(W,R,!1,v)&&Y}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const x=h.g[v];for(let R=0;R<x.length;R++)de(x[R]);delete h.g[v],h.h--}}this.G=null},xt.prototype.J=function(h,v,x,R){return this.i.add(String(h),v,!1,x,R)},xt.prototype.K=function(h,v,x,R){return this.i.add(String(h),v,!0,x,R)};function le(h,v,x,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let Y=!0;for(let W=0;W<v.length;++W){const fe=v[W];if(fe&&!fe.da&&fe.capture==x){const Le=fe.listener,kt=fe.ha||fe.src;fe.fa&&Te(h.i,fe),Y=Le.call(kt,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function be(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function pt(h){h.g=be(()=>{h.g=null,h.i&&(h.i=!1,pt(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class gt extends P{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(h){P.call(this),this.h=h,this.g={}}E(qn,P);var Rn=[];function H(h){Ce(h.g,function(v,x){this.g.hasOwnProperty(x)&&Ve(v)},h),h.g={}}qn.prototype.N=function(){qn.Z.N.call(this),H(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=u.JSON.stringify,at=u.JSON.parse,tn=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Gn(){}function Yn(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function At(){L.call(this,"d")}E(At,L);function hn(){L.call(this,"c")}E(hn,L);var ot={},oi=null;function va(){return oi=oi||new xt}ot.Ia="serverreachability";function Ea(h){L.call(this,ot.Ia,h)}E(Ea,L);function li(h){const v=va();St(v,new Ea(v))}ot.STAT_EVENT="statevent";function Ta(h,v){L.call(this,ot.STAT_EVENT,h),this.stat=v}E(Ta,L);function Ht(h){const v=va();St(v,new Ta(v,h))}ot.Ja="timingevent";function ns(h,v){L.call(this,ot.Ja,h),this.size=v}E(ns,L);function is(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Oi(){this.g=!0}Oi.prototype.ua=function(){this.g=!1};function tm(h,v,x,R,Y,W){h.info(function(){if(h.g)if(W){var fe="",Le=W.split("&");for(let it=0;it<Le.length;it++){var kt=Le[it].split("=");if(kt.length>1){const wt=kt[0];kt=kt[1];const fi=wt.split("_");fe=fi.length>=2&&fi[1]=="type"?fe+(wt+"="+kt+"&"):fe+(wt+"=redacted&")}}}else fe=null;else fe=W;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+v+`
`+x+`
`+fe})}function Yu(h,v,x,R,Y,W,fe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+v+`
`+x+`
`+W+" "+fe})}function ss(h,v,x,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+nm(h,x)+(R?" "+R:"")})}function ba(h,v){h.info(function(){return"TIMEOUT: "+v})}Oi.prototype.info=function(){};function nm(h,v){if(!h.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var x=W[h];if(!(x.length<2)){var R=x[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let fe=1;fe<R.length;fe++)R[fe]=""}}}}return me(W)}catch{return v}}var xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kl;function Sa(){}E(Sa,Gn),Sa.prototype.g=function(){return new XMLHttpRequest},Kl=new Sa;function Vs(h){return encodeURIComponent(String(h))}function Ku(h){var v=1;h=h.split(":");const x=[];for(;v>0&&h.length;)x.push(h.shift()),v--;return h.length&&x.push(h.join(":")),x}function Mi(h,v,x,R){this.j=h,this.i=v,this.l=x,this.S=R||1,this.V=new qn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pi}function Pi(){this.i=null,this.g="",this.h=!1}var qt={},on={};function rs(h,v,x){h.M=1,h.A=Aa(Yt(v)),h.u=x,h.R=!0,To(h,null)}function To(h,v){h.F=Date.now(),as(h),h.B=Yt(h.A);var x=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Ao(x.i,"t",R),h.C=0,x=h.j.L,h.h=new Pi,h.g=lh(h.j,x?v:null,!h.u),h.P>0&&(h.O=new gt(p(h.Y,h,h.g),h.P)),v=h.V,x=h.g,R=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Rn[0]=Y.toString()),Y=Rn);for(let W=0;W<Y.length;W++){const fe=nt(x,Y[W],R||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),li(),tm(h.i,h.v,h.B,h.l,h.S,h.u)}Mi.prototype.ba=function(h){h=h.target;const v=this.O;v&&ki(h)==3?v.j():this.Y(h)},Mi.prototype.Y=function(h){try{if(h==this.g)e:{const Le=ki(this.g),kt=this.g.ya(),it=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Le!=4||kt==7||(kt==8||it<=0?li(3):li(2)),os(this);var v=this.g.ca();this.X=v;var x=im(this);if(this.o=v==200,Yu(this.i,this.v,this.B,this.l,this.S,Le,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var W=R;break t}}W=null}if(h=W)ss(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ls(this,h);else{this.o=!1,this.m=3,Ht(12),$n(this),ci(this);break e}}if(this.R){h=!0;let wt;for(;!this.K&&this.C<x.length;)if(wt=Qu(this,x),wt==on){Le==4&&(this.m=4,Ht(14),h=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==qt){this.m=4,Ht(15),ss(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else ss(this.i,this.l,wt,null),ls(this,wt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||x.length!=0||this.h.h||(this.m=1,Ht(16),h=!1),this.o=this.o&&h,!h)ss(this.i,this.l,x,"[Invalid Chunked Response]"),$n(this),ci(this);else if(x.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),lc(fe),fe.P=!0,Ht(11))}}else ss(this.i,this.l,x,null),ls(this,x);Le==4&&$n(this),this.o&&!this.K&&(Le==4?sh(this.j,this):(this.o=!1,as(this)))}else ks(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),$n(this),ci(this)}}}catch{}};function im(h){if(!$u(h))return h.g.la();const v=fn(h.g);if(v==="")return"";let x="";const R=v.length,Y=ki(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return $n(h),ci(h),"";h.h.i=new u.TextDecoder}for(let W=0;W<R;W++)h.h.h=!0,x+=h.h.i.decode(v[W],{stream:!(Y&&W==R-1)});return v.length=0,h.h.g+=x,h.C=0,h.h.g}function $u(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qu(h,v){var x=h.C,R=v.indexOf(`
`,x);return R==-1?on:(x=Number(v.substring(x,R)),isNaN(x)?qt:(R+=1,R+x>v.length?on:(v=v.slice(R,R+x),h.C=R+x,v)))}Mi.prototype.cancel=function(){this.K=!0,$n(this)};function as(h){h.T=Date.now()+h.H,bo(h,h.H)}function bo(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=is(p(h.aa,h),v)}function os(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Mi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ba(this.i,this.B),this.M!=2&&(li(),Ht(17)),$n(this),this.m=2,ci(this)):bo(this,this.T-h)};function ci(h){h.j.I==0||h.K||sh(h.j,h)}function $n(h){os(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,H(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function ls(h,v){try{var x=h.j;if(x.I!=0&&(x.g==h||us(x.h,h))){if(!h.L&&us(x.h,h)&&x.I==3){try{var R=x.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)No(x),xr(x);else break e;Oa(x),Ht(18)}}else x.xa=Y[1],0<x.xa-x.K&&Y[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=is(p(x.Va,x),6e3));cs(x.h)<=1&&x.ta&&(x.ta=void 0)}else gs(x,11)}else if((h.L||x.g==h)&&No(x),!D(v))for(Y=x.Ba.g.parse(v),v=0;v<Y.length;v++){let it=Y[v];const wt=it[0];if(!(wt<=x.K))if(x.K=wt,it=it[1],x.I==2)if(it[0]=="c"){x.M=it[1],x.ba=it[2];const fi=it[3];fi!=null&&(x.ka=fi,x.j.info("VER="+x.ka));const ys=it[4];ys!=null&&(x.za=ys,x.j.info("SVER="+x.za));const ji=it[5];ji!=null&&typeof ji=="number"&&ji>0&&(R=1.5*ji,x.O=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const Ui=h.g;if(Ui){const Ma=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var W=R.h;W.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Wl(W,W.h),W.h=null))}if(R.G){const Do=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(R.wa=Do,lt(R.J,R.G,Do))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),R=x;var fe=h;if(R.na=oh(R,R.L?R.ba:null,R.W),fe.L){Xl(R.h,fe);var Le=fe,kt=R.O;kt&&(Le.H=kt),Le.D&&(os(Le),as(Le)),R.g=fe}else nh(R);x.i.length>0&&ps(x)}else it[0]!="stop"&&it[0]!="close"||gs(x,7);else x.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?gs(x,7):ac(x):it[0]!="noop"&&x.l&&x.l.qa(it),x.A=0)}}li(4)}catch{}}var Gt=class{constructor(h,v){this.g=h,this.map=v}};function $l(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ql(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function cs(h){return h.h?1:h.g?h.g.size:0}function us(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Wl(h,v){h.g?h.g.add(v):h.h=v}function Xl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}$l.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const x of h.g.values())v=v.concat(x.G);return v}return A(h.i)}var Wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xo(h,v){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const R=h[x].indexOf("=");let Y,W=null;R>=0?(Y=h[x].substring(0,R),W=h[x].substring(R+1)):Y=h[x],v(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Qn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Qn?(this.l=h.l,ln(this,h.j),this.o=h.o,this.g=h.g,gr(this,h.u),this.h=h.h,Zl(this,eh(h.i)),this.m=h.m):h&&(v=String(h).match(Wu))?(this.l=!1,ln(this,v[1]||"",!0),this.o=hs(v[2]||""),this.g=hs(v[3]||"",!0),gr(this,v[4]),this.h=hs(v[5]||"",!0),Zl(this,v[6]||"",!0),this.m=hs(v[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}Qn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(wa(v,So,!0),":");var x=this.g;return(x||v=="file")&&(h.push("//"),(v=this.o)&&h.push(wa(v,So,!0),"@"),h.push(Vs(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(wa(x,x.charAt(0)=="/"?ec:Xu,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",wa(x,Ju)),h.join("")},Qn.prototype.resolve=function(h){const v=Yt(this);let x=!!h.j;x?ln(v,h.j):x=!!h.o,x?v.o=h.o:x=!!h.g,x?v.g=h.g:x=h.u!=null;var R=h.h;if(x)gr(v,h.u);else if(x=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=v.h.lastIndexOf("/");Y!=-1&&(R=v.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const W=[];for(let fe=0;fe<Y.length;){const Le=Y[fe++];Le=="."?R&&fe==Y.length&&W.push(""):Le==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&fe==Y.length&&W.push("")):(W.push(Le),R=!0)}R=W.join("/")}else R=Y}return x?v.h=R:x=h.i.toString()!=="",x?Zl(v,eh(h.i)):x=!!h.m,x&&(v.m=h.m),v};function Yt(h){return new Qn(h)}function ln(h,v,x){h.j=x?hs(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function gr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Zl(h,v,x){v instanceof _r?(h.i=v,wo(h.i,h.l)):(x||(v=wa(v,yr)),h.i=new _r(v,h.l))}function lt(h,v,x){h.i.set(v,x)}function Aa(h){return lt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function hs(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function wa(h,v,x){return typeof h=="string"?(h=encodeURI(h).replace(v,Pn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var So=/[#\/\?@]/g,Xu=/[#\?:]/g,ec=/[#\?]/g,yr=/[#\?@]/g,Ju=/#/g;function _r(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&xo(h.i,function(v,x){h.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}t=_r.prototype,t.add=function(h,v){Vn(this),this.i=null,h=vr(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(v),this.h+=1,this};function Zu(h,v){Vn(h),v=vr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function tc(h,v){return Vn(h),v=vr(h,v),h.g.has(v)}t.forEach=function(h,v){Vn(this),this.g.forEach(function(x,R){x.forEach(function(Y){h.call(v,Y,R,this)},this)},this)};function nc(h,v){Vn(h);let x=[];if(typeof v=="string")tc(h,v)&&(x=x.concat(h.g.get(vr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)x=x.concat(h[v]);return x}t.set=function(h,v){return Vn(this),this.i=null,h=vr(this,h),tc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=nc(this,h),h.length>0?String(h[0]):v):v};function Ao(h,v,x){Zu(h,v),x.length>0&&(h.i=null,h.g.set(vr(h,v),A(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var x=v[R];const Y=Vs(x);x=nc(this,x);for(let W=0;W<x.length;W++){let fe=Y;x[W]!==""&&(fe+="="+Vs(x[W])),h.push(fe)}}return this.i=h.join("&")};function eh(h){const v=new _r;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function vr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function wo(h,v){v&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(x,R){const Y=R.toLowerCase();R!=Y&&(Zu(this,R),Ao(this,Y,x))},h)),h.j=v}function Vi(h,v){const x=new Oi;if(u.Image){const R=new Image;R.onload=_(ui,x,"TestLoadImage: loaded",!0,v,R),R.onerror=_(ui,x,"TestLoadImage: error",!1,v,R),R.onabort=_(ui,x,"TestLoadImage: abort",!1,v,R),R.ontimeout=_(ui,x,"TestLoadImage: timeout",!1,v,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function ic(h,v){const x=new Oi,R=new AbortController,Y=setTimeout(()=>{R.abort(),ui(x,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout(Y),W.ok?ui(x,"TestPingServer: ok",!0,v):ui(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),ui(x,"TestPingServer: error",!1,v)})}function ui(h,v,x,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(x)}catch{}}function Er(){this.g=new tn}function fs(h){this.i=h.Sb||null,this.h=h.ab||!1}E(fs,Gn),fs.prototype.g=function(){return new Ra(this.i,this.h)};function Ra(h,v){xt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ra,xt),t=Ra.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Li(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ro(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ro(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Tr(this):Li(this),this.readyState==3&&Ro(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Tr(this))},t.Na=function(h){this.g&&(this.response=h,Tr(this))},t.ga=function(){this.g&&Tr(this)};function Tr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Li(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=v.next();return h.join(`\r
`)};function Li(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hi(h){let v="";return Ce(h,function(x,R){v+=R,v+=":",v+=x,v+=`\r
`}),v}function Ia(h,v,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=hi(x),typeof h=="string"?x!=null&&Vs(x):lt(h,v,x))}function ht(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ht,xt);var ds=/^https?$/i,sc=["POST","PUT"];t=ht.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(W){Ca(this,W);return}if(h=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)x.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())x.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),Y=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(sc,v,void 0)>=0)||R||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,fe]of x)this.g.setRequestHeader(W,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){Ca(this,W)}};function Ca(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,rc(h),Ls(h)}function rc(h){h.A||(h.A=!0,St(h,"complete"),St(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,St(this,"complete"),St(this,"abort"),Ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},t.Xa=function(){Na(this)};function Na(h){if(h.h&&typeof l<"u"){if(h.v&&ki(h)==4)setTimeout(h.Ca.bind(h),0);else if(St(h,"readystatechange"),ki(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var R;if(R=W===0){let fe=String(h.D).match(Wu)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),R=!ds.test(fe?fe.toLowerCase():"")}x=R}if(x)St(h,"complete"),St(h,"success");else{h.o=6;try{var Y=ki(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",rc(h)}}finally{Ls(h)}}}}function Ls(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,v||St(h,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ki(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),at(v)}};function fn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(h){const v={};h=(h.g&&ki(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var x=Ku(h[R]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=v[Y]||[];v[Y]=W,W.push(x)}Pe(v,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(h,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||v}function br(h){this.za=0,this.i=[],this.j=new Oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,h),this.Za=ms("retryDelaySeedMs",1e4,h),this.Ta=ms("forwardChannelMaxRetries",2,h),this.va=ms("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(h&&h.concurrentRequestLimit),this.Ba=new Er,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=br.prototype,t.ka=8,t.I=1,t.connect=function(h,v,x,R){Ht(0),this.W=h,this.H=v||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.J=oh(this,null,this.W),ps(this)};function ac(h){if(Io(h),h.I==3){var v=h.V++,x=Yt(h.J);if(lt(x,"SID",h.M),lt(x,"RID",v),lt(x,"TYPE","terminate"),Da(h,x),v=new Mi(h,h.j,v),v.M=2,v.A=Aa(Yt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=v.A,x=!0),x||(v.g=lh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),as(v)}ah(h)}function xr(h){h.g&&(lc(h),h.g.cancel(),h.g=null)}function Io(h){xr(h),h.v&&(u.clearTimeout(h.v),h.v=null),No(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ps(h){if(!Ql(h.h)&&!h.m){h.m=!0;var v=h.Ea;oe||w(),ue||(oe(),ue=!0),C.add(v,h),h.D=0}}function Co(h,v){return cs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=is(p(h.Ea,h,v),rh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new Mi(this,this.j,h);let W=this.o;if(this.U&&(W?(W=U(W),ce(W,this.U)):W=this.U),this.u!==null||this.R||(Y.J=W,W=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=th(this,Y,v),x=Yt(this.J),lt(x,"RID",h),lt(x,"CVER",22),this.G&&lt(x,"X-HTTP-Session-Id",this.G),Da(this,x),W&&(this.R?v="headers="+Vs(hi(W))+"&"+v:this.u&&Ia(x,this.u,W)),Wl(this.h,Y),this.Ra&&lt(x,"TYPE","init"),this.S?(lt(x,"$req",v),lt(x,"SID","null"),Y.U=!0,rs(Y,x,null)):rs(Y,x,v),this.I=2}}else this.I==3&&(h?oc(this,h):this.i.length==0||Ql(this.h)||oc(this))};function oc(h,v){var x;v?x=v.l:x=h.V++;const R=Yt(h.J);lt(R,"SID",h.M),lt(R,"RID",x),lt(R,"AID",h.K),Da(h,R),h.u&&h.o&&Ia(R,h.u,h.o),x=new Mi(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),v&&(h.i=v.G.concat(h.i)),v=th(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wl(h.h,x),rs(x,R,v)}function Da(h,v){h.H&&Ce(h.H,function(x,R){lt(v,R,x)}),h.l&&Ce({},function(x,R){lt(v,R,x)})}function th(h,v,x){x=Math.min(h.i.length,x);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var Y=h.i;let Le=-1;for(;;){const kt=["count="+x];Le==-1?x>0?(Le=Y[0].g,kt.push("ofs="+Le)):Le=0:kt.push("ofs="+Le);let it=!0;for(let wt=0;wt<x;wt++){var W=Y[wt].g;const fi=Y[wt].map;if(W-=Le,W<0)Le=Math.max(0,Y[wt].g-100),it=!1;else try{W="req"+W+"_"||"";try{var fe=fi instanceof Map?fi:Object.entries(fi);for(const[ys,ji]of fe){let Ui=ji;f(ji)&&(Ui=me(ji)),kt.push(W+ys+"="+encodeURIComponent(Ui))}}catch(ys){throw kt.push(W+"type="+encodeURIComponent("_badmap")),ys}}catch{R&&R(fi)}}if(it){fe=kt.join("&");break e}}fe=void 0}return h=h.i.splice(0,x),v.G=h,fe}function nh(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;oe||w(),ue||(oe(),ue=!0),C.add(v,h),h.A=0}}function Oa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=is(p(h.Da,h),rh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ih(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=is(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),xr(this),ih(this))};function lc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function ih(h){h.g=new Mi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Yt(h.na);lt(v,"RID","rpc"),lt(v,"SID",h.M),lt(v,"AID",h.K),lt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&lt(v,"TO",h.ia),lt(v,"TYPE","xmlhttp"),Da(h,v),h.u&&h.o&&Ia(v,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=Aa(Yt(v)),x.u=null,x.R=!0,To(x,h)}t.Va=function(){this.C!=null&&(this.C=null,xr(this),Oa(this),Ht(19))};function No(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function sh(h,v){var x=null;if(h.g==v){No(h),lc(h),h.g=null;var R=2}else if(us(h.h,v))x=v.G,Xl(h.h,v),R=1;else return;if(h.I!=0){if(v.o)if(R==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var Y=h.D;R=va(),St(R,new ns(R,x)),ps(h)}else nh(h);else if(Y=v.m,Y==3||Y==0&&v.X>0||!(R==1&&Co(h,v)||R==2&&Oa(h)))switch(x&&x.length>0&&(v=h.h,v.i=v.i.concat(x)),Y){case 1:gs(h,5);break;case 4:gs(h,10);break;case 3:gs(h,6);break;default:gs(h,2)}}}function rh(h,v){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*v}function gs(h,v){if(h.j.info("Error code "+v),v==2){var x=p(h.bb,h),R=h.Ua;const Y=!R;R=new Qn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ln(R,"https"),Aa(R),Y?Vi(R.toString(),x):ic(R.toString(),x)}else Ht(2);h.I=0,h.l&&h.l.pa(v),ah(h),Io(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function ah(h){if(h.I=0,h.ja=[],h.l){const v=Jl(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ja,v),N(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function oh(h,v,x){var R=x instanceof Qn?Yt(x):new Qn(x);if(R.g!="")v&&(R.g=v+"."+R.g),gr(R,R.u);else{var Y=u.location;R=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;const W=new Qn(null);R&&ln(W,R),v&&(W.g=v),Y&&gr(W,Y),x&&(W.h=x),R=W}return x=h.G,v=h.wa,x&&v&&lt(R,x,v),lt(R,"VER",h.ka),Da(h,R),R}function lh(h,v,x){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new ht(new fs({ab:x})):new ht(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ch(){}t=ch.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Sr(){}Sr.prototype.g=function(h,v){return new In(h,v)};function In(h,v){xt.call(this),this.g=new br(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new js(this)}E(In,xt),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){ac(this.g)},In.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=me(h),h=x);v.i.push(new Gt(v.Ya++,h)),v.I==3&&ps(v)},In.prototype.N=function(){this.g.l=null,delete this.j,ac(this.g),delete this.g,In.Z.N.call(this)};function uh(h){At.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const x in v){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}E(uh,At);function hh(){hn.call(this),this.status=1}E(hh,hn);function js(h){this.g=h}E(js,ch),js.prototype.ra=function(){St(this.g,"a")},js.prototype.qa=function(h){St(this.g,new uh(h))},js.prototype.pa=function(h){St(this.g,new hh)},js.prototype.oa=function(){St(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,RR=function(){return new Sr},wR=function(){return va()},AR=ot,py={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Pf=xa,Yl.COMPLETE="complete",SR=Yl,Yn.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,eu=Yn,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,xR=ht}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Ul="12.8.0";function Wk(t){Ul=t}const ro=new Id("@firebase/firestore");function ol(){return ro.logLevel}function ye(t,...e){if(ro.logLevel<=Ke.DEBUG){const n=e.map(R_);ro.debug(`Firestore (${Ul}): ${t}`,...n)}}function fr(t,...e){if(ro.logLevel<=Ke.ERROR){const n=e.map(R_);ro.error(`Firestore (${Ul}): ${t}`,...n)}}function Al(t,...e){if(ro.logLevel<=Ke.WARN){const n=e.map(R_);ro.warn(`Firestore (${Ul}): ${t}`,...n)}}function R_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ie(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,IR(t,s,n)}function IR(t,e,n){let s=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function rt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||IR(e,a,s)}function Me(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class CR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class Jk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Zk{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ar,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ar)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new CR(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class ej{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tj{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ej(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ij(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class I_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=ij(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function $e(t,e){return t<e?-1:t>e?1:0}function gy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Ig(a)===Ig(l)?$e(a,l):Ig(a)?1:-1}return $e(t.length,e.length)}const sj=55296,rj=57343;function Ig(t){const e=t.charCodeAt(0);return e>=sj&&e<=rj}function wl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Dx="__name__";class bs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=bs.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return $e(e.length,n.length)}static compareSegments(e,n){const s=bs.isNumericId(e),a=bs.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?bs.extractNumericId(e).compare(bs.extractNumericId(n)):gy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ia.fromString(e.substring(4,e.length-2))}}class _t extends bs{construct(e,n,s){return new _t(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const aj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends bs{construct(e,n,s){return new vn(e,n,s)}static isValidIdentifier(e){return aj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dx}static keyField(){return new vn([Dx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(_t.fromString(e))}static fromName(e){return new Se(_t.fromString(e).popFirst(5))}static empty(){return new Se(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new _t(e.slice()))}}function NR(t,e,n){if(!n)throw new ge(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oj(t,e,n,s){if(e===!0&&s===!0)throw new ge(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ox(t){if(!Se.isDocumentKey(t))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mx(t){if(Se.isDocumentKey(t))throw new ge(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nd(t);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function ku(t,e){if(!DR(t))throw new ge(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ge(ne.INVALID_ARGUMENT,n);return!0}const Px=-62135596800,Vx=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Vx);return new bt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Px)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vx}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Px;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:en("string",bt._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new bt(0,0))}static max(){return new Ne(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bu=-1;function lj(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new bt(n+1,0):new bt(n,s));return new oa(a,Se.empty(),e)}function cj(t){return new oa(t.readTime,t.key,bu)}class oa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new oa(Ne.min(),Se.empty(),bu)}static max(){return new oa(Ne.max(),Se.empty(),bu)}}function uj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}const hj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==hj)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((a=>a?se.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((_=>{u[p]=_,++f,f===l&&s(u)}),(_=>a(_)))}}))}static doWhile(e,n){return new se(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function dj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bl(t){return t.name==="IndexedDbTransactionError"}class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dd.ce=-1;const C_=-1;function Od(t){return t==null}function ed(t){return t===0&&1/t==-1/0}function mj(t){return typeof t=="number"&&Number.isInteger(t)&&!ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const OR="";function pj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lx(e)),e=gj(t.get(n),e);return Lx(e)}function gj(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case OR:n+="";break;default:n+=l}}return n}function Lx(t){return t+OR+""}function kx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Nt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bf(this.root,e,this.comparator,!0)}}class bf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??_n.RED,this.left=a??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new _n(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jx(this.data.getIterator())}getIteratorFrom(e){return new jx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class jx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new si([])}unionWith(e){let n=new an(vn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class PR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new PR("Invalid base64 string: "+l):l}})(e);return new En(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const yj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=yj.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ca(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}const VR="server_timestamp",LR="__type__",kR="__previous_value__",jR="__local_write_time__";function N_(t){return(t?.mapValue?.fields||{})[LR]?.stringValue===VR}function Md(t){const e=t.mapValue.fields[kR];return N_(e)?Md(e):e}function xu(t){const e=la(t.mapValue.fields[jR].timestampValue);return new bt(e.seconds,e.nanos)}class _j{constructor(e,n,s,a,l,u,f,m,p,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=E}}const td="(default)";class Su{constructor(e,n){this.projectId=e,this.database=n||td}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}function vj(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(t.options.projectId,e)}const UR="__type__",Ej="__max__",xf={mapValue:{}},zR="__vector__",nd="value";function ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?N_(t)?4:bj(t)?9007199254740991:Tj(t)?10:11:Ie(28295,{value:t})}function Ds(t,e){if(t===e)return!0;const n=ua(t);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=la(a.timestampValue),f=la(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ca(a.bytesValue).isEqual(ca(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Bt(a.doubleValue),f=Bt(l.doubleValue);return u===f?ed(u)===ed(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return wl(t.arrayValue.values||[],e.arrayValue.values||[],Ds);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(kx(u)!==kx(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Ds(u[m],f[m])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function Au(t,e){return(t.values||[]).find((n=>Ds(n,e)))!==void 0}function Rl(t,e){if(t===e)return 0;const n=ua(t),s=ua(e);if(n!==s)return $e(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Bt(l.integerValue||l.doubleValue),m=Bt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return Ux(t.timestampValue,e.timestampValue);case 4:return Ux(xu(t),xu(e));case 5:return gy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=ca(l),m=ca(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const _=$e(f[p],m[p]);if(_!==0)return _}return $e(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=$e(Bt(l.latitude),Bt(u.latitude));return f!==0?f:$e(Bt(l.longitude),Bt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return zx(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[nd]?.arrayValue,_=m[nd]?.arrayValue,E=$e(p?.values?.length||0,_?.values?.length||0);return E!==0?E:zx(p,_)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===xf.mapValue&&u===xf.mapValue)return 0;if(l===xf.mapValue)return 1;if(u===xf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let E=0;E<m.length&&E<_.length;++E){const b=gy(m[E],_[E]);if(b!==0)return b;const A=Rl(f[m[E]],p[_[E]]);if(A!==0)return A}return $e(m.length,_.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function Ux(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=la(t),s=la(e),a=$e(n.seconds,s.seconds);return a!==0?a:$e(n.nanos,s.nanos)}function zx(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Rl(n[a],s[a]);if(l)return l}return $e(n.length,s.length)}function Il(t){return yy(t)}function yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=la(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ca(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Se.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=yy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${yy(n.fields[u])}`;return a+"}"})(t.mapValue):Ie(61005,{value:t})}function Vf(t){switch(ua(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Md(t);return e?16+Vf(e):16;case 5:return 2*t.stringValue.length;case 6:return ca(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Vf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return pa(s.fields,((l,u)=>{a+=l.length+Vf(u)})),a})(t.mapValue);default:throw Ie(13486,{value:t})}}function Bx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _y(t){return!!t&&"integerValue"in t}function D_(t){return!!t&&"arrayValue"in t}function Fx(t){return!!t&&"nullValue"in t}function Hx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lf(t){return!!t&&"mapValue"in t}function Tj(t){return(t?.mapValue?.fields||{})[UR]?.stringValue===zR}function uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=uu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return{...t}}function bj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ej}class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=vn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=uu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Lf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){pa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Fn(uu(this.value))}}function BR(t){const e=[];return pa(t.fields,((n,s)=>{const a=new vn([n]);if(Lf(s)){const l=BR(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new si(e)}class Sn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Sn(e,0,Ne.min(),Ne.min(),Ne.min(),Fn.empty(),0)}static newFoundDocument(e,n,s,a){return new Sn(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new Sn(e,2,n,Ne.min(),Ne.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Ne.min(),Ne.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class id{constructor(e,n){this.position=e,this.inclusive=n}}function qx(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Se.comparator(Se.fromName(u.referenceValue),n.key):s=Rl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ds(t.position[n],e.position[n]))return!1;return!0}class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function xj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FR{}class Zt extends FR{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Aj(e,n,s):n==="array-contains"?new Ij(e,s):n==="in"?new Cj(e,s):n==="not-in"?new Nj(e,s):n==="array-contains-any"?new Dj(e,s):new Zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wj(e,s):new Rj(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rl(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(Rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends FR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ji(e,n)}matches(e){return HR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HR(t){return t.op==="and"}function qR(t){return Sj(t)&&HR(t)}function Sj(t){for(const e of t.filters)if(e instanceof Ji)return!1;return!0}function vy(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Il(t.value);if(qR(t))return t.filters.map((e=>vy(e))).join(",");{const e=t.filters.map((n=>vy(n))).join(",");return`${t.op}(${e})`}}function GR(t,e){return t instanceof Zt?(function(s,a){return a instanceof Zt&&s.op===a.op&&s.field.isEqual(a.field)&&Ds(s.value,a.value)})(t,e):t instanceof Ji?(function(s,a){return a instanceof Ji&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&GR(u,a.filters[f])),!0):!1})(t,e):void Ie(19439)}function YR(t){return t instanceof Zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Il(n.value)}`})(t):t instanceof Ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(YR).join(" ,")+"}"})(t):"Filter"}class Aj extends Zt{constructor(e,n,s){super(e,n,s),this.key=Se.fromName(s.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class wj extends Zt{constructor(e,n){super(e,"in",n),this.keys=KR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Rj extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=KR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function KR(t,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class Ij extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return D_(n)&&Au(n.arrayValue,this.value)}}class Cj extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class Nj extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Au(this.value.arrayValue,n)}}class Dj extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!D_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Au(this.value.arrayValue,s)))}}class Oj{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Yx(t,e=null,n=[],s=[],a=null,l=null,u=null){return new Oj(t,e,n,s,a,l,u)}function O_(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>vy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Il(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Il(s))).join(",")),e.Te=n}return e.Te}function M_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gx(t.startAt,e.startAt)&&Gx(t.endAt,e.endAt)}function Ey(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Fl{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Mj(t,e,n,s,a,l,u,f){return new Fl(t,e,n,s,a,l,u,f)}function P_(t){return new Fl(t)}function Kx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Pj(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function $R(t){return t.collectionGroup!==null}function hu(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new an(vn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new wu(l,s))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new wu(vn.keyField(),s))}return e.Ie}function As(t){const e=Me(t);return e.Ee||(e.Ee=Vj(e,hu(t))),e.Ee}function Vj(t,e){if(t.limitType==="F")return Yx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new wu(a.field,l)}));const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return Yx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ty(t,e){const n=t.filters.concat([e]);return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lj(t,e){const n=t.explicitOrderBy.concat([e]);return new Fl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function by(t,e,n){return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pd(t,e){return M_(As(t),As(e))&&t.limitType===e.limitType}function QR(t){return`${O_(As(t))}|lt:${t.limitType}`}function ll(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>YR(a))).join(", ")}]`),Od(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Il(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Il(a))).join(",")),`Target(${s})`})(As(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Se.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of hu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const p=qx(u,f,m);return u.inclusive?p<=0:p<0})(s.startAt,hu(s),a)||s.endAt&&!(function(u,f,m){const p=qx(u,f,m);return u.inclusive?p>=0:p>0})(s.endAt,hu(s),a))})(t,e)}function kj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WR(t){return(e,n)=>{let s=!1;for(const a of hu(t)){const l=jj(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function jj(t,e,n){const s=t.field.isKeyField()?Se.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Rl(m,p):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:t.dir})}}class go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return MR(this.inner)}size(){return this.innerSize}}const Uj=new Nt(Se.comparator);function dr(){return Uj}const XR=new Nt(Se.comparator);function tu(...t){let e=XR;for(const n of t)e=e.insert(n.key,n);return e}function JR(t){let e=XR;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function to(){return fu()}function ZR(){return fu()}function fu(){return new go((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zj=new Nt(Se.comparator),Bj=new an(Se.comparator);function Qe(...t){let e=Bj;for(const n of t)e=e.add(n);return e}const Fj=new an($e);function Hj(){return Fj}function V_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function eI(t){return{integerValue:""+t}}function qj(t,e){return mj(e)?eI(e):V_(t,e)}class Ld{constructor(){this._=void 0}}function Gj(t,e,n){return t instanceof sd?(function(a,l){const u={fields:{[LR]:{stringValue:VR},[jR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&N_(l)&&(l=Md(l)),l&&(u.fields[kR]=l),{mapValue:u}})(n,e):t instanceof Cl?nI(t,e):t instanceof Ru?iI(t,e):(function(a,l){const u=tI(a,l),f=$x(u)+$x(a.Ae);return _y(u)&&_y(a.Ae)?eI(f):V_(a.serializer,f)})(t,e)}function Yj(t,e,n){return t instanceof Cl?nI(t,e):t instanceof Ru?iI(t,e):n}function tI(t,e){return t instanceof rd?(function(s){return _y(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class sd extends Ld{}class Cl extends Ld{constructor(e){super(),this.elements=e}}function nI(t,e){const n=sI(e);for(const s of t.elements)n.some((a=>Ds(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ru extends Ld{constructor(e){super(),this.elements=e}}function iI(t,e){let n=sI(e);for(const s of t.elements)n=n.filter((a=>!Ds(a,s)));return{arrayValue:{values:n}}}class rd extends Ld{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $x(t){return Bt(t.integerValue||t.doubleValue)}function sI(t){return D_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Kj{constructor(e,n){this.field=e,this.transform=n}}function $j(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Cl&&a instanceof Cl||s instanceof Ru&&a instanceof Ru?wl(s.elements,a.elements,Ds):s instanceof rd&&a instanceof rd?Ds(s.Ae,a.Ae):s instanceof sd&&a instanceof sd})(t.transform,e.transform)}class Qj{constructor(e,n){this.version=e,this.transformResults=n}}class Ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kd{}function rI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new L_(t.key,Ri.none()):new ju(t.key,t.data,Ri.none());{const n=t.data,s=Fn.empty();let a=new an(vn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new ga(t.key,s,new si(a.toArray()),Ri.none())}}function Wj(t,e,n){t instanceof ju?(function(a,l,u){const f=a.value.clone(),m=Wx(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ga?(function(a,l,u){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Wx(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(aI(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function du(t,e,n,s){return t instanceof ju?(function(l,u,f,m){if(!kf(l.precondition,u))return f;const p=l.value.clone(),_=Xx(l.fieldTransforms,m,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ga?(function(l,u,f,m){if(!kf(l.precondition,u))return f;const p=Xx(l.fieldTransforms,m,u),_=u.data;return _.setAll(aI(l)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,s):(function(l,u,f){return kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function Xj(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=tI(s.transform,a||null);l!=null&&(n===null&&(n=Fn.empty()),n.set(s.field,l))}return n||null}function Qx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&wl(s,a,((l,u)=>$j(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends kd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ga extends kd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function aI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Wx(t,e,n){const s=new Map;rt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,Yj(u,f,n[a]))}return s}function Xx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,Gj(l,u,e))}return s}class L_ extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jj extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zj{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Wj(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ZR();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=rI(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,((n,s)=>Qx(n,s)))&&wl(this.baseMutations,e.baseMutations,((n,s)=>Qx(n,s)))}}class k_{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){rt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return zj})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new k_(e,n,s,a)}}class e4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class t4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xt,Je;function n4(t){switch(t){case ne.OK:return Ie(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function oI(t){if(t===void 0)return fr("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Xt.OK:return ne.OK;case Xt.CANCELLED:return ne.CANCELLED;case Xt.UNKNOWN:return ne.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ne.INTERNAL;case Xt.UNAVAILABLE:return ne.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ne.NOT_FOUND;case Xt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Xt.ABORTED:return ne.ABORTED;case Xt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Xt.DATA_LOSS:return ne.DATA_LOSS;default:return Ie(39323,{code:t})}}(Je=Xt||(Xt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function i4(){return new TextEncoder}const s4=new ia([4294967295,4294967295],0);function Jx(t){const e=i4().encode(t),n=new bR;return n.update(e),new Uint8Array(n.digest())}function Zx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ia([n,s],0),new ia([a,l],0)]}class j_{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ia.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ia.fromNumber(s)));return a.compare(s4)===1&&(a=new ia([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jx(e),[s,a]=Zx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new j_(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=Jx(e),[s,a]=Zx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jd(Ne.min(),a,new Nt($e),dr(),Qe())}}class Uu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uu(s,n,Qe(),Qe(),Qe())}}class jf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class lI{constructor(e,n){this.targetId=e,this.Ce=n}}class cI{constructor(e,n,s=En.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class eS{constructor(){this.ve=0,this.Fe=tS(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),s=Qe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ie(38017,{changeType:l})}})),new Uu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=tS()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class r4{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.He=Sf(),this.Je=Sf(),this.Ze=new Nt($e)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ey(l))if(s===0){const u=new Se(l.path);this.et(n,u,Sn.newNoDocument(u,Ne.min()))}else rt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=ca(s).toUint8Array()}catch(m){if(m instanceof PR)return Al("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new j_(u,a,l)}catch(m){return Al(m instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Ey(f.target)){const m=new Se(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Sn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=Qe();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new jd(e,n,this.Ze,this.je,s);return this.je=dr(),this.He=Sf(),this.Je=Sf(),this.Ze=new Nt($e),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new eS,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new an($e),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new an($e),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sf(){return new Nt(Se.comparator)}function tS(){return new Nt(Se.comparator)}const a4={asc:"ASCENDING",desc:"DESCENDING"},o4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l4={and:"AND",or:"OR"};class c4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xy(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u4(t,e){return ad(t,e.toTimestamp())}function ws(t){return rt(!!t,49232),Ne.fromTimestamp((function(n){const s=la(n);return new bt(s.seconds,s.nanos)})(t))}function U_(t,e){return Sy(t,e).canonicalString()}function Sy(t,e){const n=(function(a){return new _t(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function hI(t){const e=_t.fromString(t);return rt(gI(e),10190,{key:e.toString()}),e}function Ay(t,e){return U_(t.databaseId,e.path)}function Cg(t,e){const n=hI(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(dI(n))}function fI(t,e){return U_(t.databaseId,e)}function h4(t){const e=hI(t);return e.length===4?_t.emptyPath():dI(e)}function wy(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dI(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nS(t,e,n){return{name:Ay(t,e),fields:n.value.mapValue.fields}}function f4(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(rt(_===void 0||typeof _=="string",58123),En.fromBase64String(_||"")):(rt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),En.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const _=p.code===void 0?ne.UNKNOWN:oI(p.code);return new ge(_,p.message||"")})(u);n=new cI(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Cg(t,s.document.name),l=ws(s.document.updateTime),u=s.document.createTime?ws(s.document.createTime):Ne.min(),f=new Fn({mapValue:{fields:s.document.fields}}),m=Sn.newFoundDocument(a,l,u,f),p=s.targetIds||[],_=s.removedTargetIds||[];n=new jf(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Cg(t,s.document),l=s.readTime?ws(s.readTime):Ne.min(),u=Sn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new jf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Cg(t,s.document),l=s.removedTargetIds||[];n=new jf([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new t4(a,l),f=s.targetId;n=new lI(f,u)}}return n}function d4(t,e){let n;if(e instanceof ju)n={update:nS(t,e.key,e.value)};else if(e instanceof L_)n={delete:Ay(t,e.key)};else if(e instanceof ga)n={update:nS(t,e.key,e.data),updateMask:b4(e.fieldMask)};else{if(!(e instanceof Jj))return Ie(16599,{dt:e.type});n={verify:Ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof sd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Cl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ie(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:u4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(t,e.precondition)),n}function m4(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ws(a.updateTime):ws(l);return u.isEqual(Ne.min())&&(u=ws(l)),new Qj(u,a.transformResults||[])})(n,e)))):[]}function p4(t,e){return{documents:[fI(t,e.path)]}}function g4(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=fI(t,a);const l=(function(p){if(p.length!==0)return pI(Ji.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((_=>(function(b){return{field:cl(b.field),direction:v4(b.dir)}})(_)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=xy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function y4(t){let e=h4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){rt(s===1,65062);const _=n.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=(function(E){const b=mI(E);return b instanceof Ji&&qR(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((b=>(function(N){return new wu(ul(N.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(E){let b;return b=typeof E=="object"?E.value:E,Od(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(E){const b=!!E.before,A=E.values||[];return new id(A,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const b=!E.before,A=E.values||[];return new id(A,b)})(n.endAt)),Mj(e,a,u,l,f,"F",m,p)}function _4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ul(n.unaryFilter.field);return Zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ul(n.unaryFilter.field);return Zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ul(n.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ul(n.unaryFilter.field);return Zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Zt.create(ul(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ji.create(n.compositeFilter.filters.map((s=>mI(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function v4(t){return a4[t]}function E4(t){return o4[t]}function T4(t){return l4[t]}function cl(t){return{fieldPath:t.canonicalString()}}function ul(t){return vn.fromServerFormat(t.fieldPath)}function pI(t){return t instanceof Zt?(function(n){if(n.op==="=="){if(Hx(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NAN"}};if(Fx(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hx(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NAN"}};if(Fx(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(n.field),op:E4(n.op),value:n.value}}})(t):t instanceof Ji?(function(n){const s=n.getFilters().map((a=>pI(a)));return s.length===1?s[0]:{compositeFilter:{op:T4(n.op),filters:s}}})(t):Ie(54877,{filter:t})}function b4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function yI(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class ea{constructor(e,n,s,a,l=Ne.min(),u=Ne.min(),f=En.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class x4{constructor(e){this.yt=e}}function S4(t){const e=y4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?by(e,e.limit,"L"):e}class A4{constructor(){this.Sn=new w4}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(oa.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class w4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new an(_t.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new an(_t.comparator)).toArray()}}const iS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_I=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(_I,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class Nl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Nl(0)}static ar(){return new Nl(-1)}}const sS="LruGarbageCollector",R4=1048576;function rS([t,e],[n,s]){const a=$e(t,n);return a===0?$e(e,s):a}class I4{constructor(e){this.Pr=e,this.buffer=new an(rS),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();rS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ye(sS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bl(n)?ye(sS,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Ar(3e5)}))}}class N4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Dd.ce);const s=new I4(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(iS)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iS):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(s=E,f=Date.now(),this.removeTargets(e,s,n)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(p=Date.now(),ol()<=Ke.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function D4(t,e){return new N4(t,e)}class O4{constructor(){this.changes=new go((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class M4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class P4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&du(s.mutation,a,si.empty(),bt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Qe()){const a=to();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=tu();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=to();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Qe())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=dr();const u=fu(),f=(function(){return fu()})();return n.forEach(((m,p)=>{const _=s.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof ga)?l=l.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),du(_.mutation,p,_.mutation.getFieldMask(),bt.now())):u.set(p.key,si.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,_)=>u.set(p,_))),n.forEach(((p,_)=>f.set(p,new M4(_,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=fu();let a=new Nt(((u,f)=>u-f)),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let _=s.get(m)||si.empty();_=f.applyToLocalView(p,_),s.set(m,_);const E=(a.get(f.batchId)||Qe()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,_=m.value,E=ZR();_.forEach((b=>{if(!l.has(b)){const A=rI(n.get(b),s.get(b));A!==null&&E.set(b,A),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,E))}return se.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return Pj(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$R(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(to());let f=bu,m=l;return u.next((p=>se.forEach(p,((_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next((b=>{m=m.insert(_,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Qe()))).next((_=>({batchId:f,changes:JR(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((s=>{let a=tu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=tu();return this.indexManager.getCollectionParents(e,l).next((f=>se.forEach(f,(m=>{const p=(function(E,b){return new Fl(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((_=>{_.forEach(((E,b)=>{u=u.insert(E,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,Sn.newInvalidDocument(_)))}));let f=tu();return u.forEach(((m,p)=>{const _=l.get(m);_!==void 0&&du(_.mutation,p,si.empty(),bt.now()),Vd(n,p)&&(f=f.insert(m,p))})),f}))}}class V4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ws(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:S4(a.bundledQuery),readTime:ws(a.readTime)}})(n)),se.resolve()}}class L4{constructor(){this.overlays=new Nt(Se.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=to();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=to(),l=n.length+1,u=new Se(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Nt(((p,_)=>p-_));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let _=l.get(p.largestBatchId);_===null&&(_=to(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const f=to(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,_)=>f.set(p,_))),!(f.size()>=a)););return se.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new e4(n,s));let l=this.Lr.get(n);l===void 0&&(l=Qe(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class k4{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class z_{constructor(){this.kr=new an(un.Kr),this.qr=new an(un.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new un(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new un(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Se(new _t([])),s=new un(n,e),a=new un(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Se(new _t([])),s=new un(n,e),a=new un(n,e+1);let l=Qe();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new un(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class un{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Se.comparator(e.key,n.key)||$e(e.Hr,n.Hr)}static Ur(e,n){return $e(e.Hr,n.Hr)||Se.comparator(e.key,n.key)}}class j4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new an(un.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Zj(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new un(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?C_:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new un(n,0),a=new un(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new an($e);return n.forEach((a=>{const l=new un(a,0),u=new un(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),se.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Se.isDocumentKey(l)||(l=l.child(""));const u=new un(new Se(l),0);let f=new an($e);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),u),se.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){rt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return se.forEach(n.mutations,(a=>{const l=new un(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new un(n,0),a=this.Jr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class U4{constructor(e){this.ti=e,this.docs=(function(){return new Nt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Sn.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=dr();const u=n.path,f=new Se(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||uj(cj(_),s)<=0||(a.has(_.key)||Vd(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ie(9500)}ni(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new z4(this)}getSize(e){return se.resolve(this.size)}}class z4 extends O4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class B4{constructor(e){this.persistence=e,this.ri=new go((n=>O_(n)),M_),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new z_,this.targetCount=0,this.oi=Nl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Nl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class vI{constructor(e,n){this._i={},this.overlays={},this.ai=new Dd(0),this.ui=!1,this.ui=!0,this.ci=new k4,this.referenceDelegate=e(this),this.li=new B4(this),this.indexManager=new A4,this.remoteDocumentCache=(function(a){return new U4(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new x4(n),this.Pi=new V4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new j4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const a=new F4(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return se.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class F4 extends fj{constructor(e){super(),this.currentSequenceNumber=e}}class B_{constructor(e){this.persistence=e,this.Ri=new z_,this.Ai=null}static Vi(e){return new B_(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(s=>{const a=Se.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class od{constructor(e,n){this.persistence=e,this.fi=new go((s=>pj(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=D4(this,n)}static Vi(e,n){return new od(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vf(e.data.value)),n}wr(e,n,s){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class F_{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Qe(),a=Qe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new F_(e,n.fromCache,s,a)}}class H4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class q4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return NL()?8:dj(wn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new H4;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(ol()<=Ke.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(ol()<=Ke.DEBUG&&ye("QueryEngine","Query:",ll(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(ol()<=Ke.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):se.resolve())}gs(e,n){if(Kx(n))return se.resolve(null);let s=As(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=by(n,null,"F"),s=As(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Qe(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,u,m.readTime)?this.gs(e,by(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return Kx(n)||a.isEqual(Ne.min())?se.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?se.resolve(null):(ol()<=Ke.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ll(n)),this.Ds(e,u,n,lj(a,bu)).next((f=>f)))}))}bs(e,n){let s=new an(WR(e));return n.forEach(((a,l)=>{Vd(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return ol()<=Ke.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ll(n)),this.fs.getDocumentsMatchingQuery(e,n,oa.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const H_="LocalStore",G4=3e8;class Y4{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Nt($e),this.Fs=new go((l=>O_(l)),M_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function K4(t,e,n,s){return new Y4(t,e,n,s)}async function EI(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=Qe();for(const p of a){u.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){f.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function $4(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,_){const E=p.batch,b=E.keys();let A=se.resolve();return b.forEach((N=>{A=A.next((()=>_.getEntry(m,N))).next((j=>{const V=p.docVersions.get(N);rt(V!==null,48541),j.version.compareTo(V)<0&&(E.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),_.addEntry(j)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Qe();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function TI(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Q4(t,e){const n=Me(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((_,E)=>{const b=a.get(E);if(!b)return;f.push(n.li.removeMatchingKeys(l,_.removedDocuments,E).next((()=>n.li.addMatchingKeys(l,_.addedDocuments,E))));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(En.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,s)),a=a.insert(E,A),(function(j,V,B){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=G4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(b,A,_)&&f.push(n.li.updateTargetData(l,A))}));let m=dr(),p=Qe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))})),f.push(W4(l,u,e.documentUpdates).next((_=>{m=_.Bs,p=_.Ls}))),!s.isEqual(Ne.min())){const _=n.li.getLastRemoteSnapshotVersion(l).next((E=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(_)}return se.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function W4(t,e,n){let s=Qe(),a=Qe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=dr();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):ye(H_,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function X4(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=C_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function J4(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new ea(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Ry(t,e,n){const s=Me(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Bl(u))throw u;ye(H_,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function aS(t,e,n){const s=Me(t);let a=Ne.min(),l=Qe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,_){const E=Me(m),b=E.Fs.get(_);return b!==void 0?se.resolve(E.vs.get(b)):E.li.getTargetData(p,_)})(s,u,As(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Ne.min(),n?l:Qe()))).next((f=>(Z4(s,kj(e),f),{documents:f,ks:l})))))}function Z4(t,e,n){let s=t.Ms.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class oS{constructor(){this.activeTargetIds=Hj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eU{constructor(){this.vo=new oS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new oS,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tU{Mo(e){}shutdown(){}}const lS="ConnectivityMonitor";class cS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ye(lS,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ye(lS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Af=null;function Iy(){return Af===null?Af=(function(){return 268435456+Math.round(2147483648*Math.random())})():Af++,"0x"+Af.toString(16)}const Ng="RestConnection",nU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===td?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Iy(),f=this.Qo(e,n.toUriEncodedString());ye(Ng,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),_=fo(p);return this.zo(e,f,m,s,_).then((E=>(ye(Ng,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Al(Ng,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",s),E}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=nU[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class sU{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const bn="WebChannelConnection",Qc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class yl extends iU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yl.c_){const e=wR();Qc(e,AR.STAT_EVENT,(n=>{n.stat===py.PROXY?ye(bn,"STAT_EVENT: detected buffering proxy"):n.stat===py.NOPROXY&&ye(bn,"STAT_EVENT: detected no buffering proxy")})),yl.c_=!0}}zo(e,n,s,a,l){const u=Iy();return new Promise(((f,m)=>{const p=new xR;p.setWithCredentials(!0),p.listenOnce(SR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Pf.NO_ERROR:const E=p.getResponseJson();ye(bn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Pf.TIMEOUT:ye(bn,`RPC '${e}' ${u} timed out`),m(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const b=p.getStatus();if(ye(bn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A?.error;if(N&&N.status&&N.message){const j=(function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(G)>=0?G:ne.UNKNOWN})(N.status);m(new ge(j,N.message))}else m(new ge(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(bn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(a);ye(bn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",_,s,15)}))}T_(e,n,s){const a=Iy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");ye(bn,`Creating RPC '${e}' stream ${a}: ${p}`,f);const _=u.createWebChannel(p,f);this.I_(_);let E=!1,b=!1;const A=new sU({Ho:N=>{b?ye(bn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(E||(ye(bn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ye(bn,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},Jo:()=>_.close()});return Qc(_,eu.EventType.OPEN,(()=>{b||(ye(bn,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Qc(_,eu.EventType.CLOSE,(()=>{b||(b=!0,ye(bn,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(_))})),Qc(_,eu.EventType.ERROR,(N=>{b||(b=!0,Al(bn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),A.o_(new ge(ne.UNAVAILABLE,"The operation could not be completed")))})),Qc(_,eu.EventType.MESSAGE,(N=>{if(!b){const j=N.data[0];rt(!!j,16349);const V=j,B=V?.error||V[0]?.error;if(B){ye(bn,`RPC '${e}' stream ${a} received error:`,B);const G=B.status;let q=(function(ue){const C=Xt[ue];if(C!==void 0)return oI(C)})(G),re=B.message;q===void 0&&(q=ne.INTERNAL,re="Unknown error status: "+G+" with message "+B.message),b=!0,A.o_(new ge(q,re)),_.close()}else ye(bn,`RPC '${e}' stream ${a} received:`,j),A.__(j)}})),yl.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return RR()}}function rU(t){return new yl(t)}function Dg(){return typeof document<"u"?document:null}function Ud(t){return new c4(t,!0)}yl.c_=!1;class bI{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const uS="PersistentStream";class xI{constructor(e,n,s,a,l,u,f,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ge(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(uS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ye(uS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aU extends xI{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f4(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?ws(u.readTime):Ne.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=wy(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=Ey(m)?{documents:p4(l,m)}:{query:g4(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=uI(l,u.resumeToken);const p=xy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ne.min())>0){f.readTime=ad(l,u.snapshotVersion.toTimestamp());const p=xy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=_4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=wy(this.serializer),n.removeTarget=e,this.K_(n)}}class oU extends xI{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=m4(e.writeResults,e.commitTime),s=ws(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=wy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>d4(this.serializer,s)))};this.K_(n)}}class lU{}class cU extends lU{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Sy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ne.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,Sy(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function uU(t,e,n,s){return new cU(t,e,n,s)}class hU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ao="RemoteStore";class fU{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{yo(this)&&(ye(ao,"Restarting streams for network reachability change."),await(async function(m){const p=Me(m);p.Ea.add(4),await zu(p),p.Va.set("Unknown"),p.Ea.delete(4),await zd(p)})(this))}))})),this.Va=new hU(s,a)}}async function zd(t){if(yo(t))for(const e of t.Ra)await e(!0)}async function zu(t){for(const e of t.Ra)await e(!1)}function SI(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),K_(n)?Y_(n):Hl(n).O_()&&G_(n,e))}function q_(t,e){const n=Me(t),s=Hl(n);n.Ia.delete(e),s.O_()&&AI(n,e),n.Ia.size===0&&(s.O_()?s.L_():yo(n)&&n.Va.set("Unknown"))}function G_(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hl(t).Z_(e)}function AI(t,e){t.da.$e(e),Hl(t).X_(e)}function Y_(t){t.da=new r4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hl(t).start(),t.Va.ua()}function K_(t){return yo(t)&&!Hl(t).x_()&&t.Ia.size>0}function yo(t){return Me(t).Ea.size===0}function wI(t){t.da=void 0}async function dU(t){t.Va.set("Online")}async function mU(t){t.Ia.forEach(((e,n)=>{G_(t,e)}))}async function pU(t,e){wI(t),K_(t)?(t.Va.ha(e),Y_(t)):t.Va.set("Unknown")}async function gU(t,e,n){if(t.Va.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){ye(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ld(t,s)}else if(e instanceof jf?t.da.Xe(e):e instanceof lI?t.da.st(e):t.da.tt(e),!n.isEqual(Ne.min()))try{const s=await TI(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(En.EMPTY_BYTE_STRING,_.snapshotVersion)),AI(l,m);const E=new ea(_.target,m,p,_.sequenceNumber);G_(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){ye(ao,"Failed to raise snapshot:",s),await ld(t,s)}}async function ld(t,e,n){if(!Bl(e))throw e;t.Ea.add(1),await zu(t),t.Va.set("Offline"),n||(n=()=>TI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zd(t)}))}function RI(t,e){return e().catch((n=>ld(t,n,e)))}async function Bd(t){const e=Me(t),n=ha(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:C_;for(;yU(e);)try{const a=await X4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,_U(e,a)}catch(a){await ld(e,a)}II(e)&&CI(e)}function yU(t){return yo(t)&&t.Ta.length<10}function _U(t,e){t.Ta.push(e);const n=ha(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function II(t){return yo(t)&&!ha(t).x_()&&t.Ta.length>0}function CI(t){ha(t).start()}async function vU(t){ha(t).ra()}async function EU(t){const e=ha(t);for(const n of t.Ta)e.ea(n.mutations)}async function TU(t,e,n){const s=t.Ta.shift(),a=k_.from(s,e,n);await RI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Bd(t)}async function bU(t,e){e&&ha(t).Y_&&await(async function(s,a){if((function(u){return n4(u)&&u!==ne.ABORTED})(a.code)){const l=s.Ta.shift();ha(s).B_(),await RI(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Bd(s)}})(t,e),II(t)&&CI(t)}async function hS(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ye(ao,"RemoteStore received new credentials");const s=yo(n);n.Ea.add(3),await zu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function xU(t,e){const n=Me(t);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await zu(n),n.Va.set("Unknown"))}function Hl(t){return t.ma||(t.ma=(function(n,s,a){const l=Me(n);return l.sa(),new aU(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:dU.bind(null,t),Yo:mU.bind(null,t),t_:pU.bind(null,t),J_:gU.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),K_(t)?Y_(t):t.Va.set("Unknown")):(await t.ma.stop(),wI(t))}))),t.ma}function ha(t){return t.fa||(t.fa=(function(n,s,a){const l=Me(n);return l.sa(),new oU(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vU.bind(null,t),t_:bU.bind(null,t),ta:EU.bind(null,t),na:TU.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Bd(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class $_{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new $_(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q_(t,e){if(fr("AsyncQueue",`${e}: ${t}`),Bl(t))return new ge(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Se.comparator(n.key,s.key):(n,s)=>Se.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new _l;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class fS{constructor(){this.ga=new Nt(Se.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Dl{constructor(e,n,s,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Dl(e,n,_l.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class SU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class AU{constructor(){this.queries=dS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Me(n),l=a.queries;a.queries=dS(),l.forEach(((u,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function dS(){return new go((t=>QR(t)),Pd)}async function NI(t,e){const n=Me(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new SU,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=Q_(u,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&W_(n)}async function DI(t,e){const n=Me(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wU(t,e){const n=Me(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&W_(n)}function RU(t,e,n){const s=Me(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function W_(t){t.Ca.forEach((e=>{e.next()}))}var Cy,mS;(mS=Cy||(Cy={})).Ma="default",mS.Cache="cache";class OI{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Dl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}class MI{constructor(e){this.key=e}}class PI{constructor(e){this.key=e}}class IU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.eu=WR(e),this.tu=new _l(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new fS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,E)=>{const b=a.get(_),A=Vd(this.query,E)?E:null,N=!!b&&this.mutatedKeys.has(b.key),j=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let V=!1;b&&A?b.data.isEqual(A.data)?N!==j&&(s.track({type:3,doc:A}),V=!0):this.su(b,A)||(s.track({type:2,doc:A}),V=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!b&&A?(s.track({type:0,doc:A}),V=!0):b&&!A&&(s.track({type:1,doc:b}),V=!0,(m||p)&&(f=!0)),V&&(A?(u=u.add(A),l=j?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,E)=>(function(A,N){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:V})}};return j(A)-j(N)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Dl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new PI(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new MI(s))})),n}cu(e){this.Za=e.ks,this.Ya=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const X_="SyncEngine";class CU{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class NU{constructor(e){this.key=e,this.hu=!1}}class DU{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new go((f=>QR(f)),Pd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(Se.comparator),this.Au=new Map,this.Vu=new z_,this.du={},this.mu=new Map,this.fu=Nl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OU(t,e,n=!0){const s=zI(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await VI(s,e,n,!0),a}async function MU(t,e){const n=zI(t);await VI(n,e,!0,!1)}async function VI(t,e,n,s){const a=await J4(t.localStore,As(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await PU(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&SI(t.remoteStore,a),f}async function PU(t,e,n,s,a){t.pu=(E,b,A)=>(async function(j,V,B,G){let q=V.view.ru(B);q.Ss&&(q=await aS(j.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,q))));const re=G&&G.targetChanges.get(V.targetId),oe=G&&G.targetMismatches.get(V.targetId)!=null,ue=V.view.applyChanges(q,j.isPrimaryClient,re,oe);return gS(j,V.targetId,ue.au),ue.snapshot})(t,E,b,A);const l=await aS(t.localStore,e,!0),u=new IU(e,l.ks),f=u.ru(l.documents),m=Uu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);gS(t,n,p.au);const _=new CU(e,n,u);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function VU(t,e,n){const s=Me(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Pd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ry(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&q_(s.remoteStore,a.targetId),Ny(s,a.targetId)})).catch(zl)):(Ny(s,a.targetId),await Ry(s.localStore,a.targetId,!0))}async function LU(t,e){const n=Me(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),q_(n.remoteStore,s.targetId))}async function kU(t,e,n){const s=qU(t);try{const a=await(function(u,f){const m=Me(u),p=bt.now(),_=f.reduce(((A,N)=>A.add(N.key)),Qe());let E,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let N=dr(),j=Qe();return m.xs.getEntries(A,_).next((V=>{N=V,N.forEach(((B,G)=>{G.isValidDocument()||(j=j.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,N))).next((V=>{E=V;const B=[];for(const G of f){const q=Xj(G,E.get(G.key).overlayedDocument);q!=null&&B.push(new ga(G.key,q,BR(q.value.mapValue),Ri.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,B,f)})).next((V=>{b=V;const B=V.applyToLocalDocumentSet(E,j);return m.documentOverlayCache.saveOverlays(A,V.batchId,B)}))})).then((()=>({batchId:b.batchId,changes:JR(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.du[u.currentUser.toKey()];p||(p=new Nt($e)),p=p.insert(f,m),u.du[u.currentUser.toKey()]=p})(s,a.batchId,n),await Bu(s,a.changes),await Bd(s.remoteStore)}catch(a){const l=Q_(a,"Failed to persist write");n.reject(l)}}async function LI(t,e){const n=Me(t);try{const s=await Q4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?rt(u.hu,14607):a.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await Bu(n,s,e)}catch(s){await zl(s)}}function pS(t,e,n){const s=Me(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Me(u);m.onlineState=f;let p=!1;m.queries.forEach(((_,E)=>{for(const b of E.ba)b.va(f)&&(p=!0)})),p&&W_(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jU(t,e,n){const s=Me(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Nt(Se.comparator);u=u.insert(l,Sn.newNoDocument(l,Ne.min()));const f=Qe().add(l),m=new jd(Ne.min(),new Map,new Nt($e),u,f);await LI(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),J_(s)}else await Ry(s.localStore,e,!1).then((()=>Ny(s,e,n))).catch(zl)}async function UU(t,e){const n=Me(t),s=e.batch.batchId;try{const a=await $4(n.localStore,e);jI(n,s,null),kI(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(n,a)}catch(a){await zl(a)}}async function zU(t,e,n){const s=Me(t);try{const a=await(function(u,f){const m=Me(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return m.mutationQueue.lookupMutationBatch(p,f).next((E=>(rt(E!==null,37113),_=E.keys(),m.mutationQueue.removeMutationBatch(p,E)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>m.localDocuments.getDocuments(p,_)))}))})(s.localStore,e);jI(s,e,n),kI(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bu(s,a)}catch(a){await zl(a)}}function kI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function jI(t,e,n){const s=Me(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||UI(t,s)}))}function UI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(q_(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),J_(t))}function gS(t,e,n){for(const s of n)s instanceof MI?(t.Vu.addReference(s.key,e),BU(t,s)):s instanceof PI?(ye(X_,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||UI(t,s.key)):Ie(19791,{wu:s})}function BU(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(ye(X_,"New document in limbo: "+n),t.Eu.add(s),J_(t))}function J_(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(_t.fromString(e)),s=t.fu.next();t.Au.set(s,new NU(n)),t.Ru=t.Ru.insert(n,s),SI(t.remoteStore,new ea(As(P_(n.path)),s,"TargetPurposeLimboResolution",Dd.ce))}}async function Bu(t,e,n){const s=Me(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=F_.Es(m.targetId,p);l.push(_)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,p){const _=Me(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>se.forEach(p,(b=>se.forEach(b.Ts,(A=>_.persistence.referenceDelegate.addReference(E,b.targetId,A))).next((()=>se.forEach(b.Is,(A=>_.persistence.referenceDelegate.removeReference(E,b.targetId,A)))))))))}catch(E){if(!Bl(E))throw E;ye(H_,"Failed to update sequence numbers: "+E)}for(const E of p){const b=E.targetId;if(!E.fromCache){const A=_.vs.get(b),N=A.snapshotVersion,j=A.withLastLimboFreeSnapshotVersion(N);_.vs=_.vs.insert(b,j)}}})(s.localStore,l))}async function FU(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ye(X_,"User change. New user:",e.toKey());const s=await EI(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ge(ne.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bu(n,s.Ns)}}function HU(t,e){const n=Me(t),s=n.Au.get(e);if(s&&s.hu)return Qe().add(s.key);{let a=Qe();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function zI(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jU.bind(null,e),e.Pu.J_=wU.bind(null,e.eventManager),e.Pu.yu=RU.bind(null,e.eventManager),e}function qU(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zU.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return K4(this.persistence,new q4,e.initialUser,this.serializer)}Cu(e){return new vI(B_.Vi,this.serializer)}Du(e){return new eU}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class GU extends cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof od,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new C4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new vI((s=>od.Vi(s,n)),this.serializer)}}class Dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AU})()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),s=rU(e.databaseInfo);return uU(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new fU(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>pS(this.syncEngine,n,0)),(function(){return cS.v()?new cS:new tU})())}createSyncEngine(e,n){return(function(a,l,u,f,m,p,_){const E=new DU(a,l,u,f,m,p);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Me(n);ye(ao,"RemoteStore shutting down."),s.Ea.add(5),await zu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dy.provider={build:()=>new Dy};class BI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fa="FirestoreClient";class YU{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=xn.UNAUTHENTICATED,this.clientId=I_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ye(fa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ye(fa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Q_(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Og(t,e){t.asyncQueue.verifyOperationInProgress(),ye(fa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await EI(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function yS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KU(t);ye(fa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>hS(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>hS(e.remoteStore,a))),t._onlineComponents=e}async function KU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(fa,"Using user provided OfflineComponentProvider");try{await Og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Al("Error using user provided cache. Falling back to memory cache: "+n),await Og(t,new cd)}}else ye(fa,"Using default OfflineComponentProvider"),await Og(t,new GU(void 0));return t._offlineComponents}async function FI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(fa,"Using user provided OnlineComponentProvider"),await yS(t,t._uninitializedComponentsProvider._online)):(ye(fa,"Using default OnlineComponentProvider"),await yS(t,new Dy))),t._onlineComponents}function $U(t){return FI(t).then((e=>e.syncEngine))}async function HI(t){const e=await FI(t),n=e.eventManager;return n.onListen=OU.bind(null,e.syncEngine),n.onUnlisten=VU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LU.bind(null,e.syncEngine),n}function QU(t,e,n={}){const s=new ar;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const _=new BI({next:b=>{_.Nu(),u.enqueueAndForget((()=>DI(l,E)));const A=b.docs.has(f);!A&&b.fromCache?p.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&m&&m.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new OI(P_(f.path),_,{includeMetadataChanges:!0,Ka:!0});return NI(l,E)})(await HI(t),t.asyncQueue,e,n,s))),s.promise}function WU(t,e,n={}){const s=new ar;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const _=new BI({next:b=>{_.Nu(),u.enqueueAndForget((()=>DI(l,E))),b.fromCache&&m.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new OI(f,_,{includeMetadataChanges:!0,Ka:!0});return NI(l,E)})(await HI(t),t.asyncQueue,e,n,s))),s.promise}function XU(t,e){const n=new ar;return t.asyncQueue.enqueueAndForget((async()=>kU(await $U(t),e,n))),n.promise}function qI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const JU="ComponentProvider",_S=new Map;function ZU(t,e,n,s,a){return new _j(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,qI(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const GI="firestore.googleapis.com",vS=!0;class ES{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GI,this.ssl=vS}else this.host=e.host,this.ssl=e.ssl??vS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_I;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R4)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qI(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ES({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ES(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Xk;switch(s.type){case"firstParty":return new tj(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=_S.get(n);s&&(ye(JU,"Removing Datastore"),_S.delete(n),s.terminate())})(this),Promise.resolve()}}function e3(t,e,n,s={}){t=Xi(t,Fd);const a=fo(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(S_(`https://${f}`),A_("Firestore",!0)),l.host!==GI&&l.host!==f&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!ur(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,_;if(typeof s.mockUserToken=="string")p=s.mockUserToken,_=xn.MOCK_USER;else{p=fR(s.mockUserToken,t._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new xn(E)}t._authCredentials=new Jk(new CR(p,_))}}class _o{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class Ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ku(n,Ft._jsonSchema))return new Ft(e,s||null,new Se(_t.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:en("string",Ft._jsonSchemaVersion),referencePath:en("string")};class sa extends _o{constructor(e,n,s){super(e,n,P_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Se(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function zt(t,e,...n){if(t=Vt(t),NR("collection","path",e),t instanceof Fd){const s=_t.fromString(e,...n);return Mx(s),new sa(t,null,s)}{if(!(t instanceof Ft||t instanceof sa))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(_t.fromString(e,...n));return Mx(s),new sa(t.firestore,null,s)}}function rn(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=I_.newId()),NR("doc","path",e),t instanceof Fd){const s=_t.fromString(e,...n);return Ox(s),new Ft(t,null,new Se(s))}{if(!(t instanceof Ft||t instanceof sa))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(_t.fromString(e,...n));return Ox(s),new Ft(t.firestore,t instanceof sa?t.converter:null,new Se(s))}}const TS="AsyncQueue";class bS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bI(this,"async_queue_retry"),this._c=()=>{const s=Dg();s&&ye(TS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bl(e))throw e;ye(TS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",xS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=$_.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:xS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vo extends Fd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new bS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bS(e),this._firestoreClient=void 0,await e}}}function t3(t,e){const n=typeof t=="object"?t:Cd(),s=typeof t=="string"?t:td,a=ma(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=cR("firestore");l&&e3(a,...l)}return a}function Z_(t){if(t._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n3(t),t._firestoreClient}function n3(t){const e=t._freezeSettings(),n=ZU(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Si(En.fromBase64String(e))}catch(n){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Si(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,Si._jsonSchema))return Si.fromBase64String(e.bytes)}}Si._jsonSchemaVersion="firestore/bytes/1.0",Si._jsonSchema={type:en("string",Si._jsonSchemaVersion),bytes:en("string")};class ev{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hd{constructor(e){this._methodName=e}}class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(ku(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:en("string",Rs._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new ge(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:en("string",$i._jsonSchemaVersion),vectorValues:en("object")};const i3=/^__.*__$/;class s3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class YI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:t})}}class qd{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ud(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(KI(this.dataSource)&&i3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class r3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ud(e)}createContext(e,n,s,a=!1){return new qd({dataSource:e,methodName:n,targetDoc:s,path:vn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(t){const e=t._freezeSettings(),n=Ud(t._databaseId);return new r3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $I(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);nv("Data must be an object, but it was:",u,s);const f=QI(s,u);let m,p;if(l.merge)m=new si(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const b=oo(e,E,n);if(!u.contains(b))throw new ge(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);JI(_,b)||_.push(b)}m=new si(_),p=u.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,p=u.fieldTransforms;return new s3(new Fn(f),m,p)}class Yd extends Hd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function a3(t,e,n){return new qd({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tv extends Hd{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=a3(this,e,!0),s=this.Ac.map((l=>ql(l,n))),a=new Cl(s);return new Kj(e.path,a)}isEqual(e){return e instanceof tv&&ur(this.Ac,e.Ac)}}function o3(t,e,n,s){const a=t.createContext(1,e,n);nv("Data must be an object, but it was:",a,s);const l=[],u=Fn.empty();pa(s,((m,p)=>{const _=XI(e,m,n);p=Vt(p);const E=a.childContextForFieldPath(_);if(p instanceof Yd)l.push(_);else{const b=ql(p,E);b!=null&&(l.push(_),u.set(_,b))}}));const f=new si(l);return new YI(u,f,a.fieldTransforms)}function l3(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[oo(e,s,n)],m=[a];if(l.length%2!=0)throw new ge(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(oo(e,l[b])),m.push(l[b+1]);const p=[],_=Fn.empty();for(let b=f.length-1;b>=0;--b)if(!JI(p,f[b])){const A=f[b];let N=m[b];N=Vt(N);const j=u.childContextForFieldPath(A);if(N instanceof Yd)p.push(A);else{const V=ql(N,j);V!=null&&(p.push(A),_.set(A,V))}}const E=new si(p);return new YI(_,E,u.fieldTransforms)}function c3(t,e,n,s=!1){return ql(n,t.createContext(s?4:3,e))}function ql(t,e){if(WI(t=Vt(t)))return nv("Unsupported field value:",e,t),QI(t,e);if(t instanceof Hd)return(function(s,a){if(!KI(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=ql(f,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qj(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=bt.fromDate(s);return{timestampValue:ad(a.serializer,l)}}if(s instanceof bt){const l=new bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ad(a.serializer,l)}}if(s instanceof Rs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Si)return{bytesValue:uI(a.serializer,s._byteString)};if(s instanceof Ft){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:U_(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof $i)return(function(u,f){const m=u instanceof $i?u.toArray():u;return{mapValue:{fields:{[UR]:{stringValue:zR},[nd]:{arrayValue:{values:m.map((_=>{if(typeof _!="number")throw f.createError("VectorValues must only contain numeric values.");return V_(f.serializer,_)}))}}}}}})(s,a);if(yI(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Nd(s)}`)})(t,e)}function QI(t,e){const n={};return MR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(t,((s,a)=>{const l=ql(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function WI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof Rs||t instanceof Si||t instanceof Ft||t instanceof Hd||t instanceof $i||yI(t))}function nv(t,e,n){if(!WI(n)||!DR(n)){const s=Nd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function oo(t,e,n){if((e=Vt(e))instanceof ev)return e._internalPath;if(typeof e=="string")return XI(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const u3=new RegExp("[~\\*/\\[\\]]");function XI(t,e,n){if(e.search(u3)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ev(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ge(ne.INVALID_ARGUMENT,f+t+m)}function JI(t,e){return t.some((n=>n.isEqual(e)))}class h3{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return pa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[nd].arrayValue?.values?.map((s=>Bt(s.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Rs(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Md(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=la(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=_t.fromString(e);rt(gI(s),9688,{name:e});const a=new Su(s.get(1),s.get(3)),l=new Se(s.popFirst(5));return a.isEqual(n)||fr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class ZI extends h3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function e1(...t){return new tv("arrayUnion",t)}const SS="@firebase/firestore",AS="4.10.0";class t1{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(oo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f3 extends t1{data(){return super.data()}}function d3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iv{}class n1 extends iv{}function bi(t,e,...n){let s=[];e instanceof iv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof sv)).length,f=l.filter((m=>m instanceof Kd)).length;if(u>1||u>0&&f>0)throw new ge(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Kd extends n1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Kd(e,n,s)}_apply(e){const n=this._parse(e);return i1(e._query,n),new _o(e.firestore,e.converter,Ty(e._query,n))}_parse(e){const n=Gd(e.firestore);return(function(l,u,f,m,p,_,E){let b;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ge(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){RS(E,_);const N=[];for(const j of E)N.push(wS(m,l,j));b={arrayValue:{values:N}}}else b=wS(m,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||RS(E,_),b=c3(f,u,E,_==="in"||_==="not-in");return Zt.create(p,_,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function m3(t,e,n){const s=e,a=oo("where",t);return Kd._create(a,s,n)}class sv extends iv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)i1(u,m),u=Ty(u,m)})(e._query,n),new _o(e.firestore,e.converter,Ty(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rv extends n1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new ge(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(l,u)})(e._query,this._field,this._direction);return new _o(e.firestore,e.converter,Lj(e._query,n))}}function xs(t,e="asc"){const n=e,s=oo("orderBy",t);return rv._create(s,n)}function wS(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new ge(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$R(e)&&n.indexOf("/")!==-1)throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(_t.fromString(n));if(!Se.isDocumentKey(s))throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Bx(t,new Se(s))}if(n instanceof Ft)return Bx(t,n._key);throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nd(n)}.`)}function RS(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i1(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function s1(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends t1{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(oo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:en("string",so._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Uf extends so{data(e={}){return super.data(e)}}class vl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new iu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Uf(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new iu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new iu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:p3(f.type),doc:m,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=I_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:en("string",vl._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};function Oy(t){t=Xi(t,Ft);const e=Xi(t.firestore,vo),n=Z_(e);return QU(n,t._key).then((s=>y3(e,t,s)))}function xi(t){t=Xi(t,_o);const e=Xi(t.firestore,vo),n=Z_(e),s=new ZI(e);return d3(t._query),WU(n,t._query).then((a=>new vl(e,s,t,a)))}function g3(t,e,n){t=Xi(t,Ft);const s=Xi(t.firestore,vo),a=s1(t.converter,e,n),l=Gd(s);return $d(s,[$I(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ri.none())])}function su(t,e,n,...s){t=Xi(t,Ft);const a=Xi(t.firestore,vo),l=Gd(a);let u;return u=typeof(e=Vt(e))=="string"||e instanceof ev?l3(l,"updateDoc",t._key,e,n,s):o3(l,"updateDoc",t._key,e),$d(a,[u.toMutation(t._key,Ri.exists(!0))])}function Wa(t){return $d(Xi(t.firestore,vo),[new L_(t._key,Ri.none())])}function tr(t,e){const n=Xi(t.firestore,vo),s=rn(t),a=s1(t.converter,e),l=Gd(t.firestore);return $d(n,[$I(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ri.exists(!1))]).then((()=>s))}function $d(t,e){const n=Z_(t);return XU(n,e)}function y3(t,e,n){const s=n.docs.get(e._key),a=new ZI(t);return new so(t,a,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Wk(po),Wi(new Ii("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new vo(new Zk(s.getProvider("auth-internal")),new nj(u,s.getProvider("app-check-internal")),vj(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Hn(SS,AS,e),Hn(SS,AS,"esm2020")})();var _3="firebase",v3="12.8.0";Hn(_3,v3,"app");const r1="@firebase/installations",av="0.6.19";const a1=1e4,o1=`w:${av}`,l1="FIS_v2",E3="https://firebaseinstallations.googleapis.com/v1",T3=3600*1e3,b3="installations",x3="Installations";const S3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lo=new mo(b3,x3,S3);function c1(t){return t instanceof Ci&&t.code.includes("request-failed")}function u1({projectId:t}){return`${E3}/projects/${t}/installations`}function h1(t){return{token:t.token,requestStatus:2,expiresIn:w3(t.expiresIn),creationTime:Date.now()}}async function f1(t,e){const s=(await e.json()).error;return lo.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function d1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function A3(t,{refreshToken:e}){const n=d1(t);return n.append("Authorization",R3(e)),n}async function m1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function w3(t){return Number(t.replace("s","000"))}function R3(t){return`${l1} ${t}`}async function I3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=u1(t),a=d1(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:l1,appId:t.appId,sdkVersion:o1},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await m1(()=>fetch(s,f));if(m.ok){const p=await m.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:h1(p.authToken)}}else throw await f1("Create Installation",m)}function p1(t){return new Promise(e=>{setTimeout(e,t)})}function C3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const N3=/^[cdef][\w-]{21}$/,My="";function D3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O3(t);return N3.test(n)?n:My}catch{return My}}function O3(t){return C3(t).substr(0,22)}function Qd(t){return`${t.appName}!${t.appId}`}const g1=new Map;function y1(t,e){const n=Qd(t);_1(n,e),M3(n,e)}function _1(t,e){const n=g1.get(t);if(n)for(const s of n)s(e)}function M3(t,e){const n=P3();n&&n.postMessage({key:t,fid:e}),V3()}let no=null;function P3(){return!no&&"BroadcastChannel"in self&&(no=new BroadcastChannel("[Firebase] FID Change"),no.onmessage=t=>{_1(t.data.key,t.data.fid)}),no}function V3(){g1.size===0&&no&&(no.close(),no=null)}const L3="firebase-installations-database",k3=1,co="firebase-installations-store";let Mg=null;function ov(){return Mg||(Mg=_R(L3,k3,{upgrade:(t,e)=>{e===0&&t.createObjectStore(co)}})),Mg}async function hd(t,e){const n=Qd(t),a=(await ov()).transaction(co,"readwrite"),l=a.objectStore(co),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&y1(t,e.fid),e}async function v1(t){const e=Qd(t),s=(await ov()).transaction(co,"readwrite");await s.objectStore(co).delete(e),await s.done}async function Wd(t,e){const n=Qd(t),a=(await ov()).transaction(co,"readwrite"),l=a.objectStore(co),u=await l.get(n),f=e(u);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!u||u.fid!==f.fid)&&y1(t,f.fid),f}async function lv(t){let e;const n=await Wd(t.appConfig,s=>{const a=j3(s),l=U3(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===My?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j3(t){const e=t||{fid:D3(),registrationStatus:0};return E1(e)}function U3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(lo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=z3(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:B3(t)}:{installationEntry:e}}async function z3(t,e){try{const n=await I3(t,e);return hd(t.appConfig,n)}catch(n){throw c1(n)&&n.customData.serverCode===409?await v1(t.appConfig):await hd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function B3(t){let e=await IS(t.appConfig);for(;e.registrationStatus===1;)await p1(100),e=await IS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await lv(t);return s||n}return e}function IS(t){return Wd(t,e=>{if(!e)throw lo.create("installation-not-found");return E1(e)})}function E1(t){return F3(t)?{fid:t.fid,registrationStatus:0}:t}function F3(t){return t.registrationStatus===1&&t.registrationTime+a1<Date.now()}async function H3({appConfig:t,heartbeatServiceProvider:e},n){const s=q3(t,n),a=A3(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:o1,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await m1(()=>fetch(s,f));if(m.ok){const p=await m.json();return h1(p)}else throw await f1("Generate Auth Token",m)}function q3(t,{fid:e}){return`${u1(t)}/${e}/authTokens:generate`}async function cv(t,e=!1){let n;const s=await Wd(t.appConfig,l=>{if(!T1(l))throw lo.create("not-registered");const u=l.authToken;if(!e&&K3(u))return l;if(u.requestStatus===1)return n=G3(t,e),l;{if(!navigator.onLine)throw lo.create("app-offline");const f=Q3(l);return n=Y3(t,f),f}});return n?await n:s.authToken}async function G3(t,e){let n=await CS(t.appConfig);for(;n.authToken.requestStatus===1;)await p1(100),n=await CS(t.appConfig);const s=n.authToken;return s.requestStatus===0?cv(t,e):s}function CS(t){return Wd(t,e=>{if(!T1(e))throw lo.create("not-registered");const n=e.authToken;return W3(n)?{...e,authToken:{requestStatus:0}}:e})}async function Y3(t,e){try{const n=await H3(t,e),s={...e,authToken:n};return await hd(t.appConfig,s),n}catch(n){if(c1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await v1(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await hd(t.appConfig,s)}throw n}}function T1(t){return t!==void 0&&t.registrationStatus===2}function K3(t){return t.requestStatus===2&&!$3(t)}function $3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+T3}function Q3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function W3(t){return t.requestStatus===1&&t.requestTime+a1<Date.now()}async function X3(t){const e=t,{installationEntry:n,registrationPromise:s}=await lv(e);return s?s.catch(console.error):cv(e).catch(console.error),n.fid}async function J3(t,e=!1){const n=t;return await Z3(n),(await cv(n,e)).token}async function Z3(t){const{registrationPromise:e}=await lv(t);e&&await e}function e6(t){if(!t||!t.options)throw Pg("App Configuration");if(!t.name)throw Pg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Pg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Pg(t){return lo.create("missing-app-config-values",{valueName:t})}const b1="installations",t6="installations-internal",n6=t=>{const e=t.getProvider("app").getImmediate(),n=e6(e),s=ma(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},i6=t=>{const e=t.getProvider("app").getImmediate(),n=ma(e,b1).getImmediate();return{getId:()=>X3(n),getToken:a=>J3(n,a)}};function s6(){Wi(new Ii(b1,n6,"PUBLIC")),Wi(new Ii(t6,i6,"PRIVATE"))}s6();Hn(r1,av);Hn(r1,av,"esm2020");const fd="analytics",r6="firebase_id",a6="origin",o6=60*1e3,l6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uv="https://www.googletagmanager.com/gtag/js";const Mn=new Id("@firebase/analytics");const c6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ri=new mo("analytics","Analytics",c6);function u6(t){if(!t.startsWith(uv)){const e=ri.create("invalid-gtag-resource",{gtagURL:t});return Mn.warn(e.message),""}return t}function x1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function h6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function f6(t,e){const n=h6("firebase-js-sdk-policy",{createScriptURL:u6}),s=document.createElement("script"),a=`${uv}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function d6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function m6(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const m=(await x1(n)).find(p=>p.measurementId===a);m&&await e[m.appId]}}catch(f){Mn.error(f)}t("config",a,l)}async function p6(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await x1(n);for(const m of u){const p=f.find(E=>E.measurementId===m),_=p&&e[p.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Mn.error(l)}}function g6(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[f,m]=u;await p6(t,e,n,f,m)}else if(l==="config"){const[f,m]=u;await m6(t,e,n,s,f,m)}else if(l==="consent"){const[f,m]=u;t("consent",f,m)}else if(l==="get"){const[f,m,p]=u;t("get",f,m,p)}else if(l==="set"){const[f]=u;t("set",f)}else t(l,...u)}catch(f){Mn.error(f)}}return a}function y6(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=g6(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function _6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(uv)&&n.src.includes(t))return n;return null}const v6=30,E6=1e3;class T6{constructor(e={},n=E6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const S1=new T6;function b6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function x6(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:b6(n)},a=l6.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const f=await l.json();f.error?.message&&(u=f.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function S6(t,e=S1,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw ri.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw ri.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new R6;return setTimeout(async()=>{f.abort()},o6),A1({appId:s,apiKey:a,measurementId:l},u,f,e)}async function A1(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=S1){const{appId:l,measurementId:u}=t;try{await A6(s,e)}catch(f){if(u)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw f}try{const f=await x6(t);return a.deleteThrottleMetadata(l),f}catch(f){const m=f;if(!w6(m)){if(a.deleteThrottleMetadata(l),u)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw f}const p=Number(m?.customData?.httpStatus)===503?Ex(n,a.intervalMillis,v6):Ex(n,a.intervalMillis),_={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,_),Mn.debug(`Calling attemptFetch again in ${p} millis`),A1(t,_,s,a)}}function A6(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function w6(t){if(!(t instanceof Ci)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class R6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function I6(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function C6(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function N6(){if(mR())try{await pR()}catch(t){return Mn.warn(ri.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Mn.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D6(t,e,n,s,a,l,u){const f=S6(t);f.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Mn.error(b)),e.push(f);const m=N6().then(b=>{if(b)return s.getId()}),[p,_]=await Promise.all([f,m]);_6(l)||f6(l,p.measurementId),a("js",new Date);const E=u?.config??{};return E[a6]="firebase",E.update=!0,_!=null&&(E[r6]=_),a("config",p.measurementId,E),p.measurementId}class O6{constructor(e){this.app=e}_delete(){return delete El[this.app.options.appId],Promise.resolve()}}let El={},NS=[];const DS={};let Vg="dataLayer",M6="gtag",OS,hv,MS=!1;function P6(){const t=[];if(dR()&&t.push("This is a browser extension environment."),DL()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=ri.create("invalid-analytics-context",{errorInfo:e});Mn.warn(n.message)}}function V6(t,e,n){P6();const s=t.options.appId;if(!s)throw ri.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ri.create("no-api-key");if(El[s]!=null)throw ri.create("already-exists",{id:s});if(!MS){d6(Vg);const{wrappedGtag:l,gtagCore:u}=y6(El,NS,DS,Vg,M6);hv=l,OS=u,MS=!0}return El[s]=D6(t,NS,DS,e,OS,Vg,n),new O6(t)}function L6(t=Cd()){t=Vt(t);const e=ma(t,fd);return e.isInitialized()?e.getImmediate():k6(t)}function k6(t,e={}){const n=ma(t,fd);if(n.isInitialized()){const a=n.getImmediate();if(ur(e,n.getOptions()))return a;throw ri.create("already-initialized")}return n.initialize({options:e})}function j6(t,e,n){t=Vt(t),C6(hv,El[t.app.options.appId],e,n).catch(s=>Mn.error(s))}function U6(t,e,n,s){t=Vt(t),I6(hv,El[t.app.options.appId],e,n,s).catch(a=>Mn.error(a))}const PS="@firebase/analytics",VS="0.10.19";function z6(){Wi(new Ii(fd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return V6(s,a,n)},"PUBLIC")),Wi(new Ii("analytics-internal",t,"PRIVATE")),Hn(PS,VS),Hn(PS,VS,"esm2020");function t(e){try{const n=e.getProvider(fd).getImmediate();return{logEvent:(s,a,l)=>U6(n,s,a,l),setUserProperties:(s,a)=>j6(n,s,a)}}catch(n){throw ri.create("interop-component-reg-failed",{reason:n})}}}z6();function w1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B6=w1,R1=new mo("auth","Firebase",w1());const dd=new Id("@firebase/auth");function F6(t,...e){dd.logLevel<=Ke.WARN&&dd.warn(`Auth (${po}): ${t}`,...e)}function zf(t,...e){dd.logLevel<=Ke.ERROR&&dd.error(`Auth (${po}): ${t}`,...e)}function Zi(t,...e){throw fv(t,...e)}function Is(t,...e){return fv(t,...e)}function I1(t,e,n){const s={...B6(),[e]:n};return new mo("auth","Firebase",s).create(e,{appName:t.name})}function or(t){return I1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return R1.create(t,...e)}function Re(t,e,...n){if(!t)throw fv(e,...n)}function nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zf(e),new Error(e)}function mr(t,e){t||nr(e)}function Py(){return typeof self<"u"&&self.location?.href||""}function H6(){return LS()==="http:"||LS()==="https:"}function LS(){return typeof self<"u"&&self.location?.protocol||null}function q6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H6()||dR()||"connection"in navigator)?navigator.onLine:!0}function G6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=AL()||IL()}get(){return q6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dv(t,e){mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class C1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const K6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$6=new Fu(3e4,6e4);function ya(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function _a(t,e,n,s,a={}){return N1(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Lu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return RL()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&fo(t.emulatorConfig.host)&&(p.credentials="include"),C1.fetch()(await D1(t,t.config.apiHost,n,f),p)})}async function N1(t,e,n){t._canInitEmulator=!1;const s={...Y6,...e};try{const a=new W6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw wf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw wf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw wf(t,"user-disabled",u);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw I1(t,_,p);Zi(t,_)}}catch(a){if(a instanceof Ci)throw a;Zi(t,"network-request-failed",{message:String(a)})}}async function Hu(t,e,n,s,a={}){const l=await _a(t,e,n,s,a);return"mfaPendingCredential"in l&&Zi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function D1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?dv(t.config,a):`${t.config.apiScheme}://${a}`;return K6.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Q6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Is(this.auth,"network-request-failed")),$6.get())})}}function wf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Is(t,e,s);return a.customData._tokenResponse=n,a}function kS(t){return t!==void 0&&t.enterprise!==void 0}class X6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Q6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J6(t,e){return _a(t,"GET","/v2/recaptchaConfig",ya(t,e))}async function Z6(t,e){return _a(t,"POST","/v1/accounts:delete",e)}async function md(t,e){return _a(t,"POST","/v1/accounts:lookup",e)}function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ez(t,e=!1){const n=Vt(t),s=await n.getIdToken(e),a=mv(s);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:mu(Lg(a.auth_time)),issuedAtTime:mu(Lg(a.iat)),expirationTime:mu(Lg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Lg(t){return Number(t)*1e3}function mv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const a=oR(n);return a?JSON.parse(a):(zf("Failed to decode base64 JWT payload"),null)}catch(a){return zf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function jS(t){const e=mv(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Iu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ci&&tz(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function tz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class nz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pd(t){const e=t.auth,n=await t.getIdToken(),s=await Iu(t,md(e,{idToken:n}));Re(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?O1(a.providerUserInfo):[],u=sz(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=f?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,_)}async function iz(t){const e=Vt(t);await pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sz(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function O1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rz(t,e){const n=await N1(t,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await D1(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&fo(t.emulatorConfig.host)&&(m.credentials="include"),C1.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function az(t,e){return _a(t,"POST","/v2/accounts:revokeToken",ya(t,e))}class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=jS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await rz(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Tl;return s&&(Re(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Kr(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new nz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ez(this,e)}reload(){return iz(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await pd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await Iu(this,Z6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:A,providerData:N,stsTokenManager:j}=n;Re(E&&j,e,"internal-error");const V=Tl.fromJSON(this.name,j);Re(typeof E=="string",e,"internal-error"),Kr(s,e.name),Kr(a,e.name),Re(typeof b=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),Kr(l,e.name),Kr(u,e.name),Kr(f,e.name),Kr(m,e.name),Kr(p,e.name),Kr(_,e.name);const B=new Gi({uid:E,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:V,createdAt:p,lastLoginAt:_});return N&&Array.isArray(N)&&(B.providerData=N.map(G=>({...G}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new Tl;a.updateFromServerResponse(n);const l=new Gi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await pd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?O1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new Tl;f.updateFromIdToken(s);const m=new Gi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const US=new Map;function ir(t){mr(t instanceof Function,"Expected a class definition");let e=US.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,US.set(t,e),e)}class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M1.type="NONE";const zS=M1;function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await md(this.auth,{idToken:e}).catch(()=>{});return n?Gi._fromGetAccountInfoResponse(this.auth,n,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new bl(ir(zS),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ir(zS);const u=Bf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const _=await p._get(u);if(_){let E;if(typeof _=="string"){const b=await md(e,{idToken:_}).catch(()=>{});if(!b)break;E=await Gi._fromGetAccountInfoResponse(e,b,_)}else E=Gi._fromJSON(e,_);p!==l&&(f=E),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new bl(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new bl(l,e,s))}}function BS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U1(e))return"Blackberry";if(z1(e))return"Webos";if(V1(e))return"Safari";if((e.includes("chrome/")||L1(e))&&!e.includes("edge/"))return"Chrome";if(j1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function P1(t=wn()){return/firefox\//i.test(t)}function V1(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L1(t=wn()){return/crios\//i.test(t)}function k1(t=wn()){return/iemobile/i.test(t)}function j1(t=wn()){return/android/i.test(t)}function U1(t=wn()){return/blackberry/i.test(t)}function z1(t=wn()){return/webos/i.test(t)}function pv(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oz(t=wn()){return pv(t)&&!!window.navigator?.standalone}function lz(){return CL()&&document.documentMode===10}function B1(t=wn()){return pv(t)||j1(t)||z1(t)||U1(t)||/windows phone/i.test(t)||k1(t)}function F1(t,e=[]){let n;switch(t){case"Browser":n=BS(wn());break;case"Worker":n=`${BS(wn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}class cz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uz(t,e={}){return _a(t,"GET","/v2/passwordPolicy",ya(t,e))}const hz=6;class fz{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class dz{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FS(this),this.idTokenSubscription=new FS(this),this.beforeStateQueue=new cz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await md(this,{idToken:e}),s=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(or(this));const n=e?Vt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uz(this),n=new fz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await az(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&F6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Eo(t){return Vt(t)}class FS{constructor(e){this.auth=e,this.observer=null,this.addObserver=LL(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mz(t){Xd=t}function H1(t){return Xd.loadJS(t)}function pz(){return Xd.recaptchaEnterpriseScript}function gz(){return Xd.gapiScript}function yz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _z{constructor(){this.enterprise=new vz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ez="recaptcha-enterprise",q1="NO_RECAPTCHA";class Tz{constructor(e){this.type=Ez,this.auth=Eo(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{J6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new X6(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;kS(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(q1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _z().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&kS(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=pz();m.length!==0&&(m+=f),H1(m).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function HS(t,e,n,s=!1,a=!1){const l=new Tz(t);let u;if(a)u=q1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ly(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await HS(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await HS(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function bz(t,e){const n=ma(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ur(l,e??{}))return a;Zi(a,"already-initialized")}return n.initialize({options:e})}function xz(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function Sz(t,e,n){const s=Eo(t);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=G1(e),{host:u,port:f}=Az(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},_=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(ur(p,s.config.emulator)&&ur(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,fo(u)?(S_(`${l}//${u}${m}`),A_("Auth",!0)):wz()}function G1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Az(t){const e=G1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:qS(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:qS(u)}}}function qS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function Rz(t,e){return _a(t,"POST","/v1/accounts:signUp",e)}async function Iz(t,e){return Hu(t,"POST","/v1/accounts:signInWithPassword",ya(t,e))}async function Cz(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",ya(t,e))}async function Nz(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",ya(t,e))}class Cu extends gv{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ly(e,n,"signInWithPassword",Iz);case"emailLink":return Cz(e,{email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ly(e,s,"signUpPassword",Rz);case"emailLink":return Nz(e,{idToken:n,email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xl(t,e){return Hu(t,"POST","/v1/accounts:signInWithIdp",ya(t,e))}const Dz="http://localhost";class uo extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new uo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:Dz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}function Oz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mz(t){const e=Jc(Zc(t)).link,n=e?Jc(Zc(e)).deep_link_id:null,s=Jc(Zc(t)).deep_link_id;return(s?Jc(Zc(s)).link:null)||s||n||e||t}class yv{constructor(e){const n=Jc(Zc(e)),s=n.apiKey??null,a=n.oobCode??null,l=Oz(n.mode??null);Re(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Mz(e);try{return new yv(n)}catch{return null}}}class Gl{constructor(){this.providerId=Gl.PROVIDER_ID}static credential(e,n){return Cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=yv.parseLink(n);return Re(s,"argument-error"),Cu._fromEmailAndCode(e,s.code,s.tenantId)}}Gl.PROVIDER_ID="password";Gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qu extends Y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qr extends qu{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Wr extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uo._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class Xr extends qu{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";class Jr extends qu{constructor(){super("twitter.com")}static credential(e,n){return uo._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";async function Pz(t,e){return Hu(t,"POST","/v1/accounts:signUp",ya(t,e))}class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Gi._fromIdTokenResponse(e,s,a),u=GS(s);return new ho({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=GS(s);return new ho({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function GS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class gd extends Ci{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new gd(e,n,s,a)}}function K1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,l,e,s):l})}async function Vz(t,e,n=!1){const s=await Iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ho._forOperation(t,"link",s)}async function Lz(t,e,n=!1){const{auth:s}=t;if(ii(s.app))return Promise.reject(or(s));const a="reauthenticate";try{const l=await Iu(t,K1(s,a,e,t),n);Re(l.idToken,s,"internal-error");const u=mv(l.idToken);Re(u,s,"internal-error");const{sub:f}=u;return Re(t.uid===f,s,"user-mismatch"),ho._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zi(s,"user-mismatch"),l}}async function $1(t,e,n=!1){if(ii(t.app))return Promise.reject(or(t));const s="signIn",a=await K1(t,s,e),l=await ho._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function kz(t,e){return $1(Eo(t),e)}async function Q1(t){const e=Eo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jz(t,e,n){if(ii(t.app))return Promise.reject(or(t));const s=Eo(t),u=await Ly(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pz).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Q1(t),m}),f=await ho._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function W1(t,e,n){return ii(t.app)?Promise.reject(or(t)):kz(Vt(t),Gl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Q1(t),s})}function Uz(t,e,n,s){return Vt(t).onIdTokenChanged(e,n,s)}function zz(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function _v(t,e,n,s){return Vt(t).onAuthStateChanged(e,n,s)}function X1(t){return Vt(t).signOut()}const yd="__sak";class J1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bz=1e3,Fz=10;class Z1 extends J1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);lz()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Fz):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Bz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z1.type="LOCAL";const Hz=Z1;class eC extends J1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eC.type="SESSION";const tC=eC;function qz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Jd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await qz(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];function vv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Gz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=vv("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Cs(){return window}function Yz(t){Cs().location.href=t}function nC(){return typeof Cs().WorkerGlobalScope<"u"&&typeof Cs().importScripts=="function"}async function Kz(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $z(){return navigator?.serviceWorker?.controller||null}function Qz(){return nC()?self:null}const iC="firebaseLocalStorageDb",Wz=1,_d="firebaseLocalStorage",sC="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function Xz(){const t=indexedDB.deleteDatabase(iC);return new Gu(t).toPromise()}function ky(){const t=indexedDB.open(iC,Wz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(_d,{keyPath:sC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(_d)?e(s):(s.close(),await Xz(),e(await ky()))})})}async function YS(t,e,n){const s=Zd(t,!0).put({[sC]:e,value:n});return new Gu(s).toPromise()}async function Jz(t,e){const n=Zd(t,!1).get(e),s=await new Gu(n).toPromise();return s===void 0?null:s.value}function KS(t,e){const n=Zd(t,!0).delete(e);return new Gu(n).toPromise()}const Zz=800,e5=3;class rC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ky(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>e5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(Qz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Kz(),!this.activeServiceWorker)return;this.sender=new Gz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$z()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ky();return await YS(e,yd,"1"),await KS(e,yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>YS(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Jz(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Zd(a,!1).getAll();return new Gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rC.type="LOCAL";const t5=rC;new Fu(3e4,6e4);function n5(t,e){return e?ir(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Ev extends gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i5(t){return $1(t.auth,new Ev(t),t.bypassAuthState)}function s5(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),Lz(n,new Ev(t),t.bypassAuthState)}async function r5(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),Vz(n,new Ev(t),t.bypassAuthState)}class aC{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i5;case"linkViaPopup":case"linkViaRedirect":return r5;case"reauthViaPopup":case"reauthViaRedirect":return s5;default:Zi(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const a5=new Fu(2e3,1e4);class pl extends aC{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a5.get())};e()}}pl.currentPopupAction=null;const o5="pendingRedirect",Ff=new Map;class l5 extends aC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const s=await c5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c5(t,e){const n=f5(e),s=h5(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function u5(t,e){Ff.set(t._key(),e)}function h5(t){return ir(t._redirectPersistence)}function f5(t){return Bf(o5,t.config.apiKey,t.name)}async function d5(t,e,n=!1){if(ii(t.app))return Promise.reject(or(t));const s=Eo(t),a=n5(s,e),u=await new l5(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const m5=600*1e3;class p5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Is(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m5&&this.cachedEventUids.clear(),this.cachedEventUids.has($S(e))}saveEventToCache(e){this.cachedEventUids.add($S(e)),this.lastProcessedEventTime=Date.now()}}function $S(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function g5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oC(t);default:return!1}}async function y5(t,e={}){return _a(t,"GET","/v1/projects",e)}const _5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v5=/^https?/;async function E5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await y5(t);for(const n of e)try{if(T5(n))return}catch{}Zi(t,"unauthorized-domain")}function T5(t){const e=Py(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!v5.test(n))return!1;if(_5.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const b5=new Fu(3e4,6e4);function QS(){const t=Cs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x5(t){return new Promise((e,n)=>{function s(){QS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QS(),n(Is(t,"network-request-failed"))},timeout:b5.get()})}if(Cs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cs().gapi?.load)s();else{const a=yz("iframefcb");return Cs()[a]=()=>{gapi.load?s():n(Is(t,"network-request-failed"))},H1(`${gz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hf=null,e})}let Hf=null;function S5(t){return Hf=Hf||x5(t),Hf}const A5=new Fu(5e3,15e3),w5="__/auth/iframe",R5="emulator/auth/iframe",I5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N5(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dv(e,R5):`https://${t.config.authDomain}/${w5}`,s={apiKey:e.apiKey,appName:t.name,v:po},a=C5.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Lu(s).slice(1)}`}async function D5(t){const e=await S5(t),n=Cs().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:N5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I5,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Is(t,"network-request-failed"),f=Cs().setTimeout(()=>{l(u)},A5.get());function m(){Cs().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const O5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M5=500,P5=600,V5="_blank",L5="http://localhost";class WS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k5(t,e,n,s=M5,a=P5){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...O5,width:s.toString(),height:a.toString(),top:l,left:u},p=wn().toLowerCase();n&&(f=L1(p)?V5:n),P1(p)&&(e=e||L5,m.scrollbars="yes");const _=Object.entries(m).reduce((b,[A,N])=>`${b}${A}=${N},`,"");if(oz(p)&&f!=="_self")return j5(e||"",f),new WS(null);const E=window.open(e||"",f,_);Re(E,t,"popup-blocked");try{E.focus()}catch{}return new WS(E)}function j5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const U5="__/auth/handler",z5="emulator/auth/handler",B5=encodeURIComponent("fac");async function XS(t,e,n,s,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:po,eventId:a};if(e instanceof Y1){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",VL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof qu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const m=await t._getAppCheckToken(),p=m?`#${B5}=${encodeURIComponent(m)}`:"";return`${F5(t)}?${Lu(f).slice(1)}${p}`}function F5({config:t}){return t.emulator?dv(t,z5):`https://${t.authDomain}/${U5}`}const kg="webStorageSupport";class H5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tC,this._completeRedirectFn=d5,this._overrideRedirectResult=u5}async _openPopup(e,n,s,a){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await XS(e,n,s,Py(),a);return k5(e,l,vv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await XS(e,n,s,Py(),a);return Yz(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(mr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await D5(e),s=new p5(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kg,{type:kg},a=>{const l=a?.[0]?.[kg];l!==void 0&&n(!!l),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B1()||V1()||pv()}}const q5=H5;var JS="@firebase/auth",ZS="1.12.0";class G5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Y5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K5(t){Wi(new Ii("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F1(t)},p=new dz(s,a,l,m);return xz(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wi(new Ii("auth-internal",e=>{const n=Eo(e.getProvider("auth").getImmediate());return(s=>new G5(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(JS,ZS,Y5(t)),Hn(JS,ZS,"esm2020")}const $5=300,Q5=hR("authIdTokenMaxAge")||$5;let eA=null;const W5=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Q5)return;const a=n?.token;eA!==a&&(eA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function X5(t=Cd()){const e=ma(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bz(t,{popupRedirectResolver:q5,persistence:[t5,Hz,tC]}),s=hR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=W5(l.toString());zz(n,u,()=>u(n.currentUser)),Uz(n,f=>u(f))}}const a=lR("auth");return a&&Sz(n,`http://${a}`),n}function J5(){return document.getElementsByTagName("head")?.[0]??document}mz({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Is("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",J5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K5("Browser");const lC="firebasestorage.googleapis.com",Z5="storageBucket",e9=120*1e3,t9=600*1e3;class Ps extends Ci{constructor(e,n,s=0){super(jg(e),`Firebase Storage: ${n} (${jg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ps.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Os;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Os||(Os={}));function jg(t){return"storage/"+t}function n9(){const t="An unknown error occurred, please check the error payload for server response.";return new Ps(Os.UNKNOWN,t)}function i9(){return new Ps(Os.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s9(){return new Ps(Os.CANCELED,"User canceled the upload/download.")}function r9(t){return new Ps(Os.INVALID_URL,"Invalid URL '"+t+"'.")}function a9(t){return new Ps(Os.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tA(t){return new Ps(Os.INVALID_ARGUMENT,t)}function cC(){return new Ps(Os.APP_DELETED,"The Firebase app was deleted.")}function o9(t){return new Ps(Os.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Yi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Yi.makeFromUrl(e,n)}catch{return new Yi(e,"")}if(s.path==="")return s;throw a9(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const _="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",A=new RegExp(`^https?://${E}/${_}/b/${a}/o${b}`,"i"),N={bucket:1,path:3},j=n===lC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",B=new RegExp(`^https?://${j}/${a}/${V}`,"i"),q=[{regex:f,indices:m,postModify:l},{regex:A,indices:N,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<q.length;re++){const oe=q[re],ue=oe.regex.exec(e);if(ue){const C=ue[oe.indices.bucket];let w=ue[oe.indices.path];w||(w=""),s=new Yi(C,w),oe.postModify(s);break}}if(s==null)throw r9(e);return s}}class l9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function c9(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let p=!1;function _(...V){p||(p=!0,e.apply(null,V))}function E(V){a=setTimeout(()=>{a=null,t(A,m())},V)}function b(){l&&clearTimeout(l)}function A(V,...B){if(p){b();return}if(V){b(),_.call(null,V,...B);return}if(m()||u){b(),_.call(null,V,...B);return}s<64&&(s*=2);let q;f===1?(f=2,q=0):q=(s+Math.random())*1e3,E(q)}let N=!1;function j(V){N||(N=!0,b(),!p&&(a!==null?(V||(f=2),clearTimeout(a),E(0)):V||(f=1)))}return E(0),l=setTimeout(()=>{u=!0,j(!0)},n),j}function u9(t){t(!1)}function h9(t){return t!==void 0}function nA(t,e,n,s){if(s<e)throw tA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw tA(`Invalid value for '${t}'. Expected ${n} or less.`)}function f9(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var vd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vd||(vd={}));function d9(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class m9{constructor(e,n,s,a,l,u,f,m,p,_,E,b=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,j)=>{this.resolve_=N,this.reject_=j,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Rf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===vd.NO_ERROR,m=l.getStatus();if(!f||d9(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===vd.ABORT;s(!1,new Rf(!1,null,_));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Rf(p,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());h9(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=n9();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?cC():s9();u(m)}else{const m=i9();u(m)}};this.canceled_?n(!1,new Rf(!1,null,!0)):this.backoffId_=c9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function p9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function g9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v9(t,e,n,s,a,l,u=!0,f=!1){const m=f9(t.urlParams),p=t.url+m,_=Object.assign({},t.headers);return y9(_,e),p9(_,n),g9(_,l),_9(_,s),new m9(p,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function E9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Ed{constructor(e,n){this._service=e,n instanceof Yi?this._location=n:this._location=Yi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ed(e,n)}get root(){const e=new Yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T9(this._location.path)}get storage(){return this._service}get parent(){const e=E9(this._location.path);if(e===null)return null;const n=new Yi(this._location.bucket,e);return new Ed(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw o9(e)}}function iA(t,e){const n=e?.[Z5];return n==null?null:Yi.makeFromBucketSpec(n,t)}function b9(t,e,n,s={}){t.host=`${e}:${n}`;const a=fo(e);a&&(S_(`https://${t.host}/b`),A_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:fR(l,t.app.options.projectId))}class x9{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=lC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e9,this._maxUploadRetryTime=t9,this._requests=new Set,a!=null?this._bucket=Yi.makeFromBucketSpec(a,this._host):this._bucket=iA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yi.makeFromBucketSpec(this._url,e):this._bucket=iA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ed(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new l9(cC());{const u=v9(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const sA="@firebase/storage",rA="0.14.0";const uC="storage";function S9(t=Cd(),e){t=Vt(t);const s=ma(t,uC).getImmediate({identifier:e}),a=cR("storage");return a&&A9(s,...a),s}function A9(t,e,n,s={}){b9(t,e,n,s)}function w9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new x9(n,s,a,e,po)}function R9(){Wi(new Ii(uC,w9,"PUBLIC").setMultipleInstances(!0)),Hn(sA,rA,""),Hn(sA,rA,"esm2020")}R9();const I9={apiKey:"AIzaSyANZRlyzKDXsnB8QP6dTrKsq5-WFaZTJDY",authDomain:"bookofgrit.firebaseapp.com",projectId:"bookofgrit",storageBucket:"bookofgrit.firebasestorage.app",messagingSenderId:"416633269965",appId:"1:416633269965:web:8e82d613d1b9f004590384",measurementId:"G-WKRTDR23SF"},em=vR(I9);typeof window<"u"&&L6(em);const Fe=t3(em),On=X5(em);S9(em);function C9({isOpen:t,onClose:e,item:n,onComplete:s}){const[a,l]=O.useState("idle"),[u,f]=O.useState(""),[m,p]=O.useState({callsign:"",mission:""});Vl(),O.useEffect(()=>{t&&(l("idle"),f(""))},[t]);const _=()=>{l("preform")},E=async A=>{A&&A.preventDefault(),l("processing"),f("");try{try{await tr(zt(Fe,"order_intents"),{itemId:n.id,itemName:n.name,...m,uid:On.currentUser?.uid||"anonymous",email:On.currentUser?.email||"ANONYMOUS",timestamp:new Date})}catch(B){console.warn("Failed to log order intent to Firestore, continuing with Stripe",B)}const N=await fetch("/create-checkout-session.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:n.id,name:n.name,price:n.price,img:n.img||"https://thebookofgrit.com/bookofgrit_logo_v3.png",uid:On.currentUser?.uid||"anonymous",metadata:{callsign:m.callsign,mission:m.mission}})}),j=N.headers.get("content-type");if(!j||!j.includes("application/json")){const B=await N.text();throw console.error("Non-JSON response:",B),new Error("SERVER_CONFIGURATION_ERROR")}const V=await N.json();if(V.error)throw new Error(V.error);if(V.url)window.location.href=V.url;else throw new Error("SECURE_LINK_GENERATION_FAILED")}catch(N){console.error("Payment Error:",N),f(N.message||"FAILED_TO_INITIALIZE_GATEWAY"),l("error")}};if(!t)return null;const b=n?.id==="SUB_MONTHLY";return y.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 sm:p-6 md:p-12",children:[y.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/95 backdrop-blur-xl"}),y.jsxs(Pt.div,{initial:{scale:.95,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:30},className:`relative w-full ${b?"max-w-4xl":"max-w-2xl"} bg-black border-2 ${b?"border-neon-magenta shadow-[0_0_80px_rgba(255,0,255,0.15)]":"border-primary shadow-[0_0_80px_rgba(0,240,255,0.15)]"} overflow-hidden h-fit max-h-[90vh] flex flex-col`,children:[y.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent ${b?"via-neon-magenta":"via-primary"} to-transparent opacity-50`}),y.jsxs("div",{className:"p-8 md:p-12 relative z-10 flex-1 overflow-y-auto custom-scrollbar",children:[y.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-zinc-600 hover:text-white transition-colors material-symbols-outlined text-4xl",children:"close"}),y.jsxs(oV,{mode:"wait",children:[a==="idle"&&y.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-10",children:y.jsxs("div",{className:"text-center md:text-left",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8 border-b border-zinc-900 pb-8",children:[y.jsxs("div",{children:[y.jsx("h3",{className:`text-4xl md:text-6xl font-bombed text-white mb-2 uppercase tracking-tighter ${b?"text-neon-magenta":""}`,children:b?"ELITE_ENLISTMENT":"SECURE_ACCESS"}),y.jsx("p",{className:`${b?"text-neon-magenta":"text-primary"} font-technical text-xs md:text-sm tracking-[0.4em] uppercase`,children:b?"OPERATIONAL FREQUENCY ACCESS":`ASSET_ID: ${n?.id||"AUTH_REQUIRED"}`})]}),y.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[y.jsx("span",{className:"text-zinc-600 font-technical text-[10px] uppercase mb-1 tracking-widest",children:"COST"}),y.jsx("span",{className:"text-white text-5xl font-bombed leading-none",children:n?.price||"$0.00"})]})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"bg-zinc-900/40 border border-zinc-800 p-8 relative",children:[y.jsx("div",{className:`absolute -top-3 -left-3 w-8 h-8 border-l-2 border-t-2 ${b?"border-neon-magenta/40":"border-primary/40"}`}),y.jsx("div",{className:`absolute -bottom-3 -right-3 w-8 h-8 border-r-2 border-b-2 ${b?"border-neon-magenta/40":"border-primary/40"}`}),y.jsx("p",{className:`text-white font-graffiti text-3xl mb-4 italic ${b?"text-neon-magenta":""}`,children:n?.name||"UNKNOWN_ITEM"}),y.jsx("p",{className:"text-zinc-400 font-technical text-xs leading-relaxed",children:n?.description||"Decryption sequence for operational manifests. Includes full tactical orientation and implementation protocols."})]}),b&&y.jsxs("div",{className:"space-y-6",children:[y.jsx("h4",{className:"text-neon-magenta font-stencil text-lg uppercase underline underline-offset-8 decoration-neon-magenta/30",children:"WHY_JOIN_THE_MOVEMENT?"}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{icon:"hub",label:"THE NETWORK",desc:"Direct connection to a global collective of elite performers. No noise. Pure signal."},{icon:"deployed_code",label:"TACTICAL DRILLS",desc:"Weekly operational procedures designed to push your limit and rebuild your discipline."},{icon:"shield_with_heart",label:"PRIVATE ARCHIVE",desc:"Unrestricted access to the classified manifestos and unreleased grit protocols."}].map((A,N)=>y.jsxs("div",{className:"flex gap-4 group",children:[y.jsx("span",{className:"material-symbols-outlined text-neon-magenta text-3xl opacity-50 group-hover:opacity-100 transition-opacity",children:A.icon}),y.jsxs("div",{children:[y.jsx("p",{className:"text-white font-bombed text-[10px] mb-1",children:A.label}),y.jsx("p",{className:"text-zinc-500 font-technical text-[9px] leading-tight",children:A.desc})]})]},N))})]})]}),y.jsxs("div",{className:"flex flex-col justify-between space-y-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-black/80 border border-zinc-800 p-6 font-technical text-[10px] text-zinc-500 space-y-2 leading-relaxed",children:[y.jsx("p",{className:"text-zinc-400 font-bold uppercase",children:"MISSION_PROTOCOL_2.0:"}),y.jsx("p",{children:"By proceeding, you acknowledge that progress is only possible through consistent, uncomfortable work. The assets provided are tools, not solutions. No refunds will be issued for Lack of discipline."})]}),y.jsxs("ul",{className:"space-y-3",children:[y.jsxs("li",{className:"flex items-center gap-3 text-zinc-400 font-technical text-[10px]",children:[y.jsx("span",{className:`material-symbols-outlined text-sm ${b?"text-neon-magenta":"text-primary"}`,children:"verified"}),"INSTANT DIGITAL DEPLOYMENT"]}),y.jsxs("li",{className:"flex items-center gap-3 text-zinc-400 font-technical text-[10px]",children:[y.jsx("span",{className:`material-symbols-outlined text-sm ${b?"text-neon-magenta":"text-primary"}`,children:"security"}),"ENCRYPTED_SESSION_KEY_INCLUDED"]})]})]}),y.jsxs("div",{className:"space-y-4 pt-8 border-t border-zinc-900",children:[y.jsxs("button",{onClick:_,className:`w-full py-6 font-stencil text-2xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-2xl flex items-center justify-center gap-4 ${b?"bg-neon-magenta text-black shadow-neon-magenta/20":"bg-primary text-black shadow-primary/20"} hover:bg-white`,children:[y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"terminal"}),"INITIALIZE CHECKOUT"]}),y.jsxs("div",{className:"flex items-center justify-center gap-6 opacity-30 invert pointer-events-none",children:[y.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg",alt:"Stripe",className:"h-6"}),y.jsx("div",{className:"w-px h-6 bg-white"}),y.jsx("span",{className:"text-[10px] font-technical text-white tracking-widest uppercase",children:"SSL_SECURE"})]})]})]})]})]})},"idle"),a==="preform"&&y.jsxs(Pt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:[y.jsxs("div",{className:"border-b border-zinc-900 pb-8",children:[y.jsx("h3",{className:`text-3xl font-bombed uppercase italic ${b?"text-neon-magenta":"text-primary"}`,children:"OPERATIONAL_INTEL_REQUIRED"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase mt-2 tracking-widest",children:"SUBMIT IDENTITY PARAMS BEFORE SECURE CONNECTION"})]}),y.jsxs("form",{onSubmit:E,className:"space-y-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-600 uppercase",children:"CONFIRM_CALLSIGN"}),y.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"EX: VANTAGE_POINT",className:`w-full bg-zinc-900/50 border border-zinc-800 p-4 font-technical text-white focus:border-${b?"neon-magenta":"primary"} outline-none text-xs`,value:m.callsign,onChange:A=>p({...m,callsign:A.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-600 uppercase",children:"MISSION_OBJECTIVE"}),y.jsx("textarea",{required:!0,rows:"3",placeholder:"BRIEF_SUMMARY_OF_WHY_YOU_ARE_PURCHASING",className:`w-full bg-zinc-900/50 border border-zinc-800 p-4 font-technical text-white focus:border-${b?"neon-magenta":"primary"} outline-none text-xs`,value:m.mission,onChange:A=>p({...m,mission:A.target.value})})]})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{type:"button",onClick:()=>l("idle"),className:"px-8 py-4 border border-zinc-800 text-zinc-600 font-technical text-xs hover:text-white uppercase transition-colors",children:"BACK"}),y.jsx("button",{type:"submit",className:`flex-1 py-4 font-stencil text-xl transition-all ${b?"bg-neon-magenta text-black":"bg-primary text-black"} hover:bg-white`,children:"SECURE_ENCRYPT_AND_PAY"})]}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-800 uppercase text-center tracking-widest leading-relaxed",children:"INTEL_WILL_BE_INJECTED_INTO_STRIPE_METADATA_FOR_ORDER_FULFILLMENT."})]})]},"preform"),a==="processing"&&y.jsxs(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-24 text-center space-y-10",children:[y.jsxs("div",{className:"relative inline-block scale-150",children:[y.jsx("div",{className:`w-24 h-24 border-2 ${b?"border-neon-magenta/10":"border-primary/10"} rounded-full`}),y.jsx("div",{className:`absolute top-0 left-0 w-24 h-24 border-t-2 ${b?"border-neon-magenta":"border-primary"} rounded-full animate-spin`}),y.jsx("span",{className:`absolute inset-0 flex items-center justify-center material-symbols-outlined text-4xl ${b?"text-neon-magenta":"text-primary"} animate-pulse`,children:"sensors"})]}),y.jsxs("div",{children:[y.jsx("p",{className:`font-bombed ${b?"text-neon-magenta":"text-primary"} text-2xl tracking-[0.2em] animate-pulse`,children:"AUTHORIZING_LINK..."}),y.jsx("p",{className:"font-technical text-xs text-zinc-600 mt-4 uppercase tracking-widest",children:"Handshaking with secure payment node"})]})]},"processing"),a==="error"&&y.jsxs(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-24 text-center space-y-10",children:[y.jsx("span",{className:"material-symbols-outlined text-7xl text-fire",children:"warning"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bombed text-fire text-2xl tracking-[0.2em]",children:"CONNECTION_REJECTED"}),y.jsx("p",{className:"font-technical text-xs text-zinc-600 mt-4 uppercase tracking-widest",children:u})]}),y.jsx("button",{onClick:()=>l("idle"),className:"px-8 py-2 border border-zinc-800 text-zinc-500 font-technical text-[10px] hover:text-white hover:border-white transition-all uppercase",children:"Retry Connection"})]},"error")]})]}),y.jsxs("div",{className:"bg-zinc-950 px-12 py-6 border-t border-zinc-900/50 flex justify-between items-center opacity-40",children:[y.jsxs("span",{className:"text-[10px] font-technical text-zinc-600 tracking-tighter",children:["SESSION_SIG: ",Math.random().toString(36).substring(2,15).toUpperCase()]}),y.jsxs("div",{className:"flex gap-8",children:[y.jsx("span",{className:"text-[10px] font-technical text-zinc-600 tracking-tighter uppercase",children:"Protocol: Grit_v3.2"}),y.jsx("span",{className:"text-[10px] font-technical text-zinc-600 tracking-tighter uppercase",children:"Loc: Global_Net"})]})]})]})]})}function N9(){const[t,e]=O.useState([]),[n,s]=O.useState([]),[a,l]=O.useState(!1),[u,f]=O.useState(null),[m,p]=O.useState(!0),[_,E]=O.useState(null),[b,A]=O.useState(!1),[N,j]=O.useState(""),[V,B]=O.useState([]),[G,q]=O.useState(""),[re,oe]=O.useState(""),[ue,C]=O.useState(!1),[w,I]=O.useState({q1:"",q2:"",q3:"",q4:"",q5:""}),[P,L]=O.useState({questions:["LOADING...","LOADING...","LOADING...","LOADING...","LOADING..."]}),[k,D]=O.useState(!1),[De,Xe]=O.useState({email:"",message:""}),[J,ae]=O.useState(!1),de=Vl();O.useEffect(()=>{const le=_v(On,async pt=>{if(E(pt),pt){const gt=rn(Fe,"users",pt.uid),qn=await Oy(gt);if(qn.exists()){const Rn=qn.data();j(Rn.callsign||""),Rn.purchased&&s(Rn.purchased),A(Rn.isSubscriber||Rn.purchased?.includes("SUB_MONTHLY"))}}else j(""),s([]),A(!1)}),be=async()=>{const pt=await Oy(rn(Fe,"form_config","recruitment"));pt.exists()&&L(pt.data())};return Pe(),Ce(),be(),()=>le()},[]);const Ce=async()=>{try{const le=bi(zt(Fe,"drills"),xs("timestamp","desc")),pt=(await xi(le)).docs.map(gt=>({id:gt.id,...gt.data()}));B(pt)}catch(le){console.error("Failed to fetch drills:",le)}},Pe=async()=>{try{console.log("FETCHING chapters from FIRESTORE");const le=bi(zt(Fe,"chapters"),xs("id","asc")),pt=(await xi(le)).docs.map(gt=>({...gt.data(),firestoreId:gt.id}));e(pt)}catch(le){console.error("Failed to fetch chapters:",le)}finally{p(!1)}},[U,ee]=O.useState(""),[ce,pe]=O.useState(""),[Te,we]=O.useState("google"),[je,Be]=O.useState(null),nt=async le=>{try{Be(null),le?await jz(On,U,ce):await W1(On,U,ce)}catch(be){console.error("Email Auth Error:",be),Be(be.message.replace("Firebase: ",""))}},he=async()=>{await X1(On)},Ue=async le=>{if(!(!_||!le))try{const be=rn(Fe,"users",_.uid);await g3(be,{callsign:le.toUpperCase(),email:_.email,purchased:n,isSubscriber:b},{merge:!0}),j(le.toUpperCase())}catch(be){console.error("Failed to init callsign:",be)}},Ze=()=>{document.getElementById("archive-section")?.scrollIntoView({behavior:"smooth"})},Ve=le=>{n.includes(le.id)?Di(le):(f(le),l(!0))},Lt=()=>{f({id:"SUB_MONTHLY",name:"THE MOVEMENT",price:"$10/MO",description:"Elite access to the global collective. Includes weekly drills, private discord connectivity, and full archive decryption. No excuses allowed."}),l(!0)},es=le=>{le.id.startsWith("CH_")?(s(be=>[...be,le.id]),Di(le)):le.id==="SUB_MONTHLY"&&alert("ENLISTMENT SUCCESSFUL. CHECK DISCORD FOR DRILL SCHEDULE.")},Ni=()=>{de("/admin")},Di=le=>{if(le.pdfUrl){const Rn=`/download.php?file=${le.pdfUrl.split("/").pop()}&uid=${_?.uid||"anonymous"}`;window.open(Rn,"_blank");return}const be=new jsPDF;be.setFillColor(0,0,0),be.rect(0,0,210,297,"F"),be.setTextColor(255,77,0),be.setFont("courier","bold"),be.setFontSize(22),be.text("CLASSIFIED ASSET",105,40,null,null,"center"),be.setTextColor(255,255,255),be.setFontSize(30),be.text(le.name.toUpperCase(),105,120,null,null,"center"),be.setFontSize(10),be.setTextColor(150,150,150),be.text(`ID: ${le.id}`,105,135,null,null,"center"),be.text("AUTHORIZATION: GRIT_MASTER",105,140,null,null,"center"),be.addPage(),be.setTextColor(0,0,0),be.setFont("times","normal"),be.setFontSize(12);const pt=le.content||`NO CONTENT FOUND.

STAY HARD.`,gt=be.splitTextToSize(pt,180);be.text(gt,15,20),be.save(`${le.id}_${le.name.replace(/\s/g,"_")}_DECRYPTED.pdf`)},ts=async le=>{le.preventDefault();try{await tr(zt(Fe,"enlistments"),{email:G,callsign:re,timestamp:new Date,status:"PENDING"}),C(!0),q(""),oe("")}catch(be){console.error("Enlistment failed",be),alert("CONNECTION_STRENGTH_LOW: ENLISTMENT_FAILED")}},xt=async le=>{if(le.preventDefault(),!_){alert("UNAUTHORIZED: OPERATOR_MUST_LOG_IN_TO_APPLY");return}try{await tr(zt(Fe,"applications"),{uid:_.uid,email:_.email,callsign:N||"ANONYMOUS",...w,timestamp:new Date,status:"PENDING_REVIEW"}),D(!0)}catch(be){console.error("Application failed",be),alert("CRITICAL_ERROR: UPLOAD_FAILED")}},St=async le=>{le.preventDefault();try{await tr(zt(Fe,"support_signals"),{...De,timestamp:new Date,status:"NEW"}),ae(!0)}catch(be){console.error("Support signal failed",be),alert("TRANSMISSION_FAILED: SIGNAL_CORRUPT")}};return y.jsxs("div",{className:"concrete-texture font-display text-white selection:bg-primary selection:text-black min-h-screen",children:[y.jsxs("div",{className:"relative flex min-h-screen w-full flex-col max-w-md mx-auto bg-black",children:[y.jsx(Pt.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative pt-6 pb-12 px-6 border-b-4 border-black",children:y.jsxs("div",{className:"relative z-10 text-center",children:[y.jsx("div",{className:"mb-2 flex justify-center",children:y.jsx("img",{src:"/bookofgrit_logo_v3.png",alt:"BOOK OF GRIT LOGO",className:"w-64 md:w-80 h-auto drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]"})}),y.jsxs("div",{className:"relative inline-block mb-8",children:[y.jsxs("h2",{className:"text-4xl font-bombed text-white tracking-tighter leading-none drip bg-white bg-clip-text text-transparent uppercase",children:["No comfort.",y.jsx("br",{}),"Just grit."]}),y.jsx("div",{className:"absolute -bottom-4 left-0 w-full h-1 bg-fire"})]}),y.jsx("button",{onClick:Ze,className:"w-full bg-primary text-black font-stencil text-xl py-5 stencil-cutout shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-[0.98] transition-all duration-100 cursor-pointer",children:"ACQUIRE MANUALS"}),b?y.jsx(Ki,{to:"/dashboard",className:"block w-full mt-4",children:y.jsx("button",{className:"w-full bg-neon-magenta text-black font-stencil text-xl py-5 stencil-cutout shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-[0.98] transition-all duration-100 cursor-pointer",children:"ENTER THE DEEP WEB"})}):y.jsx("button",{onClick:()=>document.getElementById("subs-section")?.scrollIntoView({behavior:"smooth"}),className:"w-full mt-4 bg-neon-magenta text-black font-stencil text-xl py-5 stencil-cutout shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-[0.98] transition-all duration-100 cursor-pointer",children:"ENTER TO GRIT"})]})}),y.jsx("div",{className:"bg-neon-yellow py-2 ticker-wrap border-y-2 border-black overflow-hidden",children:y.jsxs(Pt.div,{animate:{x:[0,-1e3]},transition:{repeat:1/0,duration:30,ease:"linear"},className:"ticker-content flex gap-8 items-center whitespace-nowrap",children:[V.length>0?V.map((le,be)=>y.jsxs("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:["SIGNAL_REVEALED: ",le.title," // TYPE: ",le.type," // MISSION_START: ",le.timestamp?.toDate().toLocaleTimeString()," //"]},be)):y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:"8,400+ OPERATORS ACTIVE // MISSION LOGGED 2m AGO // SECURE_LINE_ACTIVE //"}),y.jsx("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:"8,400+ OPERATORS ACTIVE // MISSION LOGGED 2m AGO // SECURE_LINE_ACTIVE //"})]}),V.length>0&&V.map((le,be)=>y.jsxs("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:["SIGNAL_REVEALED: ",le.title," // TYPE: ",le.type," // MISSION_START: ",le.timestamp?.toDate().toLocaleTimeString()," //"]},`dup-${be}`))]})}),y.jsx(Pt.section,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"p-8 border-b-2 border-white/10 relative bg-black",children:y.jsxs("div",{className:"relative z-10",children:[y.jsx("h3",{className:"font-stencil text-fire text-sm mb-2 tracking-[0.2em] uppercase",children:"Phase_01"}),y.jsx("h2",{className:"text-4xl font-bombed mb-6 leading-none",children:"TRUTH OVER COMFORT"}),y.jsxs("p",{className:"text-zinc-400 font-medium leading-relaxed mb-4",children:["The world doesn't care about your potential. It only cares about what you've endured.",y.jsx("span",{className:"text-white",children:" The Book of Grit is the manual for those who refuse to be forgotten."})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("div",{className:"h-1 w-12 bg-fire"}),y.jsx("div",{className:"h-1 w-4 bg-zinc-800"}),y.jsx("div",{className:"h-1 w-4 bg-zinc-800"})]})]})}),y.jsx(Pt.section,{initial:{opacity:0},whileInView:{opacity:1},className:"p-8 bg-black border-b-2 border-white/5",children:_?N?y.jsxs("div",{className:"flex justify-between items-center bg-zinc-900/30 p-4 border border-zinc-800",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-500 uppercase",children:"Authenticated_Operator:"}),y.jsx("p",{className:"text-xs font-bombed text-white tracking-widest",children:N})]})]}),y.jsx("button",{onClick:he,className:"text-[8px] font-technical text-zinc-700 hover:text-fire uppercase underline",children:"Terminate_Session"})]}):y.jsxs("div",{className:"space-y-6",children:[y.jsx("h3",{className:"font-technical text-[10px] text-zinc-500 mb-4 uppercase tracking-widest text-center",children:"ENCRYPT_OPERATOR_IDENTITY"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"ENTER_CALLSIGN",id:"callsign-input",className:"flex-1 bg-black border border-zinc-800 p-3 font-technical text-white focus:border-primary outline-none text-xs",onKeyDown:le=>{le.key==="Enter"&&Ue(le.target.value)}}),y.jsx("button",{onClick:()=>{const le=document.getElementById("callsign-input").value;Ue(le)},className:"bg-primary text-black font-stencil px-4 text-xs",children:"ENCRYPT"})]})]}):y.jsxs("div",{className:"space-y-6",children:[y.jsx("h3",{className:"font-technical text-[10px] text-zinc-500 mb-4 uppercase tracking-widest text-center",children:"INITIALIZE_OPERATOR_ENLISTMENT"}),y.jsxs("div",{className:"w-full space-y-4",children:[Te==="google"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>we("signup"),className:"w-full py-4 px-6 bg-primary text-black font-stencil hover:bg-white transition-colors flex items-center justify-center gap-3 shadow-[4px_4px_0px_#333] uppercase",children:"CREATE_NEW_IDENTITY"}),y.jsx("div",{className:"text-center mt-4",children:y.jsx("button",{onClick:()=>we("login"),className:"text-[10px] font-technical text-zinc-600 hover:text-white uppercase transition-colors",children:"Authorized_Personnel_Login"})})]}),(Te==="login"||Te==="signup")&&y.jsxs("div",{className:"space-y-3 animate-fade-in",children:[y.jsx("input",{type:"email",placeholder:"OPERATOR_EMAIL",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white text-xs placeholder-zinc-600 focus:border-primary outline-none uppercase",value:U,onChange:le=>ee(le.target.value)}),y.jsx("input",{type:"password",placeholder:"ACCESS_CODE",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white text-xs placeholder-zinc-600 focus:border-primary outline-none uppercase",value:ce,onChange:le=>pe(le.target.value)}),je&&y.jsx("p",{className:"text-fire text-[10px] font-technical",children:je}),y.jsx("button",{onClick:()=>nt(Te==="signup"),className:"w-full py-3 bg-primary text-black font-stencil hover:bg-white transition-colors uppercase",children:Te==="signup"?"ESTABLISH_IDENTITY":"AUTHENTICATE"}),y.jsx("button",{onClick:()=>{we("google"),Be(null)},className:"w-full text-[10px] font-technical text-zinc-500 hover:text-white uppercase",children:"ABORT_MANUAL_OVERRIDE"})]})]})]})}),y.jsxs("section",{id:"archive-section",className:"p-6 bg-black",children:[y.jsxs("div",{className:"my-20 p-10 bg-zinc-950 border-2 border-zinc-900 relative overflow-hidden group hover:border-primary/30 transition-colors",children:[y.jsxs("div",{className:"max-w-xl mx-auto text-center space-y-8 relative z-10",children:[y.jsx("div",{className:"inline-block border border-primary/30 px-4 py-1.5 bg-primary/5",children:y.jsx("span",{className:"text-[10px] font-technical text-primary uppercase tracking-[0.3em]",children:"SECURE_ENLISTMENT_LINE_OPEN"})}),ue?y.jsxs("div",{className:"space-y-4 animate-reveal",children:[y.jsx("span",{className:"material-symbols-outlined text-primary text-5xl",children:"check_circle"}),y.jsx("h3",{className:"text-2xl font-bombed text-white uppercase italic",children:"IDENTITY_LOGGED"}),y.jsx("p",{className:"text-xs font-technical text-zinc-500 uppercase tracking-widest",children:"YOU_ARE_NOW_ON_THE_GRID. WATCH_FOR_SIGNALS."})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-bombed uppercase italic text-white tracking-widest",children:"JOIN_THE_MOVEMENT"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-600 uppercase tracking-widest leading-relaxed mt-4",children:"RESERVE YOUR ACCESS TO THE DEEP WEB. BE THE FIRST TO RECEIVE OMEGA_PROTOCOL ALERTS, PROMOTIONAL CODES, AND REDACTED INTEL."})]}),y.jsxs("form",{onSubmit:ts,className:"mt-8 space-y-4",children:[y.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[y.jsx("input",{type:"text",required:!0,placeholder:"ENTER_CALLSIGN",className:"bg-black border border-zinc-800 p-4 font-technical text-white focus:border-primary outline-none text-xs w-full md:w-1/3",value:re,onChange:le=>oe(le.target.value)}),y.jsx("input",{type:"email",required:!0,placeholder:"ENTER_SECURE_EMAIL",className:"flex-1 bg-black border border-zinc-800 p-4 font-technical text-white focus:border-primary outline-none text-xs",value:G,onChange:le=>q(le.target.value)}),y.jsx("button",{type:"submit",className:"bg-primary text-black font-stencil px-8 py-4 text-sm hover:bg-white transition-all transform hover:scale-[1.02]",children:"ENLIST_NOW"})]}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-800 uppercase",children:"SIGNAL_ENCRYPTION_ACTIVE // WE_ONLY_SEND_TRUTH."})]})]})]}),y.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",children:y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent h-1 w-full animate-scan",style:{top:"30%"}})})]}),y.jsxs("div",{id:"application-section",className:"my-20 p-10 bg-black border-2 border-fire relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 font-technical text-[8px] text-fire animate-pulse uppercase",children:"HIGH_CLEARANCE_REQUIRED"}),y.jsxs("div",{className:"max-w-2xl mx-auto space-y-10",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-4xl font-bombed text-white uppercase italic tracking-widest",children:"CLEARANCE_APPLICATION"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest mt-4",children:"TERMINAL_REF: 404-APPLICATION_PROTOCOL"})]}),k?y.jsxs("div",{className:"p-12 border border-fire/30 bg-fire/5 text-center space-y-6 animate-reveal",children:[y.jsx("span",{className:"material-symbols-outlined text-fire text-6xl",children:"shield_with_heart"}),y.jsx("h3",{className:"text-2xl font-bombed text-white uppercase italic",children:"INTEL_RECEIVED"}),y.jsxs("p",{className:"text-[10px] font-technical text-zinc-400 uppercase tracking-widest leading-relaxed",children:["// YOUR_APPLICATION_HAS_BEEN_ENCRYPTED_AND_STORED_IN_THE_OMEGA_VAULT.",y.jsx("br",{}),"// CURRENT_QUEUE_POSITION: CALCULATING...",y.jsx("br",{}),"// EXPECT_CONTACT_IF_INTEREST_IS_RECIPROCATED."]})]}):y.jsxs("form",{onSubmit:xt,className:"space-y-6",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"OPERATOR_SPECIALTY"}),y.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-800 p-4 font-technical text-white focus:border-fire outline-none text-xs",value:w.specialty,onChange:le=>I({...w,specialty:le.target.value}),children:[y.jsx("option",{value:"TACTICAL",children:"TACTICAL_COMBAT"}),y.jsx("option",{value:"INTELLIGENCE",children:"INTELLIGENCE_GATHERING"}),y.jsx("option",{value:"LOGISTICS",children:"RESOURCE_LOGISTICS"}),y.jsx("option",{value:"PROPAGANDA",children:"INFORMATION_WARFARE"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"FIELD_EXPERIENCE (Short)"}),y.jsx("input",{type:"text",required:!0,placeholder:"EX: 3_YEARS_IN_THE_VOID",className:"w-full bg-zinc-900 border border-zinc-800 p-4 font-technical text-white focus:border-fire outline-none text-xs",value:w.experience,onChange:le=>I({...w,experience:le.target.value})})]})]}),y.jsx("div",{className:"space-y-6",children:P.questions.map((le,be)=>y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:le||`QUESTION_0${be+1}`}),y.jsx("textarea",{required:!0,rows:"2",className:"w-full bg-zinc-900 border border-zinc-800 p-4 font-technical text-white focus:border-fire outline-none text-xs",value:w[`q${be+1}`],onChange:pt=>I({...w,[`q${be+1}`]:pt.target.value})})]},be))}),y.jsx("button",{type:"submit",className:"w-full bg-fire text-black font-stencil py-6 text-lg hover:bg-white transition-all transform hover:scale-[1.01] shadow-[0_5px_15px_rgba(255,100,0,0.2)]",children:"SUBMIT_FOR_REVIEW"}),!_&&y.jsx("p",{className:"text-[8px] font-technical text-fire uppercase text-center animate-pulse",children:"// ERROR: AUTHENTICATION_REQUIRED_TO_APPLY //"})]})]})]}),y.jsxs("div",{className:"flex justify-between items-end mb-8",children:[y.jsx("h2",{className:"text-3xl font-graffiti text-white uppercase tracking-tighter",children:"FIELD MANUALS"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[n.length," / ",t.length," UNLOCKED"]})]}),m?y.jsx("div",{className:"py-20 text-center font-technical text-primary animate-pulse uppercase",children:"decrypting_archive..."}):t.length===0?y.jsx("div",{className:"py-20 text-center font-technical text-zinc-700 uppercase",children:"archive_empty // connection_lost"}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-10",children:t.map((le,be)=>y.jsxs("div",{onClick:()=>Ve(le),className:`relative group cursor-pointer ${be%2!==0?"md:translate-y-6":""}`,children:[y.jsxs("div",{className:`aspect-[3/4] bg-zinc-900 border-2 relative overflow-hidden transition-transform duration-300 group-hover:scale-[1.02] animate-scan ${n.includes(le.id)?"border-neon-yellow shadow-[0_0_15px_rgba(204,255,0,0.3)]":`${le.borderClass} ${le.glow}`}`,children:[y.jsx("img",{alt:le.name,className:`w-full h-full object-cover transition-all duration-500 ${n.includes(le.id)?"grayscale-0":"grayscale group-hover:grayscale-0"}`,src:le.img}),y.jsx("div",{className:`absolute top-2 right-2 sticker-peel px-2 py-1.5 text-[10px] font-bold z-20 leading-none ${n.includes(le.id)?"bg-neon-yellow text-black":"bg-white text-black"}`,children:n.includes(le.id)?"ACCESS_DATA":"ACQUIRE_TARGET"})]}),y.jsxs("div",{className:"mt-2 text-center",children:[y.jsx("p",{className:`text-[10px] font-technical ${n.includes(le.id)?"text-neon-yellow":le.colorClass}`,children:le.id}),y.jsx("p",{className:"text-xs font-graffiti uppercase",children:le.name})]})]},le.firestoreId||le.id))}),y.jsx("div",{className:"h-12"})]}),y.jsx(Pt.section,{id:"subs-section",whileInView:{scale:[.95,1],opacity:[0,1]},viewport:{once:!0},className:"p-6 mb-12",children:y.jsxs("div",{className:"border-4 border-neon-magenta p-10 relative bg-black shadow-[0_0_40px_rgba(255,0,255,0.1)] animate-scan magenta-scan",children:[y.jsx("div",{className:"absolute -top-4 left-6 bg-neon-magenta text-black px-4 py-1 text-xs font-bold font-technical tracking-widest uppercase z-20",children:"ENLIST_NOW"}),y.jsxs("div",{className:"mb-10 text-center",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-bombed mb-4 leading-none text-white italic drop-shadow-[0_0_10px_rgba(255,0,255,0.3)]",children:"REWRITE YOUR REALITY"}),y.jsx("div",{className:"h-0.5 w-16 bg-neon-magenta mx-auto mb-6"}),y.jsx("p",{className:"font-technical text-zinc-400 text-xs leading-relaxed max-w-sm mx-auto uppercase tracking-tighter",children:"Individuality is a weakness. The collective is an accelerator. Most people fail because they lack the network to hold them accountable."})]}),y.jsx("div",{className:"grid grid-cols-1 gap-8 mb-12",children:[{title:"TACTICAL_DRILLS",color:"primary",desc:"Custom tailored physical and mental protocols delivered weekly to ensure exponential growth."},{title:"DIRECT_SIGNAL",color:"neon-magenta",desc:"Bypass the noise of public socials. Direct access to the inner circle and decentralized discord backbone."},{title:"RESOURCE_DUMP",color:"fire",desc:"Immediate unlocking of the full grit archive, including classified strategy decks and behavioral templates."}].map((le,be)=>y.jsxs("div",{className:"flex gap-6 items-start border-l-2 border-zinc-900 pl-6 hover:border-neon-magenta transition-colors group",children:[y.jsx("div",{className:"pt-1",children:y.jsx("span",{className:"material-symbols-outlined text-neon-magenta opacity-50 group-hover:opacity-100 transition-all font-bold",children:"bolt"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bombed text-[12px] mb-2 tracking-widest underline decoration-zinc-800",children:le.title}),y.jsx("p",{className:"text-zinc-500 font-technical text-[10px] leading-snug",children:le.desc})]})]},be))}),b?y.jsx("div",{className:"w-full py-6 bg-green-500/20 border border-green-500/50 text-green-500 font-stencil text-2xl text-center uppercase tracking-widest",children:"OPERATIONAL_CLEARANCE_ACTIVE"}):y.jsx("button",{onClick:Lt,className:"w-full py-6 bg-neon-magenta text-black font-stencil text-2xl hover:bg-white active:scale-[0.98] transition-all cursor-pointer shadow-[0_10px_30px_rgba(255,0,255,0.2)]",children:"$10/MONTH // JOIN THE 8,400+"}),y.jsx("p",{className:"text-center mt-6 text-zinc-700 font-technical text-[8px] uppercase tracking-[0.4em]",children:"NO_REFUNDS // NO_EXCUSES // NO_RETREAT"})]})}),y.jsxs(Pt.section,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"red-alert p-10 flex flex-col items-center justify-center text-center min-h-[400px] border-y-4 border-black",children:[y.jsx("h2",{className:"text-6xl font-bombed text-white leading-none tracking-tighter mb-4 drop-shadow-[4px_4px_0px_#000]",children:"NO ONE IS COMING TO SAVE YOU"}),y.jsx("div",{className:"w-20 h-1 bg-white mb-8"}),y.jsx("p",{className:"text-white font-stencil text-lg",children:"DO THE WORK."})]}),y.jsx("section",{className:"py-20 px-8 bg-zinc-950/20 border-t border-zinc-900",children:J?y.jsxs("div",{className:"max-w-2xl mx-auto border border-fire/30 p-12 bg-fire/5 text-center space-y-4",children:[y.jsx("span",{className:"material-symbols-outlined text-fire text-5xl animate-pulse",children:"sensors"}),y.jsx("h4",{className:"text-2xl font-bombed text-white uppercase tracking-tighter",children:"SIGNAL_RECEIVED"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"WE_WILL_REFLECT_AND_RESPOND_IF_DEEMED_NECESSARY."}),y.jsx("button",{onClick:()=>ae(!1),className:"text-[8px] font-technical text-zinc-700 hover:text-white underline uppercase",children:"SEND_ANOTHER_SIGNAL"})]}):y.jsxs("div",{className:"max-w-2xl mx-auto border border-zinc-900 p-8 bg-zinc-950/50",children:[y.jsx("h4",{className:"text-xl font-bombed text-white uppercase mb-6 italic tracking-widest underline decoration-fire",children:"TRANSMIT_DIRECT_SIGNAL"}),y.jsxs("form",{onSubmit:St,className:"space-y-6",children:[y.jsx("input",{required:!0,type:"email",placeholder:"RETURN_COORDINATES (EMAIL)",className:"w-full bg-black border border-zinc-800 p-4 font-technical text-white focus:border-fire outline-none text-xs",value:De.email,onChange:le=>Xe({...De,email:le.target.value})}),y.jsx("textarea",{required:!0,rows:"4",placeholder:"ENCODED_MESSAGE_DETAILS...",className:"w-full bg-black border border-zinc-800 p-4 font-technical text-white focus:border-fire outline-none text-xs",value:De.message,onChange:le=>Xe({...De,message:le.target.value})}),y.jsx("button",{type:"submit",className:"w-full py-4 bg-fire text-white font-stencil text-xl hover:bg-white hover:text-black transition-all",children:"EXECUTE_BURST_TRANSMISSION"})]})]})}),y.jsx("footer",{className:"p-8 bg-black border-t-4 border-zinc-900",children:y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("div",{className:"text-[10px] font-technical text-zinc-600",children:"AUTH: CLASSIFIED_04"}),y.jsx("button",{onClick:Ni,className:"text-[10px] font-technical text-zinc-600 text-left hover:text-fire transition-colors",children:"SYS_ADMIN_LOGIN"})]}),y.jsx("div",{className:"flex gap-4",children:y.jsx("span",{className:"material-symbols-outlined text-zinc-700",children:"lock"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[10px] font-technical text-zinc-400",children:[y.jsx(Ki,{className:"hover:text-primary underline",to:"/terms",children:"TERMS_OF_GRIT"}),y.jsx(Ki,{className:"hover:text-primary underline",to:"/privacy",children:"SECURE_DECRYPT"})]}),y.jsx("div",{className:"pt-6 flex justify-center opacity-20",children:y.jsx("h1",{className:"text-2xl graffiti-logo",children:"BOOK OF GRIT"})})]})}),y.jsx("div",{className:"h-8"})]}),y.jsx(C9,{isOpen:a,onClose:()=>l(!1),item:u,onComplete:es})]})}function D9(){const t=pr(),[e,n]=O.useState(t.state?.item||null),[s,a]=O.useState(!e);O.useEffect(()=>{const p=new URLSearchParams(t.search),_=p.get("item_id"),E=p.get("session_id");E?l(E,_):a(!1)},[]);const l=async(p,_)=>{a(!0);try{const b=await(await fetch(`/verify-session.php?session_id=${p}`)).json();if(b.status==="paid"){const A=b.itemId||_;On.currentUser&&await u(On.currentUser.uid,A),A&&f(A)}else console.error("SECURE_VERIFICATION_FAILED"),a(!1)}catch(E){console.error("VERIFICATION_UNSTABLE:",E),a(!1)}},u=async(p,_)=>{try{const E=rn(Fe,"users",p),b={purchased:e1(_)};_==="SUB_MONTHLY"&&(b.isSubscriber=!0),await su(E,b),console.log("CLOUDSYNC_COMPLETE:",_)}catch(E){console.error("CLOUDSYNC_FAILED:",E)}},f=async p=>{try{console.log("FETCHING item for success:",p);const _=bi(zt(Fe,"chapters"),m3("id","==",p)),E=await xi(_);if(E.empty)console.error("No item found for ID:",p);else{const b=E.docs[0].data();n(b),m(b)}}catch(_){console.error("Failed to fetch item for success download:",_)}finally{a(!1)}},m=p=>{if(p.pdfUrl){const j=`/download.php?file=${p.pdfUrl.split("/").pop()}&uid=${On.currentUser?.uid||"anonymous"}`;window.open(j,"_blank");return}const _=p.content||`MANIFESSTO - ${p.name}

NO ONE IS COMING TO SAVE YOU.
DO THE WORK.`,E=new Blob([_],{type:"text/plain"}),b=URL.createObjectURL(E),A=document.createElement("a");A.href=b,A.download=`${p.id}_${p.name.replace(/\s/g,"_")}.txt`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(b)};return y.jsx("div",{className:"concrete-texture min-h-screen bg-black flex flex-col items-center justify-center p-6 text-white text-center",children:y.jsxs(Pt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 max-w-md w-full border-4 border-primary glow-cyan bg-black p-12 shadow-[0_0_100px_rgba(0,255,255,0.1)]",children:[y.jsx(Pt.div,{initial:{y:20},animate:{y:0},className:"mb-8",children:y.jsx("span",{className:"material-symbols-outlined text-8xl text-primary drop-shadow-[0_0_20px_rgba(0,255,255,0.5)]",children:"task_alt"})}),y.jsxs("h1",{className:"text-5xl font-bombed mb-4 leading-none italic",children:["TRANSACTION",y.jsx("br",{}),"CONFIRMED"]}),y.jsx("div",{className:"h-1 w-20 bg-primary mx-auto mb-8"}),s?y.jsx("div",{className:"mb-8 p-4 border border-zinc-900 bg-black animate-pulse text-center",children:y.jsx("p",{className:"text-[10px] font-technical text-zinc-600 uppercase",children:"IDENTIFYING_ASSET..."})}):e?y.jsxs("div",{className:"mb-8 p-4 border border-zinc-800 bg-black text-center",children:[y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase mb-1",children:"Decrypted_Asset:"}),y.jsx("p",{className:"text-xl font-bombed text-white uppercase",children:e.name}),y.jsx("p",{className:"text-[8px] font-technical text-primary mt-2",children:"DOWNLOAD_STARTED..."})]}):y.jsx("div",{className:"mb-8 p-4 border border-fire/20 bg-black text-center",children:y.jsx("p",{className:"text-fire text-[10px] font-technical uppercase",children:"ASSET_NOT_FOUND_IN_ARCHIVE"})}),y.jsxs("p",{className:"font-technical text-zinc-400 text-[10px] mb-12 leading-relaxed uppercase tracking-tighter",children:["Operator credentials verified. Digital manifests have been decrypted and linked to your session.",y.jsx("span",{className:"text-white block mt-4 italic font-bold",children:'"THE ONLY EASY DAY WAS YESTERDAY."'})]}),y.jsx(Ki,{to:"/",children:y.jsx("button",{className:"w-full bg-primary text-black font-stencil text-xl py-6 hover:bg-white hover:scale-[1.02] active:scale-[0.98] transition-all cursor-pointer shadow-[8px_8px_0px_#000]",children:"RETURN TO ARCHIVE"})}),y.jsx("div",{className:"mt-8 text-[8px] font-technical text-zinc-700 uppercase tracking-widest",children:"SECURE_LINE_TERMINATED // IP_LOGGED"})]})})}function O9(){return y.jsx("div",{className:"concrete-texture min-h-screen bg-black flex flex-col items-center justify-center p-6 text-white text-center",children:y.jsxs(Pt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"relative z-10 max-w-md w-full border-4 border-fire glow-orange bg-black p-12 shadow-[0_0_100px_rgba(255,80,0,0.1)]",children:[y.jsx("div",{className:"mb-8",children:y.jsx("span",{className:"material-symbols-outlined text-8xl text-fire animate-pulse",children:"warning"})}),y.jsxs("h1",{className:"text-5xl font-bombed mb-4 leading-none text-fire",children:["MISSION",y.jsx("br",{}),"ABORTED"]}),y.jsx("div",{className:"h-1 w-20 bg-fire mx-auto mb-8"}),y.jsxs("p",{className:"font-technical text-zinc-500 text-sm mb-12 leading-relaxed uppercase tracking-tighter",children:["Authorization sequence interrupted. The deployment has been halted. No assets were moved.",y.jsx("span",{className:"text-zinc-300 block mt-4 italic font-bold",children:'"FAILURE IS NOT AN OPTION, BUT PAYMENTS ARE."'})]}),y.jsx(Ki,{to:"/",children:y.jsx("button",{className:"w-full bg-zinc-800 text-white font-stencil text-xl py-6 hover:bg-fire hover:scale-[1.02] active:scale-[0.98] transition-all cursor-pointer",children:"RETRY DEPLOYMENT"})}),y.jsx("div",{className:"mt-8 text-[8px] font-technical text-zinc-800 uppercase tracking-widest",children:"ERROR_CODE: PAYMENT_CANCELLED_BY_OPERATOR"})]})})}const M9="PiA69d9PK7WzdnKRJIrwgV8hCSr1";function P9(t){const{chapters:e,users:n,subs:s,drills:a,enlistments:l,applications:u,orderIntents:f,supportSignals:m,formConfig:p,onAdd:_,onUpdate:E,onDelete:b,onSeed:A,onClose:N,onAddDrill:j,onDeleteDrill:V,onUpdateDrill:B,onGrantAccess:G,onResetProtocols:q,onDeleteUser:re,onDeleteEnlistment:oe,onDeleteApplication:ue,onDeleteOrderIntent:C,onDeleteSupportSignal:w,onUpdateFormConfig:I}=t,[P,L]=O.useState(null),[k,D]=O.useState({id:"",name:"",img:"",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"",content:"",pdfFile:null,imgFile:null}),[De,Xe]=O.useState({title:"",content:"",type:"PROTOCOL"}),[J,ae]=O.useState(null),[de,Ce]=O.useState({email:"",password:""}),[Pe,U]=O.useState(null),[ee,ce]=O.useState(!1),[pe,Te]=O.useState(!1),[we,je]=O.useState(null),[Be,nt]=O.useState("BOOKS");O.useEffect(()=>{const H=_v(On,me=>{je(me),me&&me.uid===M9&&Te(!0)});return()=>H()},[]);const he=async H=>{if(H.preventDefault(),ce(!0),U(null),de.email.toLowerCase()==="commander")if(de.password==="protocol_omega_99"){console.log("HARDCODED_ADMIN_BYPASS_ACTIVE"),Te(!0),ce(!1);return}else{U("INVALID_COMMAND_KEY"),ce(!1);return}try{await W1(On,de.email.includes("@")?de.email:`${de.email}@bookofgrit.com`,de.password)}catch(me){console.error("Auth Error:",me);let at="ACCESS_DENIED";(me.code==="auth/user-not-found"||me.code==="auth/invalid-credential")&&(at="OPERATOR_NOT_FOUND"),me.code==="auth/wrong-password"&&(at="INVALID_ACCESS_KEY"),me.code==="auth/invalid-email"&&(at="MALFORMED_ID"),me.code==="auth/network-request-failed"&&(at="CONNECTION_LOST"),me.code==="auth/too-many-requests"&&(at="RATE_LIMIT_EXCEEDED"),U(at)}finally{ce(!1)}},Ue=()=>{Te(!1),X1(On)},Ze=(H,me=800,at=800)=>new Promise((tn,Gn)=>{const Yn=new FileReader;Yn.onerror=()=>Gn(new Error("FAILED_TO_READ_FILE")),Yn.readAsDataURL(H),Yn.onload=Kn=>{const At=new Image;At.onerror=()=>Gn(new Error("FAILED_TO_LOAD_IMAGE_DATA")),At.src=Kn.target.result,At.onload=()=>{const hn=document.createElement("canvas");let ot=At.width,oi=At.height;ot>oi?ot>me&&(oi*=me/ot,ot=me):oi>at&&(ot*=at/oi,oi=at),hn.width=ot,hn.height=oi,hn.getContext("2d").drawImage(At,0,0,ot,oi),hn.toBlob(Ea=>{if(!Ea){Gn(new Error("CANVAS_TO_BLOB_FAILED"));return}const li=new File([Ea],H.name,{type:"image/jpeg"});tn(li)},"image/jpeg",.8)}},setTimeout(()=>Gn(new Error("RESIZE_PROTOCOL_TIMEOUT")),1e4)}),Ve=H=>{L(H),D({id:H.id||"",name:H.name||"",img:H.img||"",price:H.price||"$3",borderClass:H.borderClass||"border-primary",colorClass:H.colorClass||"text-primary",glow:H.glow||"glow-cyan",description:H.description||"",content:H.content||"",pdfFile:null,imgFile:null}),nt("BOOKS")},Lt=()=>{L(null),D({id:"",name:"",img:"",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"",content:"",pdfFile:null,imgFile:null})},[es,Ni]=O.useState("PEER_NETWORK_LOGS_PENDING..."),[Di,ts]=O.useState(!1),xt=async()=>{ts(!0);try{const me=await(await fetch("/api/generate-drill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({difficulty:"OPERATOR"})})).json();me.title&&(Xe({title:me.title,type:me.type||"PROTOCOL",content:me.content}),alert("AI_SIGNAL_INTERCEPTED_AND_DECODED"))}catch(H){console.error("AI Generation Failed",H),alert("SIGNAL_CORRUPT: AI_HANDSHAKE_FAILED")}finally{ts(!1)}},St=async()=>{try{const me=await(await fetch(`/ops.php?action=read_logs&t=${Date.now()}`,{headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"}})).json();me.status==="success"&&Ni(me.logs)}catch(H){console.error("Logs Fetch Error",H)}};O.useEffect(()=>{Be==="LOGS"&&St()},[Be]);const le=async H=>{const me=new FormData;me.append("file",H),me.append("action","upload");const tn=await(await fetch(`/ops.php?t=${Date.now()}`,{method:"POST",headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"},body:me})).json();if(tn.status==="success")return tn.url;throw new Error(tn.message||"UPLOAD_FAILED")},[be,pt]=O.useState(""),gt=async H=>{H.preventDefault(),ce(!0),U(null),pt("INITIALIZING...");try{let me=P?.pdfUrl||"";k.pdfFile&&(pt(`UPLOADING_MANUSCRIPT: ${k.pdfFile.name}...`),me=await le(k.pdfFile));let at=k.img;if(k.imgFile){pt(`OPTIMIZING_COVER: ${k.imgFile.name}...`);const Gn=await Ze(k.imgFile);pt("UPLOADING_COVER..."),at=await le(Gn)}at||(at="https://thebookofgrit.com/bookofgrit_logo_v3.png"),pt("SYNCHRONIZING_WITH_FIRESTORE...");const tn={id:k.id,name:k.name,img:at,price:k.price||"$3",borderClass:k.borderClass||"border-primary",colorClass:k.colorClass||"text-primary",glow:k.glow||"glow-cyan",description:k.description||"",content:k.content||"",pdfUrl:me||""};P?await E(P.firestoreId,tn):await _(tn),L(null),D({id:"",name:"",img:"",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"",content:"",pdfFile:null,imgFile:null}),pt(""),alert(P?"ASSET_UPDATED_SUCCESSFULLY":"ASSET_DEPLOYED_SUCCESSFULLY")}catch(me){console.error("Upload Error",me),U("DEPLOYMENT_FAILED: "+me.message),pt("")}finally{ce(!1)}},qn=async H=>{H.preventDefault(),ce(!0);try{J?(await B(J.id,De),ae(null)):await j({...De,timestamp:new Date}),Xe({title:"",content:"",type:"PROTOCOL"})}catch(me){console.error("Drill Upload Error",me)}finally{ce(!1)}},Rn=H=>{ae(H),Xe({title:H.title,content:H.content,type:H.type})};return!we&&!pe?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/95 animate-scan",children:y.jsxs("div",{className:"w-full max-w-[90vw] md:max-w-md bg-black border-2 border-fire p-6 md:p-8 shadow-[0_0_50px_rgba(255,77,0,0.2)] relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-fire animate-pulse"}),y.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-zinc-800 pb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-fire animate-pulse",children:"terminal"}),y.jsx("h2",{className:"text-xl md:text-2xl font-bombed text-white uppercase tracking-widest",children:"AUTHENTICATION_REQUIRED"})]}),y.jsx("button",{onClick:N,className:"text-zinc-500 hover:text-fire material-symbols-outlined text-2xl leading-none transition-colors",children:"close"})]}),y.jsxs("form",{onSubmit:he,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest",children:"ID_CREDENTIAL"}),y.jsx("input",{type:"text",placeholder:"admin",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none text-sm",value:de.email,onChange:H=>Ce({...de,email:H.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest",children:"VRS_ACCESS_KEY"}),y.jsx("input",{type:"password",placeholder:"",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none text-sm",value:de.password,onChange:H=>Ce({...de,password:H.target.value})})]}),Pe&&y.jsx("div",{className:"bg-fire/10 border border-fire/30 p-3",children:y.jsxs("p",{className:"text-fire text-[10px] font-technical uppercase leading-tight",children:["ERROR // ",Pe]})}),y.jsxs("button",{disabled:ee,className:"w-full bg-fire text-white font-stencil py-4 hover:bg-white hover:text-black transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock_open"}),ee?"DECRYPTING...":"AUTHORIZE_SYSTEM"]})]}),y.jsx("div",{className:"mt-8 pt-4 border-t border-zinc-800 text-center",children:y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"Warning: Unauthorized access is logged and prosecuted."})})]})}):y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-4 bg-black/95 overflow-hidden",children:y.jsxs("div",{className:"w-full max-w-6xl bg-black border-2 border-fire p-4 md:p-8 shadow-2xl h-full md:h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 border-b border-zinc-800 pb-4 shrink-0 gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("h2",{className:"text-2xl md:text-3xl font-bombed text-white uppercase tracking-widest",children:"COMMAND CENTER"}),y.jsx("span",{className:"bg-fire text-black px-2 py-0.5 text-[10px] font-bold font-technical",children:"SECURE_SESSION"})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center w-full md:w-auto",children:[y.jsx("div",{className:"flex bg-zinc-900 border border-zinc-700 rounded-sm overflow-hidden flex-1 md:flex-none",children:["BOOKS","DRILLS","USERS","SUBS","ENLISTMENTS","APPLICATIONS","INTENTS","SIGNALS","CONFIG","LOGS"].map(H=>y.jsx("button",{onClick:()=>nt(H),className:`flex-1 md:flex-none px-3 md:px-4 py-2 text-[10px] font-technical uppercase transition-all ${Be===H?"bg-fire text-white":"text-zinc-500 hover:text-white hover:bg-zinc-800"}`,children:H},H))}),y.jsx("div",{className:"hidden md:block w-px h-6 bg-zinc-800 mx-2"}),y.jsxs("div",{className:"flex gap-4 ml-auto md:ml-0",children:[y.jsx("button",{onClick:Ue,className:"text-[10px] font-technical text-zinc-500 hover:text-fire uppercase underline",children:"Logout"}),y.jsx("button",{onClick:N,className:"text-zinc-500 hover:text-fire material-symbols-outlined text-4xl leading-none",children:"cancel"})]})]})]}),y.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[Be==="BOOKS"&&y.jsxs("div",{className:"grid md:grid-cols-2 gap-12 h-full overflow-hidden",children:[y.jsxs("div",{className:"overflow-y-auto pr-2 custom-scrollbar",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-technical text-fire uppercase tracking-tighter underline",children:P?"MODIFY_ARCHIVE_DATA":"ENLIST_NEW_DOC"}),P&&y.jsx("button",{onClick:Lt,className:"text-[10px] font-technical bg-zinc-800 text-zinc-400 px-3 py-1 hover:bg-white hover:text-black transition-colors",children:"CANCEL_EDIT"})]}),y.jsxs("form",{onSubmit:gt,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"ASSET_IDENTIFIER"}),y.jsx("input",{type:"text",placeholder:"ID (e.g. CH_05)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none",value:k.id,onChange:H=>D({...k,id:H.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"MARKET_VALUATION"}),y.jsx("input",{type:"text",placeholder:"PRICE (e.g. $10)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-fire focus:border-white outline-none",value:k.price,onChange:H=>D({...k,price:H.target.value})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"CODENAME"}),y.jsx("input",{type:"text",placeholder:"NAME",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none",value:k.name,onChange:H=>D({...k,name:H.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"border border-zinc-700 p-3 flex flex-col gap-2 bg-zinc-900/20",children:[y.jsxs("label",{className:"text-[10px] font-technical text-zinc-500 uppercase flex justify-between",children:[y.jsx("span",{children:"COVER_ASSET"}),y.jsx("span",{className:"material-symbols-outlined text-xs",children:"image"})]}),y.jsx("input",{type:"file",accept:"image/*",className:"text-xs text-zinc-400 file:bg-zinc-800 file:text-white file:border-0 file:px-2 file:py-1 file:font-technical file:uppercase hover:file:bg-fire hover:file:text-black cursor-pointer",onChange:H=>D({...k,imgFile:H.target.files[0]})}),k.imgFile?y.jsxs("div",{className:"mt-2 text-[8px] font-technical text-fire flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"image_search"}),"COVER_STAGED: ",k.imgFile.name," (AUTO_OPTIMIZING)"]}):k.img&&y.jsxs("div",{className:"mt-2 flex items-center gap-2 border border-zinc-800 p-1 bg-black/40",children:[y.jsx("img",{src:k.img,alt:"Preview",className:"w-8 h-8 object-cover border border-zinc-700"}),y.jsx("p",{className:"text-[8px] text-zinc-600 truncate uppercase tracking-tighter",children:"Existing_Cover_Linked"})]})]}),y.jsxs("div",{className:"border border-zinc-700 p-3 flex flex-col gap-2 bg-zinc-900/20",children:[y.jsxs("label",{className:"text-[10px] font-technical text-zinc-500 uppercase flex justify-between",children:[y.jsx("span",{children:"PDF_MANUSCRIPT"}),y.jsx("span",{className:"material-symbols-outlined text-xs",children:"picture_as_pdf"})]}),y.jsx("input",{type:"file",accept:"application/pdf",className:"text-xs text-zinc-400 file:bg-zinc-800 file:text-white file:border-0 file:px-2 file:py-1 file:font-technical file:uppercase hover:file:bg-fire hover:file:text-black cursor-pointer",onChange:H=>D({...k,pdfFile:H.target.files[0]})}),k.pdfFile?y.jsxs("div",{className:"mt-2 text-[8px] font-technical text-primary flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"check_circle"}),"FILE_STAGED: ",k.pdfFile.name]}):y.jsx("p",{className:"text-[8px] text-zinc-600 mt-2 uppercase tracking-tighter",children:"No_File_Selected"})]})]}),y.jsx("textarea",{placeholder:"BRIEFING_DESCRIPTION (TEASER)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none h-20",value:k.description,onChange:H=>D({...k,description:H.target.value})}),y.jsx("textarea",{placeholder:"MANIFESTO_CONTENT",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none h-32",value:k.content,onChange:H=>D({...k,content:H.target.value})}),y.jsx("button",{disabled:ee,className:`w-full ${P?"bg-white text-black":"bg-fire text-white"} font-stencil py-4 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed uppercase`,children:ee?be:P?"UPDATE_ARCHIVE":"DEPLOY_TO_ARCHIVE"})]})]}),y.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-technical text-primary uppercase tracking-tighter underline",children:"ACTIVE_ARCHIVE"}),y.jsx("button",{onClick:A,className:"text-[10px] font-technical bg-zinc-800 text-zinc-400 px-3 py-1 hover:bg-fire hover:text-white transition-colors",children:"RESEED"})]}),y.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:e.map(H=>y.jsxs("div",{className:`bg-black p-4 border flex justify-between items-center group transition-colors ${P?.id===H.id?"border-white":"border-zinc-900 hover:border-zinc-700"}`,children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("p",{className:"text-xs font-technical text-zinc-500",children:H.id}),y.jsx("span",{className:"w-1 h-1 bg-zinc-700 rounded-full"}),y.jsx("p",{className:"text-[10px] font-technical text-fire",children:H.price}),H.pdfUrl?y.jsx("span",{className:"text-[8px] bg-green-900/30 text-green-500 px-1 border border-green-900 font-technical",children:"PDF_READY"}):y.jsx("span",{className:"text-[8px] bg-red-900/30 text-red-500 px-1 border border-red-900 font-technical",children:"NO_PDF"})]}),y.jsx("p",{className:"font-bombed text-white uppercase tracking-wider",children:H.name})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>Ve(H),className:"text-zinc-700 hover:text-white material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"edit"}),y.jsx("button",{onClick:async()=>{if(window.confirm(`PERMANENTLY_DELETE_ASSET: ${H.name}?`)){ce(!0);try{if(H.pdfUrl){const me=new FormData;me.append("action","delete"),me.append("fileUrl",H.pdfUrl),await fetch(`/ops.php?t=${Date.now()}`,{method:"POST",headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"},body:me})}if(H.img){const me=new FormData;me.append("action","delete"),me.append("fileUrl",H.img),await fetch(`/ops.php?t=${Date.now()}`,{method:"POST",headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"},body:me})}await b(H.firestoreId),alert("ASSET_WIPED_FROM_EXISTENCE")}catch(me){console.error("Deletion Failed",me),alert("DELETION_ERROR_CHECK_LOGS")}finally{ce(!1)}}},className:"text-zinc-700 hover:text-red-500 material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"delete_forever"})]})]},H.id))})]})]}),Be==="DRILLS"&&y.jsxs("div",{className:"grid md:grid-cols-2 gap-12 h-full overflow-hidden",children:[y.jsxs("div",{className:"overflow-y-auto pr-2 custom-scrollbar",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-technical text-neon-magenta uppercase tracking-tighter underline",children:J?"RECONFIGURE_PROTOCOL":"DEPLOY_DRILL"}),y.jsxs("button",{type:"button",onClick:xt,disabled:Di,className:"text-[10px] font-technical text-white border border-neon-magenta px-3 py-1 hover:bg-neon-magenta hover:text-black transition-all flex items-center gap-2 animate-pulse",children:[y.jsx("span",{className:"material-symbols-outlined text-xs",children:"psychology"}),Di?"DECODING_AI_SIGNAL...":"GENERATE_VIA_AI"]})]}),y.jsxs("form",{onSubmit:qn,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"DRILL_TITLE",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-neon-magenta outline-none",value:De.title,onChange:H=>Xe({...De,title:H.target.value})}),y.jsxs("select",{className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-neon-magenta outline-none",value:De.type,onChange:H=>Xe({...De,type:H.target.value}),children:[y.jsx("option",{value:"PROTOCOL",children:"PROTOCOL"}),y.jsx("option",{value:"MANIFESTO",children:"MANIFESTO"}),y.jsx("option",{value:"TACTICAL",children:"TACTICAL"}),y.jsx("option",{value:"CLEARANCE",children:"CLEARANCE"})]}),y.jsx("textarea",{placeholder:"DRILL_CONTENT (TECHNICAL_BREIFING)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-neon-magenta outline-none h-64",value:De.content,onChange:H=>Xe({...De,content:H.target.value})}),y.jsx("button",{disabled:ee,className:"w-full bg-neon-magenta text-black font-stencil py-4 hover:bg-white transition-all disabled:opacity-50",children:ee?"BROADCASTING...":J?"UPDATE_SIGNAL":"INITIALIZE_BROADCAST"})]})]}),y.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[y.jsx("h3",{className:"text-xl font-technical text-zinc-500 mb-6 uppercase tracking-tighter underline",children:"ACTIVE_SIGNALS"}),y.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:a&&a.map(H=>y.jsxs("div",{className:"bg-black p-4 border border-zinc-900 flex justify-between items-center group hover:border-neon-magenta/30 transition-colors",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 mb-1",children:H.timestamp?.toDate().toLocaleDateString()}),y.jsx("p",{className:"font-bombed text-white uppercase tracking-widest",children:H.title})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>Rn(H),className:"text-zinc-700 hover:text-white material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"edit"}),y.jsx("button",{onClick:()=>V(H.id),className:"text-zinc-700 hover:text-fire material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"delete_sweep"})]})]},H.id))})]})]}),Be==="USERS"&&y.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-technical text-neon-magenta uppercase tracking-tighter underline",children:"OPERATIVE_ROSTER"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>{const H=n.map(me=>me.email).join(", ");navigator.clipboard.writeText(H),alert("ALL_USER_EMAILS_COPIED")},className:"text-[10px] font-technical text-zinc-500 hover:text-neon-magenta border border-zinc-900 px-2 py-1",children:"COPY_ALL_EMAILS"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[n?.length||0,"_OPERATIVES_ONLINE"]})]})]}),y.jsx("div",{className:"w-full overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"border-b border-zinc-800",children:[y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"ID"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"EMAIL"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"ROLE"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"STATUS"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"JOINED"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"ACTIONS"})]})}),y.jsx("tbody",{children:n&&n.map(H=>y.jsxs("tr",{className:"border-b border-zinc-900 hover:bg-zinc-900/30 transition-colors",children:[y.jsx("td",{className:"p-4 text-xs font-mono text-zinc-400",children:H.id}),y.jsx("td",{className:"p-4 text-sm text-white font-bold",children:H.email}),y.jsx("td",{className:"p-4 text-xs font-technical text-primary",children:H.role}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:`px-2 py-0.5 text-[8px] font-bold ${H.status==="ACTIVE"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:H.status})}),y.jsx("td",{className:"p-4 text-xs text-zinc-600",children:H.joined}),y.jsxs("td",{className:"p-4 flex gap-2",children:[y.jsx("button",{onClick:()=>G(H.id),className:"text-[10px] bg-primary/10 text-primary border border-primary/30 px-2 py-1 hover:bg-primary hover:text-black transition-all font-technical",children:"GRANT_ACCESS"}),y.jsx("button",{onClick:()=>q(H.id),className:"text-[10px] bg-zinc-900 text-zinc-600 border border-zinc-800 px-2 py-1 hover:text-white transition-all font-technical",children:"RESET_PROTOCOLS"}),y.jsx("button",{onClick:()=>re(H.id),className:"text-[10px] bg-fire/10 text-fire border border-fire/30 px-2 py-1 hover:bg-fire hover:text-white transition-all font-technical",children:"TERMINATE"})]})]},H.id))})]})})]}),Be==="SUBS"&&y.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[y.jsx("h3",{className:"text-xl font-technical text-neon-yellow mb-6 uppercase tracking-tighter underline",children:"ACTIVE_SUBSCRIPTIONS"}),y.jsx("div",{className:"grid grid-cols-1 gap-2",children:s&&s.map(H=>y.jsxs("div",{className:"bg-black p-4 border border-zinc-900 flex justify-between items-center hover:border-neon-yellow/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("div",{className:"w-10 h-10 bg-zinc-900 flex items-center justify-center border border-zinc-800",children:y.jsx("span",{className:"material-symbols-outlined text-zinc-600",children:"badge"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-technical text-neon-yellow mb-1",children:H.plan}),y.jsx("p",{className:"text-white text-sm",children:H.user})]})]}),y.jsxs("div",{className:"flex items-center gap-8 text-right",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"STATUS"}),y.jsx("p",{className:`text-xs font-bold ${H.status==="ACTIVE"?"text-green-500":"text-zinc-500"}`,children:H.status})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"RENEWAL"}),y.jsx("p",{className:"text-xs text-white",children:H.nextBilling})]}),y.jsx("button",{onClick:()=>alert(`OPERATOR_QUERY: ${H.user}
TARGET_PLAN: ${H.plan}
CURRENT_STATUS: ${H.status}

Manual status overrides must be performed via Stripe Dashboard.`),className:"text-zinc-600 hover:text-white text-[10px] border border-zinc-800 px-3 py-1 hover:border-white transition-colors",children:"MANAGE"})]})]},H.id))})]}),Be==="ENLISTMENTS"&&y.jsxs("div",{className:"space-y-6 h-full overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{className:"text-xl font-technical text-primary uppercase underline italic",children:"PRE_ENLISTMENT_DATABASE"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>{const H=l.map(me=>me.email).join(", ");navigator.clipboard.writeText(H),alert("ALL_EMAILS_COPIED_TO_CLIPBOARD")},className:"text-[10px] font-technical text-zinc-500 hover:text-primary border border-zinc-900 px-2 py-1",children:"COPY_ALL_EMAILS"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[l?.length||0,"_ENTRIES_FOUND"]})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:y.jsxs("div",{className:"grid gap-4",children:[l&&l.map((H,me)=>y.jsxs("div",{className:"bg-zinc-950 border border-zinc-900 p-6 flex justify-between items-center group hover:border-primary/30 transition-all",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("span",{className:"text-zinc-800 font-technical text-sm",children:String(me+1).padStart(3,"0")}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-sm font-bombed text-white tracking-widest uppercase",children:[H.callsign||"ANONYMOUS_RECRUIT"," // ",H.email]}),y.jsxs("p",{className:"text-[8px] font-technical text-zinc-600 uppercase mt-1",children:["HANDSHAKE: ",H.timestamp?.toDate().toLocaleString()," // STATUS: ",H.status]})]})]}),y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsxs("button",{onClick:()=>{const at=prompt("ENTER_PROMO_CODE:");at&&alert(`SIGNAL_SENT: Promo ${at} transmitted to ${H.email}`)},className:"text-[10px] font-technical text-zinc-500 hover:text-primary transition-colors flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"send"}),"SEND_SIGNAL"]}),y.jsx("button",{onClick:()=>oe(H.id),className:"text-zinc-800 hover:text-fire material-symbols-outlined transition-colors",children:"delete_forever"})]})]},H.id)),(!l||l.length===0)&&y.jsxs("div",{className:"p-20 border border-dashed border-zinc-900 text-center space-y-4",children:[y.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-5xl",children:"person_search"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-700 uppercase",children:"NO_RECRUITS_IN_QUEUE"})]})]})})]}),Be==="APPLICATIONS"&&y.jsxs("div",{className:"space-y-6 h-full overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{className:"text-xl font-technical text-neon-magenta uppercase underline italic",children:"CLEARANCE_REQUEST_QUEUE"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>{const H=u.map(me=>me.email).join(", ");navigator.clipboard.writeText(H),alert("APPLICANT_EMAILS_COPIED")},className:"text-[10px] font-technical text-zinc-500 hover:text-neon-magenta border border-zinc-900 px-2 py-1",children:"COPY_MAILING_LIST"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[u?.length||0,"_PENDING_REVIEWS"]})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:y.jsxs("div",{className:"grid gap-6",children:[u&&u.map((H,me)=>y.jsxs("div",{className:"bg-zinc-950 border border-zinc-900 overflow-hidden group hover:border-neon-magenta/30 transition-all",children:[y.jsxs("div",{className:"bg-zinc-900/50 p-4 border-b border-zinc-800 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"text-zinc-700 font-technical text-xs",children:String(me+1).padStart(3,"0")}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-xs font-bombed text-white tracking-widest uppercase",children:[H.callsign," // ",H.email]}),y.jsxs("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:["RECEIVED: ",H.timestamp?.toDate().toLocaleString()]})]})]}),y.jsx("span",{className:"px-2 py-0.5 bg-neon-magenta/10 border border-neon-magenta/30 text-[8px] font-technical text-neon-magenta uppercase tracking-tighter",children:H.specialty})]}),y.jsx("div",{className:"p-6 space-y-4",children:p?.questions?.map((at,tn)=>y.jsxs("div",{children:[y.jsxs("p",{className:"text-[7px] font-technical text-zinc-500 uppercase mb-1",children:["Q0",tn+1,": ",at||"MANUAL_OVERRIDE_ACTIVE"]}),y.jsxs("p",{className:"text-xs font-technical text-zinc-300 italic bg-black/40 p-3 border-l border-zinc-800",children:['"',H[`q${tn+1}`]||"N/A",'"']})]},tn))}),y.jsxs("div",{className:"bg-black/60 p-4 border-t border-zinc-900 flex justify-between items-center",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("button",{onClick:()=>alert(`Reviewing status for operator ${H.callsign}...`),className:"px-3 py-1 bg-zinc-900 border border-zinc-800 text-[8px] font-technical text-zinc-400 hover:text-white transition-colors uppercase",children:"MARK_AS_REVIEWED"})}),y.jsx("button",{onClick:()=>ue(H.id),className:"text-zinc-800 hover:text-fire material-symbols-outlined transition-colors",children:"delete_sweep"})]})]},H.id)),(!u||u.length===0)&&y.jsxs("div",{className:"p-20 border border-dashed border-zinc-900 text-center space-y-4",children:[y.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-5xl",children:"folder_shared"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-700 uppercase",children:"QUEUE_EMPTY // NO_ACTIVE_APPLICATIONS"})]})]})})]}),Be==="INTENTS"&&y.jsxs("div",{className:"space-y-6 h-full overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{className:"text-xl font-technical text-neon-yellow uppercase underline italic",children:"PRE_PURCHASE_INTEL"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>{const H=f.map(me=>me.email).join(", ");navigator.clipboard.writeText(H),alert("INTENT_EMAILS_COPIED")},className:"text-[10px] font-technical text-zinc-500 hover:text-neon-yellow border border-zinc-900 px-2 py-1",children:"COPY_EMAILS"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[f?.length||0,"_INTENTS_LOGGED"]})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:y.jsxs("div",{className:"grid gap-4",children:[f&&f.map((H,me)=>y.jsxs("div",{className:"bg-zinc-950 border border-zinc-900 p-6 flex justify-between items-center group hover:border-neon-yellow/30 transition-all",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[y.jsx("span",{className:"text-[8px] font-technical text-zinc-700",children:String(me+1).padStart(3,"0")}),y.jsxs("p",{className:"text-xs font-technical text-white uppercase tracking-widest",children:[H.callsign," // ",H.email]}),y.jsx("span",{className:"px-2 py-0.5 bg-zinc-900 border border-zinc-800 text-[8px] font-technical text-zinc-500",children:H.itemName})]}),y.jsxs("p",{className:"text-[10px] font-technical text-zinc-400 italic",children:['"',H.mission,'"']}),y.jsxs("p",{className:"text-[7px] font-technical text-zinc-800 uppercase mt-2",children:["TIMESTAMP: ",H.timestamp?.toDate().toLocaleString()]})]}),y.jsx("button",{onClick:()=>C(H.id),className:"text-zinc-800 hover:text-fire material-symbols-outlined transition-colors ml-4",children:"delete_forever"})]},H.id)),(!f||f.length===0)&&y.jsxs("div",{className:"p-20 border border-dashed border-zinc-900 text-center space-y-4",children:[y.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-5xl",children:"inventory_2"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-700 uppercase",children:"NO_INTENT_SIGNALS_DETECTED"})]})]})})]}),Be==="SIGNALS"&&y.jsxs("div",{className:"space-y-6 h-full overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{className:"text-xl font-technical text-fire uppercase underline italic",children:"SUPPORT_COMMUNICATIONS"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[m?.length||0,"_PENDING_SIGNALS"]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:y.jsxs("div",{className:"grid gap-4",children:[m&&m.map((H,me)=>y.jsxs("div",{className:"bg-zinc-950 border border-zinc-900 p-6 flex flex-col group hover:border-fire/30 transition-all",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-technical text-white uppercase tracking-widest",children:H.email}),y.jsxs("p",{className:"text-[7px] font-technical text-zinc-800 uppercase mt-1",children:["TIMESTAMP: ",H.timestamp?.toDate().toLocaleString()]})]}),y.jsx("button",{onClick:()=>w(H.id),className:"text-zinc-800 hover:text-fire material-symbols-outlined transition-colors",children:"delete_forever"})]}),y.jsx("div",{className:"p-4 bg-black border border-zinc-900 font-technical text-xs text-zinc-400 italic leading-relaxed",children:H.message})]},H.id)),(!m||m.length===0)&&y.jsxs("div",{className:"p-20 border border-dashed border-zinc-900 text-center space-y-4",children:[y.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-5xl",children:"mark_email_read"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-700 uppercase",children:"NO_NEW_SIGNALS_PENDING"})]})]})})]}),Be==="CONFIG"&&y.jsxs("div",{className:"space-y-6 h-full overflow-hidden flex flex-col",children:[y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h3",{className:"text-xl font-technical text-white uppercase underline italic",children:"RECRUITMENT_PROTOCOL_CONFIG"})}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:y.jsxs("form",{onSubmit:H=>{H.preventDefault();const me=new FormData(H.target),at=[me.get("q1"),me.get("q2"),me.get("q3"),me.get("q4"),me.get("q5")];I({questions:at})},className:"space-y-6 bg-zinc-950 border border-zinc-900 p-8",children:[y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase mb-4 italic",children:"DEFINE_THE_5_QUESTIONS_FOR_WANNABE_OPERATORS"}),[0,1,2,3,4].map(H=>y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"text-[10px] font-technical text-zinc-600 uppercase",children:["QUESTION_0",H+1]}),y.jsx("input",{name:`q${H+1}`,defaultValue:p?.questions?.[H]||"",className:"w-full bg-black border border-zinc-800 p-3 font-technical text-white focus:border-primary outline-none text-xs",placeholder:`ENTER_QUESTION_ALPHA_${H+1}`})]},H)),y.jsx("button",{type:"submit",className:"w-full py-4 bg-primary text-black font-stencil text-xl hover:bg-white transition-all",children:"RE-ENCRYPT_FORM_PROTOCOL"})]})})]}),Be==="LOGS"&&y.jsxs("div",{className:"h-full flex flex-col gap-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bombed text-white uppercase tracking-tighter italic",children:"FULFILLMENT_AUDIT_TRAIL"}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-500 uppercase tracking-widest",children:"LIVE_SERVER_DATA // SECURE_FETCH_ACTIVE"})]}),y.jsxs("button",{onClick:St,className:"bg-zinc-900 border border-zinc-800 px-4 py-2 text-[10px] font-technical text-zinc-400 hover:text-white hover:border-white transition-all flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"terminal"}),"RE-SYNC_TERMINAL"]})]}),y.jsxs("div",{className:"flex-1 bg-black border-2 border-zinc-900 p-0 font-mono text-[10px] overflow-hidden flex flex-col shadow-2xl",children:[y.jsxs("div",{className:"bg-zinc-900/50 px-4 py-2 border-b border-zinc-800 flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/20"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500/20"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/20"})]}),y.jsx("span",{className:"text-[8px] text-zinc-500 uppercase tracking-widest",children:"AUDIT_PROTOCOL_v4.2.0"})]}),y.jsx("div",{className:"flex-1 p-6 overflow-y-auto custom-scrollbar space-y-2",children:es==="NO_LOGS_ON_DISK_CURRENTLY"?y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-700 animate-pulse",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl mb-4",children:"folder_open"}),y.jsx("p",{className:"font-technical tracking-widest",children:"ARCHIVE_TEMPORARILY_EMPTY"})]}):es.split(`
`).filter(H=>H.trim()).map((H,me)=>{const at=H.includes("SUCCESS")||H.includes("GRANTED"),tn=H.includes("ERROR")||H.includes("FAILED"),Gn=H.includes("RECEIVED")||H.includes("FETCHED");let Yn="text-zinc-500";return at&&(Yn="text-green-500"),tn&&(Yn="text-red-500"),Gn&&(Yn="text-primary"),y.jsxs("div",{className:"flex gap-4 group hover:bg-zinc-900/50 p-1 -ml-1 transition-colors",children:[y.jsx("span",{className:"text-zinc-800 select-none",children:String(me+1).padStart(3,"0")}),y.jsx("span",{className:`${Yn} leading-relaxed`,children:H})]},me)})}),y.jsxs("div",{className:"bg-zinc-950 px-4 py-2 border-t border-zinc-900 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_5px_#22c55e]"}),y.jsx("span",{className:"text-[8px] text-zinc-500 uppercase",children:"System_Online"})]}),y.jsx("span",{className:"text-zinc-800",children:"|"}),y.jsxs("span",{className:"text-[8px] text-zinc-600 uppercase",children:["Last_Update: ",new Date().toLocaleTimeString()]})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{className:"text-[8px] text-zinc-700 uppercase",children:"Root@GRIT_SERVER_NODE"})})]})]})]})]})]})})}class V9 extends aA.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error",e,n),this.setState({errorInfo:n})}render(){return this.state.hasError?y.jsxs("div",{className:"min-h-screen bg-black text-red-500 p-10 font-mono flex flex-col items-center justify-center",children:[y.jsx("h1",{className:"text-4xl mb-6 font-bold border-b border-red-500 pb-2",children:"CRITICAL SYSTEM FAILURE"}),y.jsxs("div",{className:"w-full max-w-4xl bg-zinc-900/50 p-6 rounded border border-red-900/50 overflow-auto",children:[y.jsxs("p",{className:"text-xl mb-4 text-white",children:["Error: ",this.state.error&&this.state.error.toString()]}),y.jsxs("details",{className:"text-sm text-zinc-400",children:[y.jsx("summary",{className:"cursor-pointer hover:text-white mb-2",children:"Stack Trace"}),y.jsx("pre",{className:"whitespace-pre-wrap",children:this.state.error&&this.state.error.stack}),y.jsx("pre",{className:"whitespace-pre-wrap mt-4",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}),y.jsx("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-3 bg-red-600 text-white font-bold hover:bg-red-500 transition-colors",children:"REBOOT SYSTEM"})]}):this.props.children}}function L9(){const[t,e]=O.useState([]),[n,s]=O.useState([]),[a,l]=O.useState([]),[u,f]=O.useState([]),[m,p]=O.useState([]),[_,E]=O.useState([]),[b,A]=O.useState([]),[N,j]=O.useState([]),[V,B]=O.useState({questions:["","","","",""]}),[G,q]=O.useState(!0),re=Vl();O.useEffect(()=>{oe();const he=On.onAuthStateChanged(Ue=>{});return()=>he()},[]);const oe=async()=>{q(!0),await Promise.all([ue(),C(),w(),I(),P(),L(),k(),D(),De()]),q(!1)},ue=async()=>{try{const he=bi(zt(Fe,"chapters"),xs("id","asc")),Ze=(await xi(he)).docs.map(Ve=>({...Ve.data(),firestoreId:Ve.id}));e(Ze)}catch(he){console.error("Fetch chapters failed:",he)}},C=async()=>{try{const he=bi(zt(Fe,"users"),xs("createdAt","desc")),Ze=(await xi(he)).docs.map(Ve=>{const Lt=Ve.data();return{...Lt,id:Ve.id,firestoreId:Ve.id,joined:Lt.createdAt?.toDate().toLocaleDateString()||"N/A"}});s(Ze)}catch(he){console.error("Fetch users failed:",he)}},w=async()=>{try{const he=bi(zt(Fe,"subscriptions")),Ze=(await xi(he)).docs.map(Ve=>{const Lt=Ve.data();return{...Lt,id:Ve.id,firestoreId:Ve.id,nextBilling:Lt.current_period_end?new Date(Lt.current_period_end*1e3).toLocaleDateString():"N/A"}});l(Ze)}catch(he){console.error("Fetch subs failed:",he)}},I=async()=>{try{const he=bi(zt(Fe,"drills"),xs("timestamp","desc")),Ze=(await xi(he)).docs.map(Ve=>({...Ve.data(),id:Ve.id}));f(Ze)}catch(he){console.error("Fetch drills failed:",he)}},P=async()=>{try{const he=bi(zt(Fe,"enlistments"),xs("timestamp","desc")),Ze=(await xi(he)).docs.map(Ve=>({...Ve.data(),id:Ve.id}));p(Ze)}catch(he){console.error("Fetch enlistments failed:",he)}},L=async()=>{try{const he=bi(zt(Fe,"applications"),xs("timestamp","desc")),Ze=(await xi(he)).docs.map(Ve=>({...Ve.data(),id:Ve.id}));E(Ze)}catch(he){console.error("Fetch applications failed:",he)}},k=async()=>{try{const he=bi(zt(Fe,"order_intents"),xs("timestamp","desc")),Ze=(await xi(he)).docs.map(Ve=>({...Ve.data(),id:Ve.id}));A(Ze)}catch(he){console.error("Fetch order intents failed:",he)}},D=async()=>{try{const he=bi(zt(Fe,"support_signals"),xs("timestamp","desc")),Ze=(await xi(he)).docs.map(Ve=>({...Ve.data(),id:Ve.id}));j(Ze)}catch(he){console.error("Fetch signals failed:",he)}},De=async()=>{try{const he=await getDoc(rn(Fe,"form_config","recruitment"));he.exists()&&B(he.data())}catch(he){console.error("Fetch config failed:",he)}},Xe=async he=>{try{await setDoc(rn(Fe,"form_config","recruitment"),he),B(he),alert("FORM_PROTOCOL_UPDATED")}catch(Ue){console.error("Update config failed:",Ue)}},J=async he=>{try{await tr(zt(Fe,"chapters"),he),ue()}catch(Ue){console.error("Add failed:",Ue)}},ae=async he=>{try{const Ue=prompt("ENTER_ASSET_ID_TO_GRANT (e.g. CH_01):");if(!Ue)return;await su(rn(Fe,"users",he),{purchased:e1(Ue)}),alert("ACCESS_GRANTED_SUCCESSFULLY"),C()}catch(Ue){console.error("Grant failed:",Ue)}},de=async he=>{try{if(!confirm("WIPE_USER_CLEARANCE? THIS WILL REMOVE ALL PURCHASES AND SUBS STATUS."))return;await su(rn(Fe,"users",he),{purchased:[],isSubscriber:!1}),alert("PROTOCOL_RESET_COMPLETE"),C()}catch(Ue){console.error("Reset failed:",Ue)}},Ce=async he=>{try{if(!confirm("DELETE_OPERATOR_PERMANENTLY?"))return;await Wa(rn(Fe,"users",he)),alert("OPERATOR_TERMINATED"),C()}catch(Ue){console.error("Deletion failed:",Ue)}},Pe=async he=>{await Wa(rn(Fe,"chapters",he)),ue()},U=async(he,Ue)=>{try{await su(rn(Fe,"chapters",he),Ue),ue()}catch(Ze){console.error("Update failed:",Ze)}},ee=async he=>{try{await tr(zt(Fe,"drills"),he),I()}catch(Ue){console.error("Add drill failed:",Ue)}},ce=async he=>{await Wa(rn(Fe,"drills",he)),I()},pe=async(he,Ue)=>{try{await su(rn(Fe,"drills",he),Ue),I()}catch(Ze){console.error("Update drill failed:",Ze)}},Te=async he=>{await Wa(rn(Fe,"enlistments",he)),P()},we=async he=>{await Wa(rn(Fe,"applications",he)),L()},je=async he=>{await Wa(rn(Fe,"order_intents",he)),k()},Be=async he=>{await Wa(rn(Fe,"support_signals",he)),D()},nt=async()=>{try{if(!confirm("WARNING: THIS WILL DUPLICATE DATA IF NOT EMPTY. PROCEED?"))return;const he=[{id:"CH_01",name:"MANIFESTO",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"The founding principles of the grit mindset. Discomfort is not an obstacle; it is the path.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuAsY68-HDaa2jNGV0f03uraeN1eAqz_z6KJdGELGwpfgV_IyaDsmNm2pUIj2CJopuOyrHLGHBhzaFEW4bSg7IwJ-h7tCXv37K4bHeQQNu4xjbR-Z7sIK3rK5CxFi1R4dufN5xFBtACCgXrI4cTbdlMCQMU9S-bVS557EShmVJerHO1WPZR8ZJdEu9rTI-YyCwg2-jTyA3K3D-k0fp3EWETdZu_8J9UFV0AU1nD4uKrflSJ-QCIsg1NLfo7rxfr-nITIal9-FpkOniZB",content:"MANIFESTO_PROTOCOL: THE ONLY EASY DAY WAS YESTERDAY."},{id:"CH_02",name:"The Void",price:"$3",borderClass:"border-fire",colorClass:"text-fire",glow:"glow-orange",description:"Embracing the emptiness where growth happens. When you have nothing, you have everything to gain.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuAuh9yajP2K2UokzC7ClDOOXipnj6G6thi0OzOv94tkXWtGDVl0dEnviC-6576FdKLS31wC_yPy4-nVxK2fqIAhvbecAFRogwdBnmndq16MPdnNr5_abVr8mAfJNY9JZHqNwSr244rPrC4nMj65BOa6xQIBuDDtGkH2yCqKygfBgMDTJsIjfNAVQHU7Gh9tNg-rDao62BLMbp1JKCQsqxqcwcfGZ23gyH72_j5q9Wdnbknj01wxnD0YLK8oDr32VUBlUqCNDB_1xgY0",content:"VOID_PROTOCOL: START_WITH_NOTHING."},{id:"CH_03",name:"Pain Tolerance",price:"$3",borderClass:"border-neon-magenta",colorClass:"text-neon-magenta",glow:"glow-magenta",description:"Pain is the only yardstick of progress. Understanding the difference between discomfort and damage.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuC56kH_70TDlN9SyKgcd-f4074AztZff3B4A2Y04L_KrjaZF8QLytUNtIUD8Kg6a3WO04zeBGmLNAnw2T5tHnlrl2eTF3TzAmiimbqOAWPqYgFWtqkYuilGoC9YSeiixfAMX-L03LY1CIdwk7g_5GLKIyTi6dnsTqO1Uq9KqDKtfu8BqEAOcE66Eg4-tOz1rcDqsF197HDbUfR3v8h3TT-btXDZh8a98tx7-OzEzEReZGr40rMhqOWrQFUQE9u44NT25wi4j_CzHEYw",content:"PAIN_PROTOCOL: EMBRACE_THE_BURN."},{id:"CH_04",name:"Legacy War",price:"$3",borderClass:"border-zinc-500",colorClass:"text-zinc-500",glow:"border-white/50",description:"What will they say when you are gone? Building something that outlasts your biological existence.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuAmffZph4QDexI5jYr49CCmsRxz_ynZIQPdmfDkbLEgj4y7Yi5iVymxj3UTjJp9-N6J_qM7lfY0MaExbUGpf2Y_VveR4yXRoXdmk_S6TI1Bt7y3IFPyPhulf42xH4aFv45FuijLtWH3F7vF8hnHHWYIr5jSAC-IBQVyqhpazomWHorUpw14GC2KAibvKiLoZQxghokSfOqcqvR6K4x24N-YDYp-1U-ERYvjhtf9R_7G6hwrvO_pzoefIDFMy-acsOR2puoWlGsQsxup",content:"LEGACY_PROTOCOL: BUILD_TO_LAST."}];for(const Ve of he)await tr(zt(Fe,"chapters"),Ve);const Ue=[{id:"USR_01",email:"operator@bookofgrit.com",status:"ACTIVE",role:"COMMANDER",joined:"2023-10-15"},{id:"USR_02",email:"recruit@bookofgrit.com",status:"PENDING",role:"RECRUIT",joined:"2023-11-02"}];for(const Ve of Ue)await tr(zt(Fe,"users"),Ve);const Ze=[{id:"SUB_001",user:"operator@bookofgrit.com",plan:"THE MOVEMENT",status:"ACTIVE",nextBilling:"2023-12-15"},{id:"SUB_002",user:"recruit@bookofgrit.com",plan:"THE MOVEMENT",status:"PAUSED",nextBilling:"2023-12-02"}];for(const Ve of Ze)await tr(zt(Fe,"subscriptions"),Ve);oe()}catch(he){console.error("Seed failed:",he)}};return y.jsx("div",{className:"min-h-screen bg-black",children:y.jsx(V9,{children:y.jsx(P9,{chapters:t,users:n,subs:a,drills:u,onAdd:J,onUpdate:U,onDelete:Pe,onGrantAccess:ae,onAddDrill:ee,onDeleteDrill:ce,onUpdateDrill:pe,onResetProtocols:de,onDeleteUser:Ce,enlistments:m,applications:_,orderIntents:b,supportSignals:N,formConfig:V,onDeleteEnlistment:Te,onDeleteApplication:we,onDeleteOrderIntent:je,onDeleteSupportSignal:Be,onUpdateFormConfig:Xe,onSeed:nt,onClose:()=>re("/")})})})}function k9(){const[t,e]=O.useState(null),[n,s]=O.useState(null),[a,l]=O.useState(!0),[u,f]=O.useState([]),m=Vl();O.useEffect(()=>{const E=_v(On,async b=>{if(!b){m("/");return}e(b);const A=rn(Fe,"users",b.uid),N=await Oy(A);if(N.exists()){const j=N.data();!j.isSubscriber&&!j.purchased?.includes("SUB_MONTHLY")?s(j):(s(j),p())}l(!1)});return()=>E()},[m]);const p=async()=>{try{const E=bi(zt(Fe,"drills"),xs("timestamp","desc")),A=(await xi(E)).docs.map(N=>({id:N.id,...N.data()}));f(A)}catch(E){console.error("Fetch drills failed:",E)}};return a?y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center font-technical text-primary uppercase tracking-[0.4em]",children:y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx("div",{className:"w-16 h-1 w-full bg-zinc-900 overflow-hidden relative",children:y.jsx(Pt.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"absolute inset-0 bg-primary"})}),"AUTHENTICATING_OPERATOR..."]})}):n?.isSubscriber||n?.purchased?.includes("SUB_MONTHLY")?y.jsxs("div",{className:"min-h-screen bg-black concrete-texture text-white selection:bg-neon-magenta selection:text-black overflow-x-hidden relative",children:[y.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 opacity-[0.03]",children:[y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#888_1px,transparent_1px),linear-gradient(to_bottom,#888_1px,transparent_1px)] bg-[size:40px_40px]"}),y.jsx(Pt.div,{animate:{y:["0%","100%"]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-b from-transparent via-neon-magenta/30 to-transparent h-[20%] w-full"})]}),y.jsxs("header",{className:"p-8 border-b-2 border-neon-magenta/10 flex justify-between items-center bg-black/80 backdrop-blur-xl sticky top-0 z-50",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx(Ki,{to:"/",className:"w-12 h-12 flex items-center justify-center border border-neon-magenta/20 hover:border-neon-magenta hover:bg-neon-magenta/10 transition-all group",children:y.jsx("span",{className:"material-symbols-outlined text-neon-magenta group-hover:scale-110 transition-transform",children:"arrow_back"})}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-neon-magenta animate-pulse shadow-[0_0_10px_#ff00ff]"}),y.jsx("h1",{className:"text-xl md:text-3xl font-bombed uppercase tracking-widest text-white italic",children:"WAR_ROOM_ACCESS"})]}),y.jsxs("p",{className:"text-[8px] font-technical text-neon-magenta/40 uppercase tracking-[0.4em] mt-1 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"sensors"}),"SIGNAL_STRENGTH: 98% // ENCRYPTION: OMEGA_IV"]})]})]}),y.jsxs("div",{className:"hidden md:flex flex-col items-end border-r-2 border-neon-magenta/30 pr-6",children:[y.jsx("span",{className:"text-[8px] font-technical text-zinc-600 uppercase tracking-widest",children:"CURRENT_LOGGED_OPERATOR"}),y.jsxs("span",{className:"text-sm font-bombed text-white tracking-widest flex items-center gap-2 italic",children:[n?.callsign||"OPERATOR_X",y.jsx("span",{className:"material-symbols-outlined text-neon-magenta text-xs",children:"verified"})]})]})]}),y.jsx("main",{className:"max-w-6xl mx-auto p-8 py-16",children:y.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[y.jsx("div",{className:"flex items-center gap-4 mb-4 border-l-4 border-neon-magenta pl-6",children:y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-bombed uppercase italic",children:"TACTICAL_DRILLS"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest",children:"WEEKLY_OPERATIONAL_PROCEDURES"})]})}),y.jsx("div",{className:"space-y-8",children:u.length===0?y.jsxs("div",{className:"p-20 border border-zinc-900 text-center space-y-6 bg-zinc-950/20 backdrop-blur-sm relative overflow-hidden group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neon-magenta/5 to-transparent"}),y.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-6xl group-hover:text-neon-magenta/20 transition-colors",children:"radar"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-technical text-[10px] text-zinc-600 uppercase tracking-[0.5em] mb-2",children:"SCANNING_FOR_ACTIVE_SIGNALS..."}),y.jsx("div",{className:"w-32 h-[1px] bg-zinc-900 mx-auto relative overflow-hidden",children:y.jsx(Pt.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-neon-magenta/50"})})]})]}):u.map((E,b)=>y.jsxs(Pt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:b*.1,duration:.6},className:"group relative border border-zinc-900 hover:border-neon-magenta/40 bg-zinc-950/40 backdrop-blur-sm transition-all overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 inset-x-0 h-[1px] bg-gradient-to-r from-transparent via-neon-magenta/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-500"}),y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsx("span",{className:"w-10 h-10 flex items-center justify-center bg-zinc-900 border border-zinc-800 text-neon-magenta material-symbols-outlined",children:E.type==="PROTOCOL"?"terminal":E.type==="MANIFESTO"?"contract":"description"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bombed uppercase group-hover:text-neon-magenta transition-colors italic",children:E.title}),y.jsxs("p",{className:"text-[8px] font-technical text-zinc-600 uppercase tracking-widest underline decoration-zinc-800 underline-offset-4",children:["REF_ID: DRILL_",E.id.substring(0,6).toUpperCase()," // TYPE: ",E.type||"RAW_INTEL"]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-[10px] font-bombed text-white underline decoration-neon-magenta/50",children:"DECODED"}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:E.timestamp?.toDate().toLocaleDateString()})]})]}),y.jsx("div",{className:"prose prose-invert prose-xs font-technical text-zinc-400 leading-relaxed mb-8 pl-6 border-l-2 border-zinc-900 group-hover:border-neon-magenta/30 transition-colors whitespace-pre-wrap",children:E.content}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx("span",{className:"px-3 py-1 bg-neon-magenta/10 border border-neon-magenta/20 text-[8px] font-technical text-neon-magenta uppercase",children:"CLEARANCE: OPERATOR"}),y.jsx("span",{className:"px-3 py-1 bg-zinc-900 border border-zinc-800 text-[8px] font-technical text-zinc-500 uppercase",children:"STATUS: VERIFIED"})]}),y.jsxs("button",{className:"text-[10px] font-bombed uppercase text-zinc-700 hover:text-white transition-colors flex items-center gap-2",children:["MARK_AS_COMPLETE ",y.jsx("span",{className:"material-symbols-outlined text-xs",children:"radio_button_unchecked"})]})]})]})]},E.id))})]}),y.jsxs("div",{className:"space-y-12",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx("h4",{className:"text-neon-magenta font-stencil text-lg uppercase underline underline-offset-8 decoration-neon-magenta/30",children:"MEMBER_ASSETS"}),y.jsx("div",{className:"grid gap-4",children:[{icon:"description",label:"THE CORE MANIFESTO",sub:"Foundational Doc V3.2"},{icon:"shield",label:"OPERATOR PROTOCOLS",sub:"Conduct & Discipline"},{icon:"database",label:"THE RAW ARCHIVE",sub:"Unreleased Dumps"}].map((E,b)=>y.jsxs("div",{className:"p-4 border border-zinc-900 bg-zinc-950/30 hover:bg-zinc-900/50 transition-all cursor-pointer group flex items-center gap-4",children:[y.jsx("span",{className:"material-symbols-outlined text-zinc-500 group-hover:text-neon-magenta",children:E.icon}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bombed text-white uppercase",children:E.label}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase tracking-tighter",children:E.sub})]})]},b))})]}),y.jsxs("div",{className:"p-8 bg-neon-magenta/5 border border-neon-magenta/10 space-y-6 relative overflow-hidden",children:[y.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-neon-magenta/10 rounded-full blur-3xl animate-pulse"}),y.jsx("h4",{className:"font-stencil text-neon-magenta text-sm uppercase",children:"OPERATOR_STATUS"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-end border-b border-zinc-900 pb-2",children:[y.jsx("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"TIER"}),y.jsx("span",{className:"text-xs font-bombed text-neon-magenta uppercase tracking-widest italic",children:"MOVEMENT_ELITE"})]}),y.jsxs("div",{className:"flex justify-between items-end border-b border-zinc-900 pb-2",children:[y.jsx("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"NETWORK_ID"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-300 uppercase",children:["G_NODE_",t?.uid.substring(0,8).toUpperCase()]})]}),y.jsxs("div",{className:"flex justify-between items-end border-b border-zinc-900 pb-2",children:[y.jsx("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"SESSION_KEY"}),y.jsx("span",{className:"text-[10px] font-technical text-zinc-300 uppercase",children:"ENC_VERIFIED"})]})]})]}),y.jsx("div",{className:"text-[8px] font-technical text-zinc-700 leading-relaxed uppercase",children:"Warning: Unauthorized distribution of Deep Web assets will result in permanent termination of operational status and network blacklisting."})]})]})}),y.jsxs("div",{className:"fixed bottom-0 inset-x-0 h-10 bg-black/90 backdrop-blur-xl border-t-2 border-neon-magenta/20 flex items-center z-[100] overflow-hidden",children:[y.jsxs("div",{className:"bg-neon-magenta px-4 h-full flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-black text-sm animate-spin-slow",children:"settings"}),y.jsx("span",{className:"text-[10px] font-technical font-bold text-black uppercase tracking-widest whitespace-nowrap",children:"GLOBAL_LIVE_FEED:"})]}),y.jsx("div",{className:"flex-1 px-8 overflow-hidden",children:y.jsx(Pt.div,{initial:{x:"0%"},animate:{x:"-50%"},transition:{duration:40,repeat:1/0,ease:"linear"},className:"flex gap-16 whitespace-nowrap",children:[...Array(2)].map((E,b)=>y.jsxs("div",{className:"flex gap-16 uppercase text-[9px] font-technical text-neon-magenta tracking-[0.2em] font-bold",children:[y.jsx("span",{children:"LATENCY: 12ms // SERVER: OMEGA_SOUTH // STATUS: DEEP_FETCH_ACTIVE"}),y.jsx("span",{children:"OPERATORS_ACTIVE: 1,402 // DRILLS_SYNCED: 100% // NOCOMING_SAVE_YOU"}),y.jsx("span",{children:"SIGNAL_LOCK: SECURE // VOID_PROTOCOL: INITIALIZED // GRIT_ORACLE_LIVE"}),y.jsx("span",{children:"LATENCY: 12ms // SERVER: OMEGA_SOUTH // STATUS: DEEP_FETCH_ACTIVE"})]},b))})}),y.jsxs("div",{className:"hidden md:flex bg-zinc-900 px-6 h-full items-center gap-4 text-[9px] font-technical text-zinc-500 tracking-[0.2em]",children:[y.jsx("p",{children:"FREQ: 44.9KHZ"}),y.jsx("p",{className:"text-neon-magenta",children:"STATUS: CLEAR"})]})]}),y.jsx("div",{className:"h-10"})]}):y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:y.jsxs("div",{className:"max-w-md w-full border-2 border-fire/50 bg-black/80 backdrop-blur-xl p-10 text-center space-y-8 shadow-[0_0_50px_rgba(255,100,0,0.1)]",children:[y.jsx("span",{className:"material-symbols-outlined text-fire text-7xl",children:"lock_open"}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-bombed text-white mb-4 uppercase italic",children:"ACCESS_DENIED"}),y.jsx("p",{className:"font-technical text-[10px] text-zinc-500 uppercase tracking-widest leading-relaxed",children:`Terminal 4.1.0: "THE DEEP WEB" requires an active 'MOVEMENT' enlistment. Your clearance does not meet the minimum operational threshold.`})]}),y.jsx(Ki,{to:"/",children:y.jsx("button",{className:"w-full bg-fire text-black font-stencil text-lg py-4 hover:bg-white transition-all cursor-pointer",children:"ENLIST_NOW"})})]})})}function j9(){return y.jsx("div",{className:"concrete-texture min-h-screen bg-black text-zinc-400 font-technical p-8 md:p-24 selection:bg-primary selection:text-black",children:y.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto border border-zinc-900 bg-zinc-950/50 p-8 md:p-16 relative",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),y.jsx(Ki,{to:"/",className:"text-primary hover:text-white mb-12 inline-block uppercase tracking-[0.2em] text-[10px]",children:" RETURN_TO_BASE"}),y.jsx("h1",{className:"text-4xl md:text-6xl font-bombed text-white mb-12 leading-none uppercase italic",children:"PRIVACY_PROTOCOL"}),y.jsxs("div",{className:"space-y-12 text-sm leading-relaxed",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"01. DATA_COLLECTION"}),y.jsx("p",{children:"The Book of Grit collects minimal operator data required for session persistence and asset delivery. This includes email addresses provided via Google Auth and custom Callsigns initialized during operator setup."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"02. TRANSACTION_SECURITY"}),y.jsx("p",{children:"All financial transactions are handled by Stripe. We do not store credit card details or sensitive billing information on our servers. Verification is performed via secure server-to-server handshakes."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"03. TRACKING_LOGS"}),y.jsx("p",{children:"Access to the archive is logged. IP addresses and session timestamps are recorded to prevent unauthorized distribution of classified assets."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"04. DATA_RETENTION"}),y.jsx("p",{children:"Operators may terminate their session and request data deletion via the support channel. Upon termination, all linked assets will be purged from the active session."})]})]}),y.jsxs("div",{className:"mt-24 pt-8 border-t border-zinc-900 flex justify-between items-center text-[10px] text-zinc-600",children:[y.jsx("span",{children:"DOC_ID: PRIV_GRIT_v1.0"}),y.jsx("span",{children:"LAST_MOD: 2024.02.12"})]})]})})}function U9(){return y.jsx("div",{className:"concrete-texture min-h-screen bg-black text-zinc-400 font-technical p-8 md:p-24 selection:bg-fire selection:text-black",children:y.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto border border-zinc-900 bg-zinc-950/50 p-8 md:p-16 relative",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-fire"}),y.jsx(Ki,{to:"/",className:"text-fire hover:text-white mb-12 inline-block uppercase tracking-[0.2em] text-[10px]",children:" RETURN_TO_BASE"}),y.jsx("h1",{className:"text-4xl md:text-6xl font-bombed text-white mb-12 leading-none uppercase italic",children:"TERMS_OF_GRIT"}),y.jsxs("div",{className:"space-y-12 text-sm leading-relaxed",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"01. NO_REFUNDS"}),y.jsx("p",{children:"All assets acquired through the Book of Grit are digital and non-refundable. Discomfort is part of the process. Requesting a refund due to lack of discipline is a violation of the grit code."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"02. ASSET_USAGE"}),y.jsx("p",{children:"Manuals are for individual use only. Redistribution, resale, or public broadcasting of classified manifests is strictly prohibited and will result in permanent session termination."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"03. MEMBERSHIP_ENLISTMENT"}),y.jsx("p",{children:"The Movement subscription provides recurring access to the archive and drills. Operators may cancel their enlistment at any time, but access to elite channels will be revoked at the end of the billing cycle."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"04. OPERATOR_CONDUCT"}),y.jsx("p",{children:"Disrespecting the collective or sharing information from the private signal channels will result in immediate discharge without warning."})]})]}),y.jsxs("div",{className:"mt-24 pt-8 border-t border-zinc-900 flex justify-between items-center text-[10px] text-zinc-600",children:[y.jsx("span",{children:"DOC_ID: TERMS_GRIT_v1.0"}),y.jsx("span",{children:"LAST_MOD: 2024.02.12"})]})]})})}function z9(){return y.jsx(vO,{children:y.jsxs(QD,{children:[y.jsx(er,{path:"/",element:y.jsx(N9,{})}),y.jsx(er,{path:"/success",element:y.jsx(D9,{})}),y.jsx(er,{path:"/cancel",element:y.jsx(O9,{})}),y.jsx(er,{path:"/admin",element:y.jsx(L9,{})}),y.jsx(er,{path:"/dashboard",element:y.jsx(k9,{})}),y.jsx(er,{path:"/privacy",element:y.jsx(j9,{})}),y.jsx(er,{path:"/terms",element:y.jsx(U9,{})}),y.jsx(er,{path:"*",element:y.jsx(KD,{to:"/",replace:!0})})]})})}class B9 extends aA.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Global Error:",e,n)}render(){return this.state.hasError?y.jsxs("div",{style:{padding:20,background:"#111",color:"#f00",minHeight:"100vh",fontFamily:"monospace"},children:[y.jsx("h1",{children:"GLOBAL APP CRASH"}),y.jsx("p",{children:this.state.error&&this.state.error.toString()}),y.jsx("pre",{children:this.state.error&&this.state.error.stack})]}):this.props.children}}XN.createRoot(document.getElementById("root")).render(y.jsx(O.StrictMode,{children:y.jsx(B9,{children:y.jsx(z9,{})})}));
