(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function BN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xp={exports:{}},zc={};var zT;function FN(){if(zT)return zc;zT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return zc.Fragment=e,zc.jsx=n,zc.jsxs=n,zc}var BT;function HN(){return BT||(BT=1,Xp.exports=FN()),Xp.exports}var y=HN(),Jp={exports:{}},De={};var FT;function qN(){if(FT)return De;FT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function B(j,ie,fe){this.props=j,this.context=ie,this.refs=P,this.updater=fe||N}B.prototype.isReactComponent={},B.prototype.setState=function(j,ie){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ie,"setState")},B.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=B.prototype;function H(j,ie,fe){this.props=j,this.context=ie,this.refs=P,this.updater=fe||N}var oe=H.prototype=new q;oe.constructor=H,k(oe,B.prototype),oe.isPureReactComponent=!0;var ee=Array.isArray;function le(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(j,ie,fe){var pe=fe.ref;return{$$typeof:t,type:j,key:ie,ref:pe!==void 0?pe:null,props:fe}}function L(j,ie){return I(j.type,ie,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function z(j){var ie={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(fe){return ie[fe]})}var D=/\/+/g;function Me(j,ie){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):ie.toString(36)}function Je(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(le,le):(j.status="pending",j.then(function(ie){j.status==="pending"&&(j.status="fulfilled",j.value=ie)},function(ie){j.status==="pending"&&(j.status="rejected",j.reason=ie)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function J(j,ie,fe,pe,we){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var je=!1;if(j===null)je=!0;else switch(Ce){case"bigint":case"string":case"number":je=!0;break;case"object":switch(j.$$typeof){case t:case e:je=!0;break;case _:return je=j._init,J(je(j._payload),ie,fe,pe,we)}}if(je)return we=we(j),je=pe===""?"."+Me(j,0):pe,ee(we)?(fe="",je!=null&&(fe=je.replace(D,"$&/")+"/"),J(we,ie,fe,"",function(Ti){return Ti})):we!=null&&(V(we)&&(we=L(we,fe+(we.key==null||j&&j.key===we.key?"":(""+we.key).replace(D,"$&/")+"/")+je)),ie.push(we)),1;je=0;var yt=pe===""?".":pe+":";if(ee(j))for(var Ze=0;Ze<j.length;Ze++)pe=j[Ze],Ce=yt+Me(pe,Ze),je+=J(pe,ie,fe,Ce,we);else if(Ze=S(j),typeof Ze=="function")for(j=Ze.call(j),Ze=0;!(pe=j.next()).done;)pe=pe.value,Ce=yt+Me(pe,Ze++),je+=J(pe,ie,fe,Ce,we);else if(Ce==="object"){if(typeof j.then=="function")return J(Je(j),ie,fe,pe,we);throw ie=String(j),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return je}function $(j,ie,fe){if(j==null)return j;var pe=[],we=0;return J(j,pe,"","",function(Ce){return ie.call(fe,Ce,we++)}),pe}function ce(j){if(j._status===-1){var ie=j._result;ie=ie(),ie.then(function(fe){(j._status===0||j._status===-1)&&(j._status=1,j._result=fe)},function(fe){(j._status===0||j._status===-1)&&(j._status=2,j._result=fe)}),j._status===-1&&(j._status=0,j._result=ie)}if(j._status===1)return j._result.default;throw j._result}var me=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ge={map:$,forEach:function(j,ie,fe){$(j,function(){ie.apply(this,arguments)},fe)},count:function(j){var ie=0;return $(j,function(){ie++}),ie},toArray:function(j){return $(j,function(ie){return ie})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return De.Activity=E,De.Children=ge,De.Component=B,De.Fragment=n,De.Profiler=a,De.PureComponent=H,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,De.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},De.cache=function(j){return function(){return j.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(j,ie,fe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var pe=k({},j.props),we=j.key;if(ie!=null)for(Ce in ie.key!==void 0&&(we=""+ie.key),ie)!R.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(pe[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)pe.children=fe;else if(1<Ce){for(var je=Array(Ce),yt=0;yt<Ce;yt++)je[yt]=arguments[yt+2];pe.children=je}return I(j.type,we,pe)},De.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},De.createElement=function(j,ie,fe){var pe,we={},Ce=null;if(ie!=null)for(pe in ie.key!==void 0&&(Ce=""+ie.key),ie)R.call(ie,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(we[pe]=ie[pe]);var je=arguments.length-2;if(je===1)we.children=fe;else if(1<je){for(var yt=Array(je),Ze=0;Ze<je;Ze++)yt[Ze]=arguments[Ze+2];we.children=yt}if(j&&j.defaultProps)for(pe in je=j.defaultProps,je)we[pe]===void 0&&(we[pe]=je[pe]);return I(j,Ce,we)},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:f,render:j}},De.isValidElement=V,De.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:ce}},De.memo=function(j,ie){return{$$typeof:p,type:j,compare:ie===void 0?null:ie}},De.startTransition=function(j){var ie=C.T,fe={};C.T=fe;try{var pe=j(),we=C.S;we!==null&&we(fe,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(le,me)}catch(Ce){me(Ce)}finally{ie!==null&&fe.types!==null&&(ie.types=fe.types),C.T=ie}},De.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},De.use=function(j){return C.H.use(j)},De.useActionState=function(j,ie,fe){return C.H.useActionState(j,ie,fe)},De.useCallback=function(j,ie){return C.H.useCallback(j,ie)},De.useContext=function(j){return C.H.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j,ie){return C.H.useDeferredValue(j,ie)},De.useEffect=function(j,ie){return C.H.useEffect(j,ie)},De.useEffectEvent=function(j){return C.H.useEffectEvent(j)},De.useId=function(){return C.H.useId()},De.useImperativeHandle=function(j,ie,fe){return C.H.useImperativeHandle(j,ie,fe)},De.useInsertionEffect=function(j,ie){return C.H.useInsertionEffect(j,ie)},De.useLayoutEffect=function(j,ie){return C.H.useLayoutEffect(j,ie)},De.useMemo=function(j,ie){return C.H.useMemo(j,ie)},De.useOptimistic=function(j,ie){return C.H.useOptimistic(j,ie)},De.useReducer=function(j,ie,fe){return C.H.useReducer(j,ie,fe)},De.useRef=function(j){return C.H.useRef(j)},De.useState=function(j){return C.H.useState(j)},De.useSyncExternalStore=function(j,ie,fe){return C.H.useSyncExternalStore(j,ie,fe)},De.useTransition=function(){return C.H.useTransition()},De.version="19.2.4",De}var HT;function ky(){return HT||(HT=1,Jp.exports=qN()),Jp.exports}var O=ky();const rS=BN(O);var Zp={exports:{}},Bc={},eg={exports:{}},tg={};var qT;function GN(){return qT||(qT=1,(function(t){function e(J,$){var ce=J.length;J.push($);e:for(;0<ce;){var me=ce-1>>>1,ge=J[me];if(0<a(ge,$))J[me]=$,J[ce]=ge,ce=me;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var $=J[0],ce=J.pop();if(ce!==$){J[0]=ce;e:for(var me=0,ge=J.length,j=ge>>>1;me<j;){var ie=2*(me+1)-1,fe=J[ie],pe=ie+1,we=J[pe];if(0>a(fe,ce))pe<ge&&0>a(we,fe)?(J[me]=we,J[pe]=ce,me=pe):(J[me]=fe,J[ie]=ce,me=ie);else if(pe<ge&&0>a(we,ce))J[me]=we,J[pe]=ce,me=pe;else break e}}return $}function a(J,$){var ce=J.sortIndex-$.sortIndex;return ce!==0?ce:J.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],_=1,E=null,b=3,S=!1,N=!1,k=!1,P=!1,B=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function oe(J){for(var $=n(p);$!==null;){if($.callback===null)s(p);else if($.startTime<=J)s(p),$.sortIndex=$.expirationTime,e(m,$);else break;$=n(p)}}function ee(J){if(k=!1,oe(J),!N)if(n(m)!==null)N=!0,le||(le=!0,z());else{var $=n(p);$!==null&&Je(ee,$.startTime-J)}}var le=!1,C=-1,R=5,I=-1;function L(){return P?!0:!(t.unstable_now()-I<R)}function V(){if(P=!1,le){var J=t.unstable_now();I=J;var $=!0;try{e:{N=!1,k&&(k=!1,q(C),C=-1),S=!0;var ce=b;try{t:{for(oe(J),E=n(m);E!==null&&!(E.expirationTime>J&&L());){var me=E.callback;if(typeof me=="function"){E.callback=null,b=E.priorityLevel;var ge=me(E.expirationTime<=J);if(J=t.unstable_now(),typeof ge=="function"){E.callback=ge,oe(J),$=!0;break t}E===n(m)&&s(m),oe(J)}else s(m);E=n(m)}if(E!==null)$=!0;else{var j=n(p);j!==null&&Je(ee,j.startTime-J),$=!1}}break e}finally{E=null,b=ce,S=!1}$=void 0}}finally{$?z():le=!1}}}var z;if(typeof H=="function")z=function(){H(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Me=D.port2;D.port1.onmessage=V,z=function(){Me.postMessage(null)}}else z=function(){B(V,0)};function Je(J,$){C=B(function(){J(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(J){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var ce=b;b=$;try{return J()}finally{b=ce}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(J,$){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ce=b;b=J;try{return $()}finally{b=ce}},t.unstable_scheduleCallback=function(J,$,ce){var me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?me+ce:me):ce=me,J){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ce+ge,J={id:_++,callback:$,priorityLevel:J,startTime:ce,expirationTime:ge,sortIndex:-1},ce>me?(J.sortIndex=ce,e(p,J),n(m)===null&&J===n(p)&&(k?(q(C),C=-1):k=!0,Je(ee,ce-me))):(J.sortIndex=ge,e(m,J),N||S||(N=!0,le||(le=!0,z()))),J},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(J){var $=b;return function(){var ce=b;b=$;try{return J.apply(this,arguments)}finally{b=ce}}}})(tg)),tg}var GT;function YN(){return GT||(GT=1,eg.exports=GN()),eg.exports}var ng={exports:{}},pn={};var YT;function KN(){if(YT)return pn;YT=1;var t=ky();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:p,implementation:_}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,_)},pn.flushSync=function(m){var p=u.T,_=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=_,s.d.f()}},pn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},pn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},pn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,E=f(_,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:S}):_==="script"&&s.d.X(m,{crossOrigin:E,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},pn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=f(_,p.crossOrigin);s.d.L(m,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pn.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},pn.requestFormReset=function(m){s.d.r(m)},pn.unstable_batchedUpdates=function(m,p){return m(p)},pn.useFormState=function(m,p,_){return u.H.useFormState(m,p,_)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var KT;function $N(){if(KT)return ng.exports;KT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=KN(),ng.exports}var $T;function QN(){if($T)return Bc;$T=1;var t=YN(),e=ky(),n=$N();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=g;else{for(var T=!1,A=d.child;A;){if(A===o){T=!0,o=d,c=g;break}if(A===c){T=!0,c=d,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,c=d;break}if(A===c){T=!0,c=g,o=d;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case B:return"Profiler";case P:return"StrictMode";case ee:return"Suspense";case le:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case H:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Me(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return Me(i(r))}catch{}}return null}var Je=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},me=[],ge=-1;function j(i){return{current:i}}function ie(i){0>ge||(i.current=me[ge],me[ge]=null,ge--)}function fe(i,r){ge++,me[ge]=i.current,i.current=r}var pe=j(null),we=j(null),Ce=j(null),je=j(null);function yt(i,r){switch(fe(Ce,r),fe(we,i),fe(pe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?cT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=cT(r),i=uT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(pe),fe(pe,i)}function Ze(){ie(pe),ie(we),ie(Ce)}function Ti(i){i.memoizedState!==null&&fe(je,i);var r=pe.current,o=uT(r,i.type);r!==o&&(fe(we,i),fe(pe,o))}function bi(i){we.current===i&&(ie(pe),ie(we)),je.current===i&&(ie(je),Lc._currentValue=ce)}var ue,be;function ht(i){if(ue===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ue=r&&r[1]||"",be=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+i+be}var Wt=!1;function mn(i,r){if(!i||Wt)return"";Wt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var Q=X}Reflect.construct(i,[],re)}else{try{re.call()}catch(X){Q=X}i.call(re.prototype)}}else{try{throw Error()}catch(X){Q=X}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var M=T.split(`
`),K=A.split(`
`);for(d=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(c===M.length||d===K.length)for(c=M.length-1,d=K.length-1;1<=c&&0<=d&&M[c]!==K[d];)d--;for(;1<=c&&0<=d;c--,d--)if(M[c]!==K[d]){if(c!==1||d!==1)do if(c--,d--,0>d||M[c]!==K[d]){var te=`
`+M[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=d);break}}}finally{Wt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ht(o):""}function Z(i,r){switch(i.tag){case 26:case 27:case 5:return ht(i.type);case 16:return ht("Lazy");case 13:return i.child!==r&&r!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return mn(i.type,!1);case 11:return mn(i.type.render,!1);case 1:return mn(i.type,!0);case 31:return ht("Activity");default:return""}}function Te(i){try{var r="",o=null;do r+=Z(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Pe=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,tn=t.unstable_cancelCallback,Zn=t.unstable_shouldYield,ho=t.unstable_requestPaint,xt=t.unstable_now,ei=t.unstable_getCurrentPriorityLevel,Ln=t.unstable_ImmediatePriority,kn=t.unstable_UserBlockingPriority,Rs=t.unstable_NormalPriority,fo=t.unstable_LowPriority,mo=t.unstable_IdlePriority,Bu=t.log,Fu=t.unstable_setDisableYieldValue,xi=null,nn=null;function ti(i){if(typeof Bu=="function"&&Fu(i),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(xi,i)}catch{}}var Ct=Math.clz32?Math.clz32:qu,Hu=Math.log,po=Math.LN2;function qu(i){return i>>>=0,i===0?32:31-(Hu(i)/po|0)|0}var Yi=256,fa=262144,Vt=4194304;function Ki(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $i(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?d=Ki(c):(T&=A,T!==0?d=Ki(T):o||(o=A&~i,o!==0&&(d=Ki(o))))):(A=c&~g,A!==0?d=Ki(A):T!==0?d=Ki(T):o||(o=c&~i,o!==0&&(d=Ki(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function Ai(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function tm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var i=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),i}function Qi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function da(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nm(i,r,o,c,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,M=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var te=31-Ct(o),re=1<<te;A[te]=0,M[te]=-1;var Q=K[te];if(Q!==null)for(K[te]=null,te=0;te<Q.length;te++){var X=Q[te];X!==null&&(X.lane&=-536870913)}o&=~re}c!==0&&ma(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function ma(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Ct(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Bl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Ct(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function Fl(i,r){var o=r&-r;return o=(o&42)!==0?1:pa(o),(o&(i.suspendedLanes|r))!==0?0:o}function pa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Yu(){var i=$.p;return i!==0?i:(i=window.event,i===void 0?32:MT(i.type))}function Si(i,r){var o=$.p;try{return $.p=i,r()}finally{$.p=o}}var wi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+wi,Xt="__reactProps$"+wi,Wi="__reactContainer$"+wi,go="__reactEvents$"+wi,im="__reactListeners$"+wi,Ku="__reactHandles$"+wi,$u="__reactResources$"+wi,Xi="__reactMarker$"+wi;function yo(i){delete i[Lt],delete i[Xt],delete i[go],delete i[im],delete i[Ku]}function Ji(i){var r=i[Lt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Wi]||o[Lt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=yT(i);i!==null;){if(o=i[Lt])return o;i=yT(i)}return r}i=o,o=i.parentNode}return null}function ni(i){if(i=i[Lt]||i[Wi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function jn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Zi(i){var r=i[$u];return r||(r=i[$u]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function kt(i){i[Xi]=!0}var Hl=new Set,ql={};function es(i,r){ts(i,r),ts(i+"Capture",r)}function ts(i,r){for(ql[i]=r,i=0;i<r.length;i++)Hl.add(r[i])}var Gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yl={},Kl={};function Qu(i){return Pe.call(Kl,i)?!0:Pe.call(Yl,i)?!1:Gl.test(i)?Kl[i]=!0:(Yl[i]=!0,!1)}function _o(i,r,o){if(Qu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Un(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function jt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Jt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function lr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $l(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function nt(i){if(!i._valueTracker){var r=lr(i)?"checked":"value";i._valueTracker=$l(i,r,""+i[r])}}function ga(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=lr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ns(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ya=/[\n"\\]/g;function wn(i){return i.replace(ya,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vo(i,r,o,c,d,g,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Jt(r)):i.value!==""+Jt(r)&&(i.value=""+Jt(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Ql(i,T,Jt(r)):o!=null?Ql(i,T,Jt(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Jt(A):i.removeAttribute("name")}function Wu(i,r,o,c,d,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){nt(i);return}o=o!=null?""+Jt(o):"",r=r!=null?""+Jt(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),nt(i)}function Ql(i,r,o){r==="number"&&ns(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function cr(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Jt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Xu(i,r,o){if(r!=null&&(r=""+Jt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Jt(o):""}function ur(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Je(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Jt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),nt(i)}function Rn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Ju.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Xl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&Wl(i,d,c)}else for(var g in r)r.hasOwnProperty(g)&&Wl(i,g,r[g])}function Eo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(i){return hr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ri(){}var Jl=null;function ii(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fr=null,is=null;function _a(i){var r=ni(i);if(r&&(i=r.stateNode)){var o=i[Xt]||null;e:switch(i=r.stateNode,r.type){case"input":if(vo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[Xt]||null;if(!d)throw Error(s(90));vo(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&ga(c)}break e;case"textarea":Xu(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&cr(i,!!o.multiple,r,!1)}}}var bo=!1;function dr(i,r,o){if(bo)return i(r,o);bo=!0;try{var c=i(r);return c}finally{if(bo=!1,(fr!==null||is!==null)&&(Yh(),fr&&(r=fr,i=is,is=fr=null,_a(r),i)))for(r=0;r<i.length;r++)_a(i[r])}}function Ii(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Xt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(si)try{var at={};Object.defineProperty(at,"passive",{get:function(){va=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{va=!1}var ss=null,Zl=null,Ea=null;function ec(){if(Ea)return Ea;var i,r=Zl,o=r.length,c,d="value"in ss?ss.value:ss.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(c=1;c<=T&&r[o-c]===d[g-c];c++);return Ea=d.slice(i,1<c?1-c:void 0)}function Ta(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Cs(){return!0}function Ci(){return!1}function sn(i){function r(o,c,d,g,T){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cs:Ci,this.isPropagationStopped=Ci,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),r}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=sn(Ns),mr=E({},Ns,{view:0,detail:0}),tc=sn(mr),pr,xo,as,Ao=E({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==as&&(as&&i.type==="mousemove"?(pr=i.screenX-as.screenX,xo=i.screenY-as.screenY):xo=pr=0,as=i),pr)},movementY:function(i){return"movementY"in i?i.movementY:xo}}),nc=sn(Ao),ba=E({},Ao,{dataTransfer:0}),eh=sn(ba),th=E({},mr,{relatedTarget:0}),xa=sn(th),ic=E({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=sn(ic),So=E({},Ns,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ih=sn(So),sh=E({},Ns,{data:0}),os=sn(sh),rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=oh[i])?!!r[i]:!1}function gr(){return lh}var Tn=E({},mr,{key:function(i){if(i.key){var r=rh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ta(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ah[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(i){return i.type==="keypress"?Ta(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ta(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ch=sn(Tn),uh=E({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ds=sn(uh),h=E({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),v=sn(h),x=E({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=sn(x),G=E({},Ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=sn(G),he=E({},Ns,{newState:0,oldState:0}),Ve=sn(he),Nt=[9,13,27,32],We=si&&"CompositionEvent"in window,_t=null;si&&"documentMode"in document&&(_t=document.documentMode);var ri=si&&"TextEvent"in window&&!_t,ls=si&&(!We||_t&&8<_t&&11>=_t),Ni=" ",Di=!1;function Aa(i,r){switch(i){case"keyup":return Nt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ro=!1;function hC(i,r){switch(i){case"compositionend":return wo(r);case"keypress":return r.which!==32?null:(Di=!0,Ni);case"textInput":return i=r.data,i===Ni&&Di?null:i;default:return null}}function fC(i,r){if(Ro)return i==="compositionend"||!We&&Aa(i,r)?(i=ec(),Ea=Zl=ss=null,Ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ls&&r.locale!=="ko"?null:r.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ev(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!dC[i.type]:r==="textarea"}function Tv(i,r,o,c){fr?is?is.push(c):is=[c]:fr=c,r=Zh(r,"onChange"),0<r.length&&(o=new rs("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var sc=null,rc=null;function mC(i){iT(i,0)}function hh(i){var r=jn(i);if(ga(r))return i}function bv(i,r){if(i==="change")return r}var xv=!1;if(si){var sm;if(si){var rm="oninput"in document;if(!rm){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),rm=typeof Av.oninput=="function"}sm=rm}else sm=!1;xv=sm&&(!document.documentMode||9<document.documentMode)}function Sv(){sc&&(sc.detachEvent("onpropertychange",wv),rc=sc=null)}function wv(i){if(i.propertyName==="value"&&hh(rc)){var r=[];Tv(r,rc,i,ii(i)),dr(mC,r)}}function pC(i,r,o){i==="focusin"?(Sv(),sc=r,rc=o,sc.attachEvent("onpropertychange",wv)):i==="focusout"&&Sv()}function gC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hh(rc)}function yC(i,r){if(i==="click")return hh(r)}function _C(i,r){if(i==="input"||i==="change")return hh(r)}function vC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var zn=typeof Object.is=="function"?Object.is:vC;function ac(i,r){if(zn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Pe.call(r,d)||!zn(i[d],r[d]))return!1}return!0}function Rv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Iv(i,r){var o=Rv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Rv(o)}}function Cv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Cv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Nv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ns(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ns(i.document)}return r}function am(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var EC=si&&"documentMode"in document&&11>=document.documentMode,Io=null,om=null,oc=null,lm=!1;function Dv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lm||Io==null||Io!==ns(c)||(c=Io,"selectionStart"in c&&am(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),oc&&ac(oc,c)||(oc=c,c=Zh(om,"onSelect"),0<c.length&&(r=new rs("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Io)))}function Sa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Co={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},cm={},Ov={};si&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function wa(i){if(cm[i])return cm[i];if(!Co[i])return i;var r=Co[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ov)return cm[i]=r[o];return i}var Mv=wa("animationend"),Pv=wa("animationiteration"),Vv=wa("animationstart"),TC=wa("transitionrun"),bC=wa("transitionstart"),xC=wa("transitioncancel"),Lv=wa("transitionend"),kv=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function Oi(i,r){kv.set(i,r),es(r,[i])}var fh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ai=[],No=0,hm=0;function dh(){for(var i=No,r=hm=No=0;r<i;){var o=ai[r];ai[r++]=null;var c=ai[r];ai[r++]=null;var d=ai[r];ai[r++]=null;var g=ai[r];if(ai[r++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&jv(o,d,g)}}function mh(i,r,o,c){ai[No++]=i,ai[No++]=r,ai[No++]=o,ai[No++]=c,hm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function fm(i,r,o,c){return mh(i,r,o,c),ph(i)}function Ra(i,r){return mh(i,null,null,r),ph(i)}function jv(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Ct(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),g):null}function ph(i){if(50<Cc)throw Cc=0,Tp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Do={};function AC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(i,r,o,c){return new AC(i,r,o,c)}function dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Os(i,r){var o=i.alternate;return o===null?(o=Bn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Uv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function gh(i,r,o,c,d,g){var T=0;if(c=i,typeof i=="function")dm(i)&&(T=1);else if(typeof i=="string")T=CN(i,o,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Bn(31,o,r,d),i.elementType=I,i.lanes=g,i;case k:return Ia(o.children,d,g,r);case P:T=8,d|=24;break;case B:return i=Bn(12,o,r,d|2),i.elementType=B,i.lanes=g,i;case ee:return i=Bn(13,o,r,d),i.elementType=ee,i.lanes=g,i;case le:return i=Bn(19,o,r,d),i.elementType=le,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:T=10;break e;case q:T=9;break e;case oe:T=11;break e;case C:T=14;break e;case R:T=16,c=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Bn(T,o,r,d),r.elementType=i,r.type=c,r.lanes=g,r}function Ia(i,r,o,c){return i=Bn(7,i,c,r),i.lanes=o,i}function mm(i,r,o){return i=Bn(6,i,null,r),i.lanes=o,i}function zv(i){var r=Bn(18,null,null,0);return r.stateNode=i,r}function pm(i,r,o){return r=Bn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Bv=new WeakMap;function oi(i,r){if(typeof i=="object"&&i!==null){var o=Bv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Te(r)},Bv.set(i,r),r)}return{value:i,source:r,stack:Te(r)}}var Oo=[],Mo=0,yh=null,lc=0,li=[],ci=0,yr=null,cs=1,us="";function Ms(i,r){Oo[Mo++]=lc,Oo[Mo++]=yh,yh=i,lc=r}function Fv(i,r,o){li[ci++]=cs,li[ci++]=us,li[ci++]=yr,yr=i;var c=cs;i=us;var d=32-Ct(c)-1;c&=~(1<<d),o+=1;var g=32-Ct(r)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,cs=1<<32-Ct(r)+d|o<<d|c,us=g+i}else cs=1<<g|o<<d|c,us=i}function gm(i){i.return!==null&&(Ms(i,1),Fv(i,1,0))}function ym(i){for(;i===yh;)yh=Oo[--Mo],Oo[Mo]=null,lc=Oo[--Mo],Oo[Mo]=null;for(;i===yr;)yr=li[--ci],li[ci]=null,us=li[--ci],li[ci]=null,cs=li[--ci],li[ci]=null}function Hv(i,r){li[ci++]=cs,li[ci++]=us,li[ci++]=yr,cs=r.id,us=r.overflow,yr=i}var rn=null,mt=null,Ye=!1,_r=null,ui=!1,_m=Error(s(519));function vr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cc(oi(r,i)),_m}function qv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Lt]=i,r[Xt]=c,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<Dc.length;o++)ze(Dc[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),Wu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),ur(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||oT(r.textContent,o)?(c.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),c.onScroll!=null&&ze("scroll",r),c.onScrollEnd!=null&&ze("scrollend",r),c.onClick!=null&&(r.onclick=Ri),r=!0):r=!1,r||vr(i,!0)}function Gv(i){for(rn=i.return;rn;)switch(rn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:rn=rn.return}}function Po(i){if(i!==rn)return!1;if(!Ye)return Gv(i),Ye=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Lp(i.type,i.memoizedProps)),o=!o),o&&mt&&vr(i),Gv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));mt=gT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));mt=gT(i)}else r===27?(r=mt,Mr(i.type)?(i=Bp,Bp=null,mt=i):mt=r):mt=rn?fi(i.stateNode.nextSibling):null;return!0}function Ca(){mt=rn=null,Ye=!1}function vm(){var i=_r;return i!==null&&(Dn===null?Dn=i:Dn.push.apply(Dn,i),_r=null),i}function cc(i){_r===null?_r=[i]:_r.push(i)}var Em=j(null),Na=null,Ps=null;function Er(i,r,o){fe(Em,r._currentValue),r._currentValue=o}function Vs(i){i._currentValue=Em.current,ie(Em)}function Tm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function bm(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=d;for(var M=0;M<r.length;M++)if(A.context===r[M]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Tm(g.return,o,i),c||(T=null);break e}g=A.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Tm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Vo(i,r,o,c){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=d.type;zn(d.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(d===je.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Lc):i=[Lc])}d=d.return}i!==null&&bm(r,i,o,c),r.flags|=262144}function _h(i){for(i=i.firstContext;i!==null;){if(!zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Da(i){Na=i,Ps=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function an(i){return Yv(Na,i)}function vh(i,r){return Na===null&&Da(i),Yv(i,r)}function Yv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ps===null){if(i===null)throw Error(s(308));Ps=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ps=Ps.next=r;return o}var SC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},wC=t.unstable_scheduleCallback,RC=t.unstable_NormalPriority,Ut={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new SC,data:new Map,refCount:0}}function uc(i){i.refCount--,i.refCount===0&&wC(RC,function(){i.controller.abort()})}var hc=null,Am=0,Lo=0,ko=null;function IC(i,r){if(hc===null){var o=hc=[];Am=0,Lo=Rp(),ko={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Am++,r.then(Kv,Kv),r}function Kv(){if(--Am===0&&hc!==null){ko!==null&&(ko.status="fulfilled");var i=hc;hc=null,Lo=0,ko=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function CC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var $v=J.S;J.S=function(i,r){DE=xt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&IC(i,r),$v!==null&&$v(i,r)};var Oa=j(null);function Sm(){var i=Oa.current;return i!==null?i:ut.pooledCache}function Eh(i,r){r===null?fe(Oa,Oa.current):fe(Oa,r.pool)}function Qv(){var i=Sm();return i===null?null:{parent:Ut._currentValue,pool:i}}var jo=Error(s(460)),wm=Error(s(474)),Th=Error(s(542)),bh={then:function(){}};function Wv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Xv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ri,Ri),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Zv(i),i;default:if(typeof r.status=="string")r.then(Ri,Ri);else{if(i=ut,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Zv(i),i}throw Pa=r,jo}}function Ma(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pa=o,jo):o}}var Pa=null;function Jv(){if(Pa===null)throw Error(s(459));var i=Pa;return Pa=null,i}function Zv(i){if(i===jo||i===Th)throw Error(s(483))}var Uo=null,fc=0;function xh(i){var r=fc;return fc+=1,Uo===null&&(Uo=[]),Xv(Uo,i,r)}function dc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ah(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function e0(i){function r(F,U){if(i){var Y=F.deletions;Y===null?(F.deletions=[U],F.flags|=16):Y.push(U)}}function o(F,U){if(!i)return null;for(;U!==null;)r(F,U),U=U.sibling;return null}function c(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function d(F,U){return F=Os(F,U),F.index=0,F.sibling=null,F}function g(F,U,Y){return F.index=Y,i?(Y=F.alternate,Y!==null?(Y=Y.index,Y<U?(F.flags|=67108866,U):Y):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function T(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function A(F,U,Y,ne){return U===null||U.tag!==6?(U=mm(Y,F.mode,ne),U.return=F,U):(U=d(U,Y),U.return=F,U)}function M(F,U,Y,ne){var xe=Y.type;return xe===k?te(F,U,Y.props.children,ne,Y.key):U!==null&&(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Ma(xe)===U.type)?(U=d(U,Y.props),dc(U,Y),U.return=F,U):(U=gh(Y.type,Y.key,Y.props,null,F.mode,ne),dc(U,Y),U.return=F,U)}function K(F,U,Y,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=pm(Y,F.mode,ne),U.return=F,U):(U=d(U,Y.children||[]),U.return=F,U)}function te(F,U,Y,ne,xe){return U===null||U.tag!==7?(U=Ia(Y,F.mode,ne,xe),U.return=F,U):(U=d(U,Y),U.return=F,U)}function re(F,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=mm(""+U,F.mode,Y),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return Y=gh(U.type,U.key,U.props,null,F.mode,Y),dc(Y,U),Y.return=F,Y;case N:return U=pm(U,F.mode,Y),U.return=F,U;case R:return U=Ma(U),re(F,U,Y)}if(Je(U)||z(U))return U=Ia(U,F.mode,Y,null),U.return=F,U;if(typeof U.then=="function")return re(F,xh(U),Y);if(U.$$typeof===H)return re(F,vh(F,U),Y);Ah(F,U)}return null}function Q(F,U,Y,ne){var xe=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:A(F,U,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===xe?M(F,U,Y,ne):null;case N:return Y.key===xe?K(F,U,Y,ne):null;case R:return Y=Ma(Y),Q(F,U,Y,ne)}if(Je(Y)||z(Y))return xe!==null?null:te(F,U,Y,ne,null);if(typeof Y.then=="function")return Q(F,U,xh(Y),ne);if(Y.$$typeof===H)return Q(F,U,vh(F,Y),ne);Ah(F,Y)}return null}function X(F,U,Y,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get(Y)||null,A(U,F,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return F=F.get(ne.key===null?Y:ne.key)||null,M(U,F,ne,xe);case N:return F=F.get(ne.key===null?Y:ne.key)||null,K(U,F,ne,xe);case R:return ne=Ma(ne),X(F,U,Y,ne,xe)}if(Je(ne)||z(ne))return F=F.get(Y)||null,te(U,F,ne,xe,null);if(typeof ne.then=="function")return X(F,U,Y,xh(ne),xe);if(ne.$$typeof===H)return X(F,U,Y,vh(U,ne),xe);Ah(U,ne)}return null}function _e(F,U,Y,ne){for(var xe=null,$e=null,Ee=U,ke=U=0,Fe=null;Ee!==null&&ke<Y.length;ke++){Ee.index>ke?(Fe=Ee,Ee=null):Fe=Ee.sibling;var Qe=Q(F,Ee,Y[ke],ne);if(Qe===null){Ee===null&&(Ee=Fe);break}i&&Ee&&Qe.alternate===null&&r(F,Ee),U=g(Qe,U,ke),$e===null?xe=Qe:$e.sibling=Qe,$e=Qe,Ee=Fe}if(ke===Y.length)return o(F,Ee),Ye&&Ms(F,ke),xe;if(Ee===null){for(;ke<Y.length;ke++)Ee=re(F,Y[ke],ne),Ee!==null&&(U=g(Ee,U,ke),$e===null?xe=Ee:$e.sibling=Ee,$e=Ee);return Ye&&Ms(F,ke),xe}for(Ee=c(Ee);ke<Y.length;ke++)Fe=X(Ee,F,ke,Y[ke],ne),Fe!==null&&(i&&Fe.alternate!==null&&Ee.delete(Fe.key===null?ke:Fe.key),U=g(Fe,U,ke),$e===null?xe=Fe:$e.sibling=Fe,$e=Fe);return i&&Ee.forEach(function(jr){return r(F,jr)}),Ye&&Ms(F,ke),xe}function Se(F,U,Y,ne){if(Y==null)throw Error(s(151));for(var xe=null,$e=null,Ee=U,ke=U=0,Fe=null,Qe=Y.next();Ee!==null&&!Qe.done;ke++,Qe=Y.next()){Ee.index>ke?(Fe=Ee,Ee=null):Fe=Ee.sibling;var jr=Q(F,Ee,Qe.value,ne);if(jr===null){Ee===null&&(Ee=Fe);break}i&&Ee&&jr.alternate===null&&r(F,Ee),U=g(jr,U,ke),$e===null?xe=jr:$e.sibling=jr,$e=jr,Ee=Fe}if(Qe.done)return o(F,Ee),Ye&&Ms(F,ke),xe;if(Ee===null){for(;!Qe.done;ke++,Qe=Y.next())Qe=re(F,Qe.value,ne),Qe!==null&&(U=g(Qe,U,ke),$e===null?xe=Qe:$e.sibling=Qe,$e=Qe);return Ye&&Ms(F,ke),xe}for(Ee=c(Ee);!Qe.done;ke++,Qe=Y.next())Qe=X(Ee,F,ke,Qe.value,ne),Qe!==null&&(i&&Qe.alternate!==null&&Ee.delete(Qe.key===null?ke:Qe.key),U=g(Qe,U,ke),$e===null?xe=Qe:$e.sibling=Qe,$e=Qe);return i&&Ee.forEach(function(zN){return r(F,zN)}),Ye&&Ms(F,ke),xe}function ct(F,U,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===k&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var xe=Y.key;U!==null;){if(U.key===xe){if(xe=Y.type,xe===k){if(U.tag===7){o(F,U.sibling),ne=d(U,Y.props.children),ne.return=F,F=ne;break e}}else if(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Ma(xe)===U.type){o(F,U.sibling),ne=d(U,Y.props),dc(ne,Y),ne.return=F,F=ne;break e}o(F,U);break}else r(F,U);U=U.sibling}Y.type===k?(ne=Ia(Y.props.children,F.mode,ne,Y.key),ne.return=F,F=ne):(ne=gh(Y.type,Y.key,Y.props,null,F.mode,ne),dc(ne,Y),ne.return=F,F=ne)}return T(F);case N:e:{for(xe=Y.key;U!==null;){if(U.key===xe)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){o(F,U.sibling),ne=d(U,Y.children||[]),ne.return=F,F=ne;break e}else{o(F,U);break}else r(F,U);U=U.sibling}ne=pm(Y,F.mode,ne),ne.return=F,F=ne}return T(F);case R:return Y=Ma(Y),ct(F,U,Y,ne)}if(Je(Y))return _e(F,U,Y,ne);if(z(Y)){if(xe=z(Y),typeof xe!="function")throw Error(s(150));return Y=xe.call(Y),Se(F,U,Y,ne)}if(typeof Y.then=="function")return ct(F,U,xh(Y),ne);if(Y.$$typeof===H)return ct(F,U,vh(F,Y),ne);Ah(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(o(F,U.sibling),ne=d(U,Y),ne.return=F,F=ne):(o(F,U),ne=mm(Y,F.mode,ne),ne.return=F,F=ne),T(F)):o(F,U)}return function(F,U,Y,ne){try{fc=0;var xe=ct(F,U,Y,ne);return Uo=null,xe}catch(Ee){if(Ee===jo||Ee===Th)throw Ee;var $e=Bn(29,Ee,null,F.mode);return $e.lanes=ne,$e.return=F,$e}}}var Va=e0(!0),t0=e0(!1),Tr=!1;function Rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function br(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=ph(i),jv(i,null,o),r}return mh(i,c,r,o),ph(i)}function mc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Bl(i,o)}}function Cm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Nm=!1;function pc(){if(Nm){var i=ko;if(i!==null)throw i}}function gc(i,r,o,c){Nm=!1;var d=i.updateQueue;Tr=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var M=A,K=M.next;M.next=null,T===null?g=K:T.next=K,T=M;var te=i.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==T&&(A===null?te.firstBaseUpdate=K:A.next=K,te.lastBaseUpdate=M))}if(g!==null){var re=d.baseState;T=0,te=K=M=null,A=g;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(Be&Q)===Q:(c&Q)===Q){Q!==0&&Q===Lo&&(Nm=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var _e=i,Se=A;Q=r;var ct=o;switch(Se.tag){case 1:if(_e=Se.payload,typeof _e=="function"){re=_e.call(ct,re,Q);break e}re=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Se.payload,Q=typeof _e=="function"?_e.call(ct,re,Q):_e,Q==null)break e;re=E({},re,Q);break e;case 2:Tr=!0}}Q=A.callback,Q!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(K=te=X,M=re):te=te.next=X,T|=Q;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;X=A,A=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);te===null&&(M=re),d.baseState=M,d.firstBaseUpdate=K,d.lastBaseUpdate=te,g===null&&(d.shared.lanes=0),Ir|=T,i.lanes=T,i.memoizedState=re}}function n0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function i0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)n0(o[i],r)}var zo=j(null),Sh=j(0);function s0(i,r){i=qs,fe(Sh,i),fe(zo,r),qs=i|r.baseLanes}function Dm(){fe(Sh,qs),fe(zo,zo.current)}function Om(){qs=Sh.current,ie(zo),ie(Sh)}var Fn=j(null),hi=null;function Ar(i){var r=i.alternate;fe(Dt,Dt.current&1),fe(Fn,i),hi===null&&(r===null||zo.current!==null||r.memoizedState!==null)&&(hi=i)}function Mm(i){fe(Dt,Dt.current),fe(Fn,i),hi===null&&(hi=i)}function r0(i){i.tag===22?(fe(Dt,Dt.current),fe(Fn,i),hi===null&&(hi=i)):Sr()}function Sr(){fe(Dt,Dt.current),fe(Fn,Fn.current)}function Hn(i){ie(Fn),hi===i&&(hi=null),ie(Dt)}var Dt=j(0);function wh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Up(o)||zp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ls=0,Le=null,ot=null,zt=null,Rh=!1,Bo=!1,La=!1,Ih=0,yc=0,Fo=null,NC=0;function At(){throw Error(s(321))}function Pm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!zn(i[o],r[o]))return!1;return!0}function Vm(i,r,o,c,d,g){return Ls=g,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?F0:Wm,La=!1,g=o(c,d),La=!1,Bo&&(g=o0(r,o,c,d)),a0(i),g}function a0(i){J.H=Ec;var r=ot!==null&&ot.next!==null;if(Ls=0,zt=ot=Le=null,Rh=!1,yc=0,Fo=null,r)throw Error(s(300));i===null||Bt||(i=i.dependencies,i!==null&&_h(i)&&(Bt=!0))}function o0(i,r,o,c){Le=i;var d=0;do{if(Bo&&(Fo=null),yc=0,Bo=!1,25<=d)throw Error(s(301));if(d+=1,zt=ot=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=H0,g=r(o,c)}while(Bo);return g}function DC(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?_c(r):r,i=i.useState()[0],(ot!==null?ot.memoizedState:null)!==i&&(Le.flags|=1024),r}function Lm(){var i=Ih!==0;return Ih=0,i}function km(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function jm(i){if(Rh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Rh=!1}Ls=0,zt=ot=Le=null,Bo=!1,yc=Ih=0,Fo=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Le.memoizedState=zt=i:zt=zt.next=i,zt}function Ot(){if(ot===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var r=zt===null?Le.memoizedState:zt.next;if(r!==null)zt=r,ot=i;else{if(i===null)throw Le.alternate===null?Error(s(467)):Error(s(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},zt===null?Le.memoizedState=zt=i:zt=zt.next=i}return zt}function Ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _c(i){var r=yc;return yc+=1,Fo===null&&(Fo=[]),i=Xv(Fo,i,r),r=Le,(zt===null?r.memoizedState:zt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?F0:Wm),i}function Nh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return _c(i);if(i.$$typeof===H)return an(i)}throw Error(s(438,String(i)))}function Um(i){var r=null,o=Le.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ch(),Le.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=L;return r.index++,o}function ks(i,r){return typeof r=="function"?r(i):r}function Dh(i){var r=Ot();return zm(r,ot,i)}function zm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var A=T=null,M=null,K=r,te=!1;do{var re=K.lane&-536870913;if(re!==K.lane?(Be&re)===re:(Ls&re)===re){var Q=K.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),re===Lo&&(te=!0);else if((Ls&Q)===Q){K=K.next,Q===Lo&&(te=!0);continue}else re={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=re,T=g):M=M.next=re,Le.lanes|=Q,Ir|=Q;re=K.action,La&&o(g,re),g=K.hasEagerState?K.eagerState:o(g,re)}else Q={lane:re,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=Q,T=g):M=M.next=Q,Le.lanes|=re,Ir|=re;K=K.next}while(K!==null&&K!==r);if(M===null?T=g:M.next=A,!zn(g,i.memoizedState)&&(Bt=!0,te&&(o=ko,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=M,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Bm(i){var r=Ot(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);zn(g,r.memoizedState)||(Bt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function l0(i,r,o){var c=Le,d=Ot(),g=Ye;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!zn((ot||d).memoizedState,o);if(T&&(d.memoizedState=o,Bt=!0),d=d.queue,qm(h0.bind(null,c,d,i),[i]),d.getSnapshot!==r||T||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,Ho(9,{destroy:void 0},u0.bind(null,c,d,o,r),null),ut===null)throw Error(s(349));g||(Ls&127)!==0||c0(c,r,o)}return o}function c0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Le.updateQueue,r===null?(r=Ch(),Le.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function u0(i,r,o,c){r.value=o,r.getSnapshot=c,f0(r)&&d0(i)}function h0(i,r,o){return o(function(){f0(r)&&d0(i)})}function f0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!zn(i,o)}catch{return!0}}function d0(i){var r=Ra(i,2);r!==null&&On(r,i,2)}function Fm(i){var r=bn();if(typeof i=="function"){var o=i;if(i=o(),La){ti(!0);try{o()}finally{ti(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:i},r}function m0(i,r,o,c){return i.baseState=o,zm(i,ot,typeof c=="function"?c:ks)}function OC(i,r,o,c,d){if(Ph(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};J.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,p0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function p0(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var g=J.T,T={};J.T=T;try{var A=o(d,c),M=J.S;M!==null&&M(T,A),g0(i,r,A)}catch(K){Hm(i,r,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),J.T=g}}else try{g=o(d,c),g0(i,r,g)}catch(K){Hm(i,r,K)}}function g0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){y0(i,r,c)},function(c){return Hm(i,r,c)}):y0(i,r,o)}function y0(i,r,o){r.status="fulfilled",r.value=o,_0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,p0(i,o)))}function Hm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,_0(r),r=r.next;while(r!==c)}i.action=null}function _0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function v0(i,r){return r}function E0(i,r){if(Ye){var o=ut.formState;if(o!==null){e:{var c=Le;if(Ye){if(mt){t:{for(var d=mt,g=ui;d.nodeType!==8;){if(!g){d=null;break t}if(d=fi(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){mt=fi(d.nextSibling),c=d.data==="F!";break e}}vr(c)}c=!1}c&&(r=o[0])}}return o=bn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v0,lastRenderedState:r},o.queue=c,o=U0.bind(null,Le,c),c.dispatch=o,c=Fm(!1),g=Qm.bind(null,Le,!1,c.queue),c=bn(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=OC.bind(null,Le,d,g,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function T0(i){var r=Ot();return b0(r,ot,i)}function b0(i,r,o){if(r=zm(i,r,v0)[0],i=Dh(ks)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=_c(r)}catch(T){throw T===jo?Th:T}else c=r;r=Ot();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Le.flags|=2048,Ho(9,{destroy:void 0},MC.bind(null,d,o),null)),[c,g,i]}function MC(i,r){i.action=r}function x0(i){var r=Ot(),o=ot;if(o!==null)return b0(r,o,i);Ot(),r=r.memoizedState,o=Ot();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Ho(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Le.updateQueue,r===null&&(r=Ch(),Le.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function A0(){return Ot().memoizedState}function Oh(i,r,o,c){var d=bn();Le.flags|=i,d.memoizedState=Ho(1|r,{destroy:void 0},o,c===void 0?null:c)}function Mh(i,r,o,c){var d=Ot();c=c===void 0?null:c;var g=d.memoizedState.inst;ot!==null&&c!==null&&Pm(c,ot.memoizedState.deps)?d.memoizedState=Ho(r,g,o,c):(Le.flags|=i,d.memoizedState=Ho(1|r,g,o,c))}function S0(i,r){Oh(8390656,8,i,r)}function qm(i,r){Mh(2048,8,i,r)}function PC(i){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=Ch(),Le.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function w0(i){var r=Ot().memoizedState;return PC({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function R0(i,r){return Mh(4,2,i,r)}function I0(i,r){return Mh(4,4,i,r)}function C0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function N0(i,r,o){o=o!=null?o.concat([i]):null,Mh(4,4,C0.bind(null,r,i),o)}function Gm(){}function D0(i,r){var o=Ot();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Pm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function O0(i,r){var o=Ot();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Pm(r,c[1]))return c[0];if(c=i(),La){ti(!0);try{i()}finally{ti(!1)}}return o.memoizedState=[c,r],c}function Ym(i,r,o){return o===void 0||(Ls&1073741824)!==0&&(Be&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=ME(),Le.lanes|=i,Ir|=i,o)}function M0(i,r,o,c){return zn(o,r)?o:zo.current!==null?(i=Ym(i,o,c),zn(i,r)||(Bt=!0),i):(Ls&42)===0||(Ls&1073741824)!==0&&(Be&261930)===0?(Bt=!0,i.memoizedState=o):(i=ME(),Le.lanes|=i,Ir|=i,r)}function P0(i,r,o,c,d){var g=$.p;$.p=g!==0&&8>g?g:8;var T=J.T,A={};J.T=A,Qm(i,!1,r,o);try{var M=d(),K=J.S;if(K!==null&&K(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=CC(M,c);vc(i,r,te,Yn(i))}else vc(i,r,c,Yn(i))}catch(re){vc(i,r,{then:function(){},status:"rejected",reason:re},Yn())}finally{$.p=g,T!==null&&A.types!==null&&(T.types=A.types),J.T=T}}function VC(){}function Km(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=V0(i).queue;P0(i,d,r,ce,o===null?VC:function(){return L0(i),o(c)})}function V0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function L0(i){var r=V0(i);r.next===null&&(r=i.alternate.memoizedState),vc(i,r.next.queue,{},Yn())}function $m(){return an(Lc)}function k0(){return Ot().memoizedState}function j0(){return Ot().memoizedState}function LC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Yn();i=br(o);var c=xr(r,i,o);c!==null&&(On(c,r,o),mc(c,r,o)),r={cache:xm()},i.payload=r;return}r=r.return}}function kC(i,r,o){var c=Yn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ph(i)?z0(r,o):(o=fm(i,r,o,c),o!==null&&(On(o,i,c),B0(o,r,c)))}function U0(i,r,o){var c=Yn();vc(i,r,o,c)}function vc(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ph(i))z0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,A=g(T,o);if(d.hasEagerState=!0,d.eagerState=A,zn(A,T))return mh(i,r,d,0),ut===null&&dh(),!1}catch{}if(o=fm(i,r,d,c),o!==null)return On(o,i,c),B0(o,r,c),!0}return!1}function Qm(i,r,o,c){if(c={lane:2,revertLane:Rp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ph(i)){if(r)throw Error(s(479))}else r=fm(i,o,c,2),r!==null&&On(r,i,2)}function Ph(i){var r=i.alternate;return i===Le||r!==null&&r===Le}function z0(i,r){Bo=Rh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function B0(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Bl(i,o)}}var Ec={readContext:an,use:Nh,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Ec.useEffectEvent=At;var F0={readContext:an,use:Nh,useCallback:function(i,r){return bn().memoizedState=[i,r===void 0?null:r],i},useContext:an,useEffect:S0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Oh(4194308,4,C0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Oh(4194308,4,i,r)},useInsertionEffect:function(i,r){Oh(4,2,i,r)},useMemo:function(i,r){var o=bn();r=r===void 0?null:r;var c=i();if(La){ti(!0);try{i()}finally{ti(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=bn();if(o!==void 0){var d=o(r);if(La){ti(!0);try{o(r)}finally{ti(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=kC.bind(null,Le,i),[c.memoizedState,i]},useRef:function(i){var r=bn();return i={current:i},r.memoizedState=i},useState:function(i){i=Fm(i);var r=i.queue,o=U0.bind(null,Le,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Gm,useDeferredValue:function(i,r){var o=bn();return Ym(o,i,r)},useTransition:function(){var i=Fm(!1);return i=P0.bind(null,Le,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Le,d=bn();if(Ye){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ut===null)throw Error(s(349));(Be&127)!==0||c0(c,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,S0(h0.bind(null,c,g,i),[i]),c.flags|=2048,Ho(9,{destroy:void 0},u0.bind(null,c,g,o,r),null),o},useId:function(){var i=bn(),r=ut.identifierPrefix;if(Ye){var o=us,c=cs;o=(c&~(1<<32-Ct(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ih++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=NC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:$m,useFormState:E0,useActionState:E0,useOptimistic:function(i){var r=bn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Qm.bind(null,Le,!0,o),o.dispatch=r,[i,r]},useMemoCache:Um,useCacheRefresh:function(){return bn().memoizedState=LC.bind(null,Le)},useEffectEvent:function(i){var r=bn(),o={impl:i};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Wm={readContext:an,use:Nh,useCallback:D0,useContext:an,useEffect:qm,useImperativeHandle:N0,useInsertionEffect:R0,useLayoutEffect:I0,useMemo:O0,useReducer:Dh,useRef:A0,useState:function(){return Dh(ks)},useDebugValue:Gm,useDeferredValue:function(i,r){var o=Ot();return M0(o,ot.memoizedState,i,r)},useTransition:function(){var i=Dh(ks)[0],r=Ot().memoizedState;return[typeof i=="boolean"?i:_c(i),r]},useSyncExternalStore:l0,useId:k0,useHostTransitionStatus:$m,useFormState:T0,useActionState:T0,useOptimistic:function(i,r){var o=Ot();return m0(o,ot,i,r)},useMemoCache:Um,useCacheRefresh:j0};Wm.useEffectEvent=w0;var H0={readContext:an,use:Nh,useCallback:D0,useContext:an,useEffect:qm,useImperativeHandle:N0,useInsertionEffect:R0,useLayoutEffect:I0,useMemo:O0,useReducer:Bm,useRef:A0,useState:function(){return Bm(ks)},useDebugValue:Gm,useDeferredValue:function(i,r){var o=Ot();return ot===null?Ym(o,i,r):M0(o,ot.memoizedState,i,r)},useTransition:function(){var i=Bm(ks)[0],r=Ot().memoizedState;return[typeof i=="boolean"?i:_c(i),r]},useSyncExternalStore:l0,useId:k0,useHostTransitionStatus:$m,useFormState:x0,useActionState:x0,useOptimistic:function(i,r){var o=Ot();return ot!==null?m0(o,ot,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Um,useCacheRefresh:j0};H0.useEffectEvent=w0;function Xm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:E({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Jm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Yn(),d=br(c);d.payload=r,o!=null&&(d.callback=o),r=xr(i,d,c),r!==null&&(On(r,i,c),mc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Yn(),d=br(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=xr(i,d,c),r!==null&&(On(r,i,c),mc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Yn(),c=br(o);c.tag=2,r!=null&&(c.callback=r),r=xr(i,c,o),r!==null&&(On(r,i,o),mc(r,i,o))}};function q0(i,r,o,c,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!ac(o,c)||!ac(d,g):!0}function G0(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Jm.enqueueReplaceState(r,r.state,null)}function ka(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=E({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function Y0(i){fh(i)}function K0(i){console.error(i)}function $0(i){fh(i)}function Vh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Q0(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zm(i,r,o){return o=br(o),o.tag=3,o.payload={element:null},o.callback=function(){Vh(i,r)},o}function W0(i){return i=br(i),i.tag=3,i}function X0(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){Q0(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Q0(r,o,c),typeof d!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function jC(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Vo(r,o,d,!0),o=Fn.current,o!==null){switch(o.tag){case 31:case 13:return hi===null?Kh():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===bh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Ap(i,c,d)),!1;case 22:return o.flags|=65536,c===bh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Ap(i,c,d)),!1}throw Error(s(435,o.tag))}return Ap(i,c,d),Kh(),!1}if(Ye)return r=Fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==_m&&(i=Error(s(422),{cause:c}),cc(oi(i,o)))):(c!==_m&&(r=Error(s(423),{cause:c}),cc(oi(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=oi(c,o),d=Zm(i.stateNode,c,d),Cm(i,d),St!==4&&(St=2)),!1;var g=Error(s(520),{cause:c});if(g=oi(g,o),Ic===null?Ic=[g]:Ic.push(g),St!==4&&(St=2),r===null)return!0;c=oi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Zm(o.stateNode,c,i),Cm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cr===null||!Cr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=W0(d),X0(d,i,o,c),Cm(o,d),!1}o=o.return}while(o!==null);return!1}var ep=Error(s(461)),Bt=!1;function on(i,r,o,c){r.child=i===null?t0(r,null,o,c):Va(r,i.child,o,c)}function J0(i,r,o,c,d){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return Da(r),c=Vm(i,r,o,T,g,d),A=Lm(),i!==null&&!Bt?(km(i,r,d),js(i,r,d)):(Ye&&A&&gm(r),r.flags|=1,on(i,r,c,d),r.child)}function Z0(i,r,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!dm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,eE(i,r,g,c,d)):(i=gh(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!lp(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:ac,o(T,c)&&i.ref===r.ref)return js(i,r,d)}return r.flags|=1,i=Os(g,c),i.ref=r.ref,i.return=r,r.child=i}function eE(i,r,o,c,d){if(i!==null){var g=i.memoizedProps;if(ac(g,c)&&i.ref===r.ref)if(Bt=!1,r.pendingProps=c=g,lp(i,d))(i.flags&131072)!==0&&(Bt=!0);else return r.lanes=i.lanes,js(i,r,d)}return tp(i,r,o,c,d)}function tE(i,r,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,r.child=null;return nE(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Eh(r,g!==null?g.cachePool:null),g!==null?s0(r,g):Dm(),r0(r);else return c=r.lanes=536870912,nE(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Eh(r,g.cachePool),s0(r,g),Sr(),r.memoizedState=null):(i!==null&&Eh(r,null),Dm(),Sr());return on(i,r,d,o),r.child}function Tc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function nE(i,r,o,c,d){var g=Sm();return g=g===null?null:{parent:Ut._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Eh(r,null),Dm(),r0(r),i!==null&&Vo(i,r,c,!0),r.childLanes=d,null}function Lh(i,r){return r=jh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function iE(i,r,o){return Va(r,i.child,null,o),i=Lh(r,r.pendingProps),i.flags|=2,Hn(r),r.memoizedState=null,i}function UC(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ye){if(c.mode==="hidden")return i=Lh(r,c),r.lanes=536870912,Tc(null,i);if(Mm(r),(i=mt)?(i=pT(i,ui),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:yr!==null?{id:cs,overflow:us}:null,retryLane:536870912,hydrationErrors:null},o=zv(i),o.return=r,r.child=o,rn=r,mt=null)):i=null,i===null)throw vr(r);return r.lanes=536870912,null}return Lh(r,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Mm(r),d)if(r.flags&256)r.flags&=-257,r=iE(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Bt||Vo(i,r,o,!1),d=(o&i.childLanes)!==0,Bt||d){if(c=ut,c!==null&&(T=Fl(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ra(i,T),On(c,i,T),ep;Kh(),r=iE(i,r,o)}else i=g.treeContext,mt=fi(T.nextSibling),rn=r,Ye=!0,_r=null,ui=!1,i!==null&&Hv(r,i),r=Lh(r,c),r.flags|=4096;return r}return i=Os(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function kh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function tp(i,r,o,c,d){return Da(r),o=Vm(i,r,o,c,void 0,d),c=Lm(),i!==null&&!Bt?(km(i,r,d),js(i,r,d)):(Ye&&c&&gm(r),r.flags|=1,on(i,r,o,d),r.child)}function sE(i,r,o,c,d,g){return Da(r),r.updateQueue=null,o=o0(r,c,o,d),a0(i),c=Lm(),i!==null&&!Bt?(km(i,r,g),js(i,r,g)):(Ye&&c&&gm(r),r.flags|=1,on(i,r,o,g),r.child)}function rE(i,r,o,c,d){if(Da(r),r.stateNode===null){var g=Do,T=o.contextType;typeof T=="object"&&T!==null&&(g=an(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Rm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?an(T):Do,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Xm(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Jm.enqueueReplaceState(g,g.state,null),gc(r,c,g,d),pc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,M=ka(o,A);g.props=M;var K=g.context,te=o.contextType;T=Do,typeof te=="object"&&te!==null&&(T=an(te));var re=o.getDerivedStateFromProps;te=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==T)&&G0(r,g,c,T),Tr=!1;var Q=r.memoizedState;g.state=Q,gc(r,c,g,d),pc(),K=r.memoizedState,A||Q!==K||Tr?(typeof re=="function"&&(Xm(r,o,re,c),K=r.memoizedState),(M=Tr||q0(r,o,M,c,Q,K,T))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=K),g.props=c,g.state=K,g.context=T,c=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Im(i,r),T=r.memoizedProps,te=ka(o,T),g.props=te,re=r.pendingProps,Q=g.context,K=o.contextType,M=Do,typeof K=="object"&&K!==null&&(M=an(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==re||Q!==M)&&G0(r,g,c,M),Tr=!1,Q=r.memoizedState,g.state=Q,gc(r,c,g,d),pc();var X=r.memoizedState;T!==re||Q!==X||Tr||i!==null&&i.dependencies!==null&&_h(i.dependencies)?(typeof A=="function"&&(Xm(r,o,A,c),X=r.memoizedState),(te=Tr||q0(r,o,te,c,Q,X,M)||i!==null&&i.dependencies!==null&&_h(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=M,c=te):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,kh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Va(r,i.child,null,d),r.child=Va(r,null,o,d)):on(i,r,o,d),r.memoizedState=g.state,i=r.child):i=js(i,r,d),i}function aE(i,r,o,c){return Ca(),r.flags|=256,on(i,r,o,c),r.child}var np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(i){return{baseLanes:i,cachePool:Qv()}}function sp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Gn),i}function oE(i,r,o){var c=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ye){if(d?Ar(r):Sr(),(i=mt)?(i=pT(i,ui),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:yr!==null?{id:cs,overflow:us}:null,retryLane:536870912,hydrationErrors:null},o=zv(i),o.return=r,r.child=o,rn=r,mt=null)):i=null,i===null)throw vr(r);return zp(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,d?(Sr(),d=r.mode,A=jh({mode:"hidden",children:A},d),c=Ia(c,d,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=ip(o),c.childLanes=sp(i,T,o),r.memoizedState=np,Tc(null,c)):(Ar(r),rp(r,A))}var M=i.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(g)r.flags&256?(Ar(r),r.flags&=-257,r=ap(i,r,o)):r.memoizedState!==null?(Sr(),r.child=i.child,r.flags|=128,r=null):(Sr(),A=c.fallback,d=r.mode,c=jh({mode:"visible",children:c.children},d),A=Ia(A,d,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Va(r,i.child,null,o),c=r.child,c.memoizedState=ip(o),c.childLanes=sp(i,T,o),r.memoizedState=np,r=Tc(null,c));else if(Ar(r),zp(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var K=T.dgst;T=K,c=Error(s(419)),c.stack="",c.digest=T,cc({value:c,source:null,stack:null}),r=ap(i,r,o)}else if(Bt||Vo(i,r,o,!1),T=(o&i.childLanes)!==0,Bt||T){if(T=ut,T!==null&&(c=Fl(T,o),c!==0&&c!==M.retryLane))throw M.retryLane=c,Ra(i,c),On(T,i,c),ep;Up(A)||Kh(),r=ap(i,r,o)}else Up(A)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,mt=fi(A.nextSibling),rn=r,Ye=!0,_r=null,ui=!1,i!==null&&Hv(r,i),r=rp(r,c.children),r.flags|=4096);return r}return d?(Sr(),A=c.fallback,d=r.mode,M=i.child,K=M.sibling,c=Os(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,K!==null?A=Os(K,A):(A=Ia(A,d,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Tc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=ip(o):(d=A.cachePool,d!==null?(M=Ut._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Qv(),A={baseLanes:A.baseLanes|o,cachePool:d}),c.memoizedState=A,c.childLanes=sp(i,T,o),r.memoizedState=np,Tc(i.child,c)):(Ar(r),o=i.child,i=o.sibling,o=Os(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function rp(i,r){return r=jh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function jh(i,r){return i=Bn(22,i,null,r),i.lanes=0,i}function ap(i,r,o){return Va(r,i.child,null,o),i=rp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function lE(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Tm(i.return,r,o)}function op(i,r,o,c,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function cE(i,r,o){var c=r.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var T=Dt.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,fe(Dt,T),on(i,r,c,o),c=Ye?lc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lE(i,o,r);else if(i.tag===19)lE(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&wh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),op(r,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&wh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}op(r,!0,o,null,g,c);break;case"together":op(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function js(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ir|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Vo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Os(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Os(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function lp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&_h(i)))}function zC(i,r,o){switch(r.tag){case 3:yt(r,r.stateNode.containerInfo),Er(r,Ut,i.memoizedState.cache),Ca();break;case 27:case 5:Ti(r);break;case 4:yt(r,r.stateNode.containerInfo);break;case 10:Er(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Mm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Ar(r),r.flags|=128,null):(o&r.child.childLanes)!==0?oE(i,r,o):(Ar(r),i=js(i,r,o),i!==null?i.sibling:null);Ar(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Vo(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return cE(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),fe(Dt,Dt.current),c)break;return null;case 22:return r.lanes=0,tE(i,r,o,r.pendingProps);case 24:Er(r,Ut,i.memoizedState.cache)}return js(i,r,o)}function uE(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Bt=!0;else{if(!lp(i,o)&&(r.flags&128)===0)return Bt=!1,zC(i,r,o);Bt=(i.flags&131072)!==0}else Bt=!1,Ye&&(r.flags&1048576)!==0&&Fv(r,lc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Ma(r.elementType),r.type=i,typeof i=="function")dm(i)?(c=ka(i,c),r.tag=1,r=rE(null,r,i,c,o)):(r.tag=0,r=tp(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===oe){r.tag=11,r=J0(null,r,i,c,o);break e}else if(d===C){r.tag=14,r=Z0(null,r,i,c,o);break e}}throw r=Me(i)||i,Error(s(306,r,""))}}return r;case 0:return tp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=ka(c,r.pendingProps),rE(i,r,c,d,o);case 3:e:{if(yt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;d=g.element,Im(i,r),gc(r,c,null,o);var T=r.memoizedState;if(c=T.cache,Er(r,Ut,c),c!==g.cache&&bm(r,[Ut],o,!0),pc(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=aE(i,r,c,o);break e}else if(c!==d){d=oi(Error(s(424)),r),cc(d),r=aE(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,mt=fi(i.firstChild),rn=r,Ye=!0,_r=null,ui=!0,o=t0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ca(),c===d){r=js(i,r,o);break e}on(i,r,c,o)}r=r.child}return r;case 26:return kh(i,r),i===null?(o=TT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ye||(o=r.type,i=r.pendingProps,c=ef(Ce.current).createElement(o),c[Lt]=r,c[Xt]=i,ln(c,o,i),kt(c),r.stateNode=c):r.memoizedState=TT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ti(r),i===null&&Ye&&(c=r.stateNode=_T(r.type,r.pendingProps,Ce.current),rn=r,ui=!0,d=mt,Mr(r.type)?(Bp=d,mt=fi(c.firstChild)):mt=d),on(i,r,r.pendingProps.children,o),kh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ye&&((d=c=mt)&&(c=gN(c,r.type,r.pendingProps,ui),c!==null?(r.stateNode=c,rn=r,mt=fi(c.firstChild),ui=!1,d=!0):d=!1),d||vr(r)),Ti(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,Lp(d,g)?c=null:T!==null&&Lp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=Vm(i,r,DC,null,null,o),Lc._currentValue=d),kh(i,r),on(i,r,c,o),r.child;case 6:return i===null&&Ye&&((i=o=mt)&&(o=yN(o,r.pendingProps,ui),o!==null?(r.stateNode=o,rn=r,mt=null,i=!0):i=!1),i||vr(r)),null;case 13:return oE(i,r,o);case 4:return yt(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Va(r,null,c,o):on(i,r,c,o),r.child;case 11:return J0(i,r,r.type,r.pendingProps,o);case 7:return on(i,r,r.pendingProps,o),r.child;case 8:return on(i,r,r.pendingProps.children,o),r.child;case 12:return on(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Er(r,r.type,c.value),on(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,Da(r),d=an(d),c=c(d),r.flags|=1,on(i,r,c,o),r.child;case 14:return Z0(i,r,r.type,r.pendingProps,o);case 15:return eE(i,r,r.type,r.pendingProps,o);case 19:return cE(i,r,o);case 31:return UC(i,r,o);case 22:return tE(i,r,o,r.pendingProps);case 24:return Da(r),c=an(Ut),i===null?(d=Sm(),d===null&&(d=ut,g=xm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:c,cache:d},Rm(r),Er(r,Ut,d)):((i.lanes&o)!==0&&(Im(i,r),gc(r,null,null,o),pc()),d=i.memoizedState,g=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Er(r,Ut,c)):(c=g.cache,Er(r,Ut,c),c!==d.cache&&bm(r,[Ut],o,!0))),on(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Us(i){i.flags|=4}function cp(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(kE())i.flags|=8192;else throw Pa=bh,wm}else i.flags&=-16777217}function hE(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!wT(r))if(kE())i.flags|=8192;else throw Pa=bh,wm}function Uh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Gu():536870912,i.lanes|=r,Ko|=r)}function bc(i,r){if(!Ye)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function pt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function BC(i,r,o){var c=r.pendingProps;switch(ym(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Vs(Ut),Ze(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Po(r)?Us(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vm())),pt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(Us(r),g!==null?(pt(r),hE(r,g)):(pt(r),cp(r,d,null,c,o))):g?g!==i.memoizedState?(Us(r),pt(r),hE(r,g)):(pt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Us(r),pt(r),cp(r,d,i,c,o)),null;case 27:if(bi(r),o=Ce.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Us(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return pt(r),null}i=pe.current,Po(r)?qv(r):(i=_T(d,c,o),r.stateNode=i,Us(r))}return pt(r),null;case 5:if(bi(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Us(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return pt(r),null}if(g=pe.current,Po(r))qv(r);else{var T=ef(Ce.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}g[Lt]=r,g[Xt]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(ln(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Us(r)}}return pt(r),cp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Us(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ce.current,Po(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=rn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Lt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||oT(i.nodeValue,o)),i||vr(r,!0)}else i=ef(i).createTextNode(c),i[Lt]=r,r.stateNode=i}return pt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Po(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Lt]=r}else Ca(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),i=!1}else o=vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Hn(r),r):(Hn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return pt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Po(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Lt]=r}else Ca(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),d=!1}else d=vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Hn(r),r):(Hn(r),null)}return Hn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Uh(r,r.updateQueue),pt(r),null);case 4:return Ze(),i===null&&Dp(r.stateNode.containerInfo),pt(r),null;case 10:return Vs(r.type),pt(r),null;case 19:if(ie(Dt),c=r.memoizedState,c===null)return pt(r),null;if(d=(r.flags&128)!==0,g=c.rendering,g===null)if(d)bc(c,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=wh(i),g!==null){for(r.flags|=128,bc(c,!1),i=g.updateQueue,r.updateQueue=i,Uh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Uv(o,i),o=o.sibling;return fe(Dt,Dt.current&1|2),Ye&&Ms(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&xt()>qh&&(r.flags|=128,d=!0,bc(c,!1),r.lanes=4194304)}else{if(!d)if(i=wh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Uh(r,i),bc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Ye)return pt(r),null}else 2*xt()-c.renderingStartTime>qh&&o!==536870912&&(r.flags|=128,d=!0,bc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=xt(),i.sibling=null,o=Dt.current,fe(Dt,d?o&1|2:o&1),Ye&&Ms(r,c.treeForkCount),i):(pt(r),null);case 22:case 23:return Hn(r),Om(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),o=r.updateQueue,o!==null&&Uh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ie(Oa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Vs(Ut),pt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function FC(i,r){switch(ym(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Vs(Ut),Ze(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return bi(r),null;case 31:if(r.memoizedState!==null){if(Hn(r),r.alternate===null)throw Error(s(340));Ca()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Hn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ca()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ie(Dt),null;case 4:return Ze(),null;case 10:return Vs(r.type),null;case 22:case 23:return Hn(r),Om(),i!==null&&ie(Oa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Vs(Ut),null;case 25:return null;default:return null}}function fE(i,r){switch(ym(r),r.tag){case 3:Vs(Ut),Ze();break;case 26:case 27:case 5:bi(r);break;case 4:Ze();break;case 31:r.memoizedState!==null&&Hn(r);break;case 13:Hn(r);break;case 19:ie(Dt);break;case 10:Vs(r.type);break;case 22:case 23:Hn(r),Om(),i!==null&&ie(Oa);break;case 24:Vs(Ut)}}function xc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==d)}}catch(A){st(r,r.return,A)}}function wr(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,d=r;var M=o,K=A;try{K()}catch(te){st(d,M,te)}}}c=c.next}while(c!==g)}}catch(te){st(r,r.return,te)}}function dE(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{i0(r,o)}catch(c){st(i,i.return,c)}}}function mE(i,r,o){o.props=ka(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){st(i,r,c)}}function Ac(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){st(i,r,d)}}function hs(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){st(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){st(i,r,d)}else o.current=null}function pE(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){st(i,i.return,d)}}function up(i,r,o){try{var c=i.stateNode;uN(c,i.type,o,r),c[Xt]=r}catch(d){st(i,i.return,d)}}function gE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Mr(i.type)||i.tag===4}function hp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Mr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ri));else if(c!==4&&(c===27&&Mr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(fp(i,r,o),i=i.sibling;i!==null;)fp(i,r,o),i=i.sibling}function zh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Mr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(zh(i,r,o),i=i.sibling;i!==null;)zh(i,r,o),i=i.sibling}function yE(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);ln(r,c,o),r[Lt]=i,r[Xt]=o}catch(g){st(i,i.return,g)}}var zs=!1,Ft=!1,dp=!1,_E=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function HC(i,r){if(i=i.containerInfo,Pp=lf,i=Nv(i),am(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,A=-1,M=-1,K=0,te=0,re=i,Q=null;t:for(;;){for(var X;re!==o||d!==0&&re.nodeType!==3||(A=T+d),re!==g||c!==0&&re.nodeType!==3||(M=T+c),re.nodeType===3&&(T+=re.nodeValue.length),(X=re.firstChild)!==null;)Q=re,re=X;for(;;){if(re===i)break t;if(Q===o&&++K===d&&(A=T),Q===g&&++te===c&&(M=T),(X=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=X}o=A===-1||M===-1?null:{start:A,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:i,selectionRange:o},lf=!1,Zt=r;Zt!==null;)if(r=Zt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Zt=i;else for(;Zt!==null;){switch(r=Zt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var _e=ka(o.type,d);i=c.getSnapshotBeforeUpdate(_e,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Se){st(o,o.return,Se)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Zt=i;break}Zt=r.return}}function vE(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Fs(i,o),c&4&&xc(5,o);break;case 1:if(Fs(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){st(o,o.return,T)}else{var d=ka(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){st(o,o.return,T)}}c&64&&dE(o),c&512&&Ac(o,o.return);break;case 3:if(Fs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{i0(i,r)}catch(T){st(o,o.return,T)}}break;case 27:r===null&&c&4&&yE(o);case 26:case 5:Fs(i,o),r===null&&c&4&&pE(o),c&512&&Ac(o,o.return);break;case 12:Fs(i,o);break;case 31:Fs(i,o),c&4&&bE(i,o);break;case 13:Fs(i,o),c&4&&xE(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=JC.bind(null,o),_N(i,o))));break;case 22:if(c=o.memoizedState!==null||zs,!c){r=r!==null&&r.memoizedState!==null||Ft,d=zs;var g=Ft;zs=c,(Ft=r)&&!g?Hs(i,o,(o.subtreeFlags&8772)!==0):Fs(i,o),zs=d,Ft=g}break;case 30:break;default:Fs(i,o)}}function EE(i){var r=i.alternate;r!==null&&(i.alternate=null,EE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&yo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var vt=null,In=!1;function Bs(i,r,o){for(o=o.child;o!==null;)TE(i,r,o),o=o.sibling}function TE(i,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(xi,o)}catch{}switch(o.tag){case 26:Ft||hs(o,r),Bs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||hs(o,r);var c=vt,d=In;Mr(o.type)&&(vt=o.stateNode,In=!1),Bs(i,r,o),Mc(o.stateNode),vt=c,In=d;break;case 5:Ft||hs(o,r);case 6:if(c=vt,d=In,vt=null,Bs(i,r,o),vt=c,In=d,vt!==null)if(In)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(g){st(o,r,g)}else try{vt.removeChild(o.stateNode)}catch(g){st(o,r,g)}break;case 18:vt!==null&&(In?(i=vt,dT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),tl(i)):dT(vt,o.stateNode));break;case 4:c=vt,d=In,vt=o.stateNode.containerInfo,In=!0,Bs(i,r,o),vt=c,In=d;break;case 0:case 11:case 14:case 15:wr(2,o,r),Ft||wr(4,o,r),Bs(i,r,o);break;case 1:Ft||(hs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&mE(o,r,c)),Bs(i,r,o);break;case 21:Bs(i,r,o);break;case 22:Ft=(c=Ft)||o.memoizedState!==null,Bs(i,r,o),Ft=c;break;default:Bs(i,r,o)}}function bE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{tl(i)}catch(o){st(r,r.return,o)}}}function xE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tl(i)}catch(o){st(r,r.return,o)}}function qC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new _E),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new _E),r;default:throw Error(s(435,i.tag))}}function Bh(i,r){var o=qC(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=ZC.bind(null,i,c);c.then(d,d)}})}function Cn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,T=r,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Mr(A.type)){vt=A.stateNode,In=!1;break e}break;case 5:vt=A.stateNode,In=!1;break e;case 3:case 4:vt=A.stateNode.containerInfo,In=!0;break e}A=A.return}if(vt===null)throw Error(s(160));TE(g,T,d),vt=null,In=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)AE(r,i),r=r.sibling}var Mi=null;function AE(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cn(r,i),Nn(i),c&4&&(wr(3,i,i.return),xc(3,i),wr(5,i,i.return));break;case 1:Cn(r,i),Nn(i),c&512&&(Ft||o===null||hs(o,o.return)),c&64&&zs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Mi;if(Cn(r,i),Nn(i),c&512&&(Ft||o===null||hs(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Xi]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),ln(g,c,o),g[Lt]=i,kt(g),c=g;break e;case"link":var T=AT("link","href",d).get(c+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}g=d.createElement(c),ln(g,c,o),d.head.appendChild(g);break;case"meta":if(T=AT("meta","content",d).get(c+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}g=d.createElement(c),ln(g,c,o),d.head.appendChild(g);break;default:throw Error(s(468,c))}g[Lt]=i,kt(g),c=g}i.stateNode=c}else ST(d,i.type,i.stateNode);else i.stateNode=xT(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?ST(d,i.type,i.stateNode):xT(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&up(i,i.memoizedProps,o.memoizedProps)}break;case 27:Cn(r,i),Nn(i),c&512&&(Ft||o===null||hs(o,o.return)),o!==null&&c&4&&up(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Cn(r,i),Nn(i),c&512&&(Ft||o===null||hs(o,o.return)),i.flags&32){d=i.stateNode;try{Rn(d,"")}catch(_e){st(i,i.return,_e)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,up(i,d,o!==null?o.memoizedProps:d)),c&1024&&(dp=!0);break;case 6:if(Cn(r,i),Nn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(_e){st(i,i.return,_e)}}break;case 3:if(sf=null,d=Mi,Mi=tf(r.containerInfo),Cn(r,i),Mi=d,Nn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{tl(r.containerInfo)}catch(_e){st(i,i.return,_e)}dp&&(dp=!1,SE(i));break;case 4:c=Mi,Mi=tf(i.stateNode.containerInfo),Cn(r,i),Nn(i),Mi=c;break;case 12:Cn(r,i),Nn(i);break;case 31:Cn(r,i),Nn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bh(i,c)));break;case 13:Cn(r,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hh=xt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bh(i,c)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=zs,te=Ft;if(zs=K||d,Ft=te||M,Cn(r,i),Ft=te,zs=K,Nn(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||zs||Ft||ja(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=M.stateNode;var re=M.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(_e){st(M,M.return,_e)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(_e){st(M,M.return,_e)}}}else if(r.tag===18){if(o===null){M=r;try{var X=M.stateNode;d?mT(X,!0):mT(M.stateNode,!1)}catch(_e){st(M,M.return,_e)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Bh(i,o))));break;case 19:Cn(r,i),Nn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bh(i,c)));break;case 30:break;case 21:break;default:Cn(r,i),Nn(i)}}function Nn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(gE(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=hp(i);zh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Rn(T,""),o.flags&=-33);var A=hp(i);zh(i,A,T);break;case 3:case 4:var M=o.stateNode.containerInfo,K=hp(i);fp(i,K,M);break;default:throw Error(s(161))}}catch(te){st(i,i.return,te)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function SE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;SE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Fs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)vE(i,r.alternate,r),r=r.sibling}function ja(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),ja(r);break;case 1:hs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&mE(r,r.return,o),ja(r);break;case 27:Mc(r.stateNode);case 26:case 5:hs(r,r.return),ja(r);break;case 22:r.memoizedState===null&&ja(r);break;case 30:ja(r);break;default:ja(r)}i=i.sibling}}function Hs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Hs(d,g,o),xc(4,g);break;case 1:if(Hs(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){st(c,c.return,K)}if(c=g,d=c.updateQueue,d!==null){var A=c.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)n0(M[d],A)}catch(K){st(c,c.return,K)}}o&&T&64&&dE(g),Ac(g,g.return);break;case 27:yE(g);case 26:case 5:Hs(d,g,o),o&&c===null&&T&4&&pE(g),Ac(g,g.return);break;case 12:Hs(d,g,o);break;case 31:Hs(d,g,o),o&&T&4&&bE(d,g);break;case 13:Hs(d,g,o),o&&T&4&&xE(d,g);break;case 22:g.memoizedState===null&&Hs(d,g,o),Ac(g,g.return);break;case 30:break;default:Hs(d,g,o)}r=r.sibling}}function mp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&uc(o))}function pp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&uc(i))}function Pi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wE(i,r,o,c),r=r.sibling}function wE(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(i,r,o,c),d&2048&&xc(9,r);break;case 1:Pi(i,r,o,c);break;case 3:Pi(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&uc(i)));break;case 12:if(d&2048){Pi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){st(r,r.return,M)}}else Pi(i,r,o,c);break;case 31:Pi(i,r,o,c);break;case 13:Pi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Pi(i,r,o,c):Sc(i,r):g._visibility&2?Pi(i,r,o,c):(g._visibility|=2,qo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&mp(T,r);break;case 24:Pi(i,r,o,c),d&2048&&pp(r.alternate,r);break;default:Pi(i,r,o,c)}}function qo(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,A=o,M=c,K=T.flags;switch(T.tag){case 0:case 11:case 15:qo(g,T,A,M,d),xc(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?qo(g,T,A,M,d):Sc(g,T):(te._visibility|=2,qo(g,T,A,M,d)),d&&K&2048&&mp(T.alternate,T);break;case 24:qo(g,T,A,M,d),d&&K&2048&&pp(T.alternate,T);break;default:qo(g,T,A,M,d)}r=r.sibling}}function Sc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:Sc(o,c),d&2048&&mp(c.alternate,c);break;case 24:Sc(o,c),d&2048&&pp(c.alternate,c);break;default:Sc(o,c)}r=r.sibling}}var wc=8192;function Go(i,r,o){if(i.subtreeFlags&wc)for(i=i.child;i!==null;)RE(i,r,o),i=i.sibling}function RE(i,r,o){switch(i.tag){case 26:Go(i,r,o),i.flags&wc&&i.memoizedState!==null&&NN(o,Mi,i.memoizedState,i.memoizedProps);break;case 5:Go(i,r,o);break;case 3:case 4:var c=Mi;Mi=tf(i.stateNode.containerInfo),Go(i,r,o),Mi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=wc,wc=16777216,Go(i,r,o),wc=c):Go(i,r,o));break;default:Go(i,r,o)}}function IE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Rc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Zt=c,NE(c,i)}IE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)CE(i),i=i.sibling}function CE(i){switch(i.tag){case 0:case 11:case 15:Rc(i),i.flags&2048&&wr(9,i,i.return);break;case 3:Rc(i);break;case 12:Rc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Fh(i)):Rc(i);break;default:Rc(i)}}function Fh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Zt=c,NE(c,i)}IE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:wr(8,r,r.return),Fh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Fh(r));break;default:Fh(r)}i=i.sibling}}function NE(i,r){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:wr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:uc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Zt=c;else e:for(o=i;Zt!==null;){c=Zt;var d=c.sibling,g=c.return;if(EE(c),c===o){Zt=null;break e}if(d!==null){d.return=g,Zt=d;break e}Zt=g}}}var GC={getCacheForType:function(i){var r=an(Ut),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return an(Ut).controller.signal}},YC=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ut=null,Ue=null,Be=0,it=0,qn=null,Rr=!1,Yo=!1,gp=!1,qs=0,St=0,Ir=0,Ua=0,yp=0,Gn=0,Ko=0,Ic=null,Dn=null,_p=!1,Hh=0,DE=0,qh=1/0,Gh=null,Cr=null,Kt=0,Nr=null,$o=null,Gs=0,vp=0,Ep=null,OE=null,Cc=0,Tp=null;function Yn(){return(Xe&2)!==0&&Be!==0?Be&-Be:J.T!==null?Rp():Yu()}function ME(){if(Gn===0)if((Be&536870912)===0||Ye){var i=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),Gn=i}else Gn=536870912;return i=Fn.current,i!==null&&(i.flags|=32),Gn}function On(i,r,o){(i===ut&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(Qo(i,0),Dr(i,Be,Gn,!1)),da(i,o),((Xe&2)===0||i!==ut)&&(i===ut&&((Xe&2)===0&&(Ua|=o),St===4&&Dr(i,Be,Gn,!1)),fs(i))}function PE(i,r,o){if((Xe&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Ai(i,r),d=c?QC(i,r):xp(i,r,!0),g=c;do{if(d===0){Yo&&!c&&Dr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!KC(o)){d=xp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var A=i;d=Ic;var M=A.current.memoizedState.isDehydrated;if(M&&(Qo(A,T).flags|=256),T=xp(A,T,!1),T!==2){if(gp&&!M){A.errorRecoveryDisabledLanes|=g,Ua|=g,d=4;break e}g=Dn,Dn=d,g!==null&&(Dn===null?Dn=g:Dn.push.apply(Dn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Qo(i,0),Dr(i,r,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(c,r,Gn,!Rr);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Hh+300-xt(),10<d)){if(Dr(c,r,Gn,!Rr),$i(c,0,!0)!==0)break e;Gs=r,c.timeoutHandle=hT(VE.bind(null,c,o,Dn,Gh,_p,r,Gn,Ua,Ko,Rr,g,"Throttled",-0,0),d);break e}VE(c,o,Dn,Gh,_p,r,Gn,Ua,Ko,Rr,g,null,-0,0)}}break}while(!0);fs(i)}function VE(i,r,o,c,d,g,T,A,M,K,te,re,Q,X){if(i.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},RE(r,g,re);var _e=(g&62914560)===g?Hh-xt():(g&4194048)===g?DE-xt():0;if(_e=DN(re,_e),_e!==null){Gs=g,i.cancelPendingCommit=_e(HE.bind(null,i,r,g,o,c,d,T,A,M,te,re,null,Q,X)),Dr(i,g,T,!K);return}}HE(i,r,g,o,c,d,T,A,M)}function KC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!zn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(i,r,o,c){r&=~yp,r&=~Ua,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var g=31-Ct(d),T=1<<g;c[g]=-1,d&=~T}o!==0&&ma(i,o,r)}function Yh(){return(Xe&6)===0?(Nc(0),!1):!0}function bp(){if(Ue!==null){if(it===0)var i=Ue.return;else i=Ue,Ps=Na=null,jm(i),Uo=null,fc=0,i=Ue;for(;i!==null;)fE(i.alternate,i),i=i.return;Ue=null}}function Qo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,dN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Gs=0,bp(),ut=i,Ue=o=Os(i.current,null),Be=r,it=0,qn=null,Rr=!1,Yo=Ai(i,r),gp=!1,Ko=Gn=yp=Ua=Ir=St=0,Dn=Ic=null,_p=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-Ct(c),g=1<<d;r|=i[d],c&=~g}return qs=r,dh(),o}function LE(i,r){Le=null,J.H=Ec,r===jo||r===Th?(r=Jv(),it=3):r===wm?(r=Jv(),it=4):it=r===ep?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,qn=r,Ue===null&&(St=1,Vh(i,oi(r,i.current)))}function kE(){var i=Fn.current;return i===null?!0:(Be&4194048)===Be?hi===null:(Be&62914560)===Be||(Be&536870912)!==0?i===hi:!1}function jE(){var i=J.H;return J.H=Ec,i===null?Ec:i}function UE(){var i=J.A;return J.A=GC,i}function Kh(){St=4,Rr||(Be&4194048)!==Be&&Fn.current!==null||(Yo=!0),(Ir&134217727)===0&&(Ua&134217727)===0||ut===null||Dr(ut,Be,Gn,!1)}function xp(i,r,o){var c=Xe;Xe|=2;var d=jE(),g=UE();(ut!==i||Be!==r)&&(Gh=null,Qo(i,r)),r=!1;var T=St;e:do try{if(it!==0&&Ue!==null){var A=Ue,M=qn;switch(it){case 8:bp(),T=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(r=!0);var K=it;if(it=0,qn=null,Wo(i,A,M,K),o&&Yo){T=0;break e}break;default:K=it,it=0,qn=null,Wo(i,A,M,K)}}$C(),T=St;break}catch(te){LE(i,te)}while(!0);return r&&i.shellSuspendCounter++,Ps=Na=null,Xe=c,J.H=d,J.A=g,Ue===null&&(ut=null,Be=0,dh()),T}function $C(){for(;Ue!==null;)zE(Ue)}function QC(i,r){var o=Xe;Xe|=2;var c=jE(),d=UE();ut!==i||Be!==r?(Gh=null,qh=xt()+500,Qo(i,r)):Yo=Ai(i,r);e:do try{if(it!==0&&Ue!==null){r=Ue;var g=qn;t:switch(it){case 1:it=0,qn=null,Wo(i,r,g,1);break;case 2:case 9:if(Wv(g)){it=0,qn=null,BE(r);break}r=function(){it!==2&&it!==9||ut!==i||(it=7),fs(i)},g.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Wv(g)?(it=0,qn=null,BE(r)):(it=0,qn=null,Wo(i,r,g,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var A=Ue;if(T?wT(T):A.stateNode.complete){it=0,qn=null;var M=A.sibling;if(M!==null)Ue=M;else{var K=A.return;K!==null?(Ue=K,$h(K)):Ue=null}break t}}it=0,qn=null,Wo(i,r,g,5);break;case 6:it=0,qn=null,Wo(i,r,g,6);break;case 8:bp(),St=6;break e;default:throw Error(s(462))}}WC();break}catch(te){LE(i,te)}while(!0);return Ps=Na=null,J.H=c,J.A=d,Xe=o,Ue!==null?0:(ut=null,Be=0,dh(),St)}function WC(){for(;Ue!==null&&!Zn();)zE(Ue)}function zE(i){var r=uE(i.alternate,i,qs);i.memoizedProps=i.pendingProps,r===null?$h(i):Ue=r}function BE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=sE(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=sE(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:jm(r);default:fE(o,r),r=Ue=Uv(r,qs),r=uE(o,r,qs)}i.memoizedProps=i.pendingProps,r===null?$h(i):Ue=r}function Wo(i,r,o,c){Ps=Na=null,jm(r),Uo=null,fc=0;var d=r.return;try{if(jC(i,d,r,o,Be)){St=1,Vh(i,oi(o,i.current)),Ue=null;return}}catch(g){if(d!==null)throw Ue=d,g;St=1,Vh(i,oi(o,i.current)),Ue=null;return}r.flags&32768?(Ye||c===1?i=!0:Yo||(Be&536870912)!==0?i=!1:(Rr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),FE(r,i)):$h(r)}function $h(i){var r=i;do{if((r.flags&32768)!==0){FE(r,Rr);return}i=r.return;var o=BC(r.alternate,r,qs);if(o!==null){Ue=o;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=i}while(r!==null);St===0&&(St=5)}function FE(i,r){do{var o=FC(i.alternate,i);if(o!==null){o.flags&=32767,Ue=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=o}while(i!==null);St=6,Ue=null}function HE(i,r,o,c,d,g,T,A,M){i.cancelPendingCommit=null;do Qh();while(Kt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=hm,nm(i,o,g,T,A,M),i===ut&&(Ue=ut=null,Be=0),$o=r,Nr=i,Gs=o,vp=g,Ep=d,OE=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eN(Rs,function(){return $E(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,d=$.p,$.p=2,T=Xe,Xe|=4;try{HC(i,r,o)}finally{Xe=T,$.p=d,J.T=c}}Kt=1,qE(),GE(),YE()}}function qE(){if(Kt===1){Kt=0;var i=Nr,r=$o,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=$.p;$.p=2;var d=Xe;Xe|=4;try{AE(r,i);var g=Vp,T=Nv(i.containerInfo),A=g.focusedElem,M=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&Cv(A.ownerDocument.documentElement,A)){if(M!==null&&am(A)){var K=M.start,te=M.end;if(te===void 0&&(te=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(te,A.value.length);else{var re=A.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),_e=A.textContent.length,Se=Math.min(M.start,_e),ct=M.end===void 0?Se:Math.min(M.end,_e);!X.extend&&Se>ct&&(T=ct,ct=Se,Se=T);var F=Iv(A,Se),U=Iv(A,ct);if(F&&U&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var Y=re.createRange();Y.setStart(F.node,F.offset),X.removeAllRanges(),Se>ct?(X.addRange(Y),X.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),X.addRange(Y))}}}}for(re=[],X=A;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ne=re[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}lf=!!Pp,Vp=Pp=null}finally{Xe=d,$.p=c,J.T=o}}i.current=r,Kt=2}}function GE(){if(Kt===2){Kt=0;var i=Nr,r=$o,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=$.p;$.p=2;var d=Xe;Xe|=4;try{vE(i,r.alternate,r)}finally{Xe=d,$.p=c,J.T=o}}Kt=3}}function YE(){if(Kt===4||Kt===3){Kt=0,ho();var i=Nr,r=$o,o=Gs,c=OE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,$o=Nr=null,KE(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Cr=null),Is(o),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(xi,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=J.T,d=$.p,$.p=2,J.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var A=c[T];g(A.value,{componentStack:A.stack})}}finally{J.T=r,$.p=d}}(Gs&3)!==0&&Qh(),fs(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Tp?Cc++:(Cc=0,Tp=i):Cc=0,Nc(0)}}function KE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,uc(r)))}function Qh(){return qE(),GE(),YE(),$E()}function $E(){if(Kt!==5)return!1;var i=Nr,r=vp;vp=0;var o=Is(Gs),c=J.T,d=$.p;try{$.p=32>o?32:o,J.T=null,o=Ep,Ep=null;var g=Nr,T=Gs;if(Kt=0,$o=Nr=null,Gs=0,(Xe&6)!==0)throw Error(s(331));var A=Xe;if(Xe|=4,CE(g.current),wE(g,g.current,T,o),Xe=A,Nc(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(xi,g)}catch{}return!0}finally{$.p=d,J.T=c,KE(i,r)}}function QE(i,r,o){r=oi(o,r),r=Zm(i.stateNode,r,2),i=xr(i,r,2),i!==null&&(da(i,2),fs(i))}function st(i,r,o){if(i.tag===3)QE(i,i,o);else for(;r!==null;){if(r.tag===3){QE(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Cr===null||!Cr.has(c))){i=oi(o,i),o=W0(2),c=xr(r,o,2),c!==null&&(X0(o,c,r,i),da(c,2),fs(c));break}}r=r.return}}function Ap(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new YC;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(gp=!0,d.add(o),i=XC.bind(null,i,r,o),r.then(i,i))}function XC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ut===i&&(Be&o)===o&&(St===4||St===3&&(Be&62914560)===Be&&300>xt()-Hh?(Xe&2)===0&&Qo(i,0):yp|=o,Ko===Be&&(Ko=0)),fs(i)}function WE(i,r){r===0&&(r=Gu()),i=Ra(i,r),i!==null&&(da(i,r),fs(i))}function JC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),WE(i,o)}function ZC(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),WE(i,o)}function eN(i,r){return et(i,r)}var Wh=null,Xo=null,Sp=!1,Xh=!1,wp=!1,Or=0;function fs(i){i!==Xo&&i.next===null&&(Xo===null?Wh=Xo=i:Xo=Xo.next=i),Xh=!0,Sp||(Sp=!0,nN())}function Nc(i,r){if(!wp&&Xh){wp=!0;do for(var o=!1,c=Wh;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Ct(42|i)+1)-1,g&=d&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,eT(c,g))}else g=Be,g=$i(c,c===ut?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ai(c,g)||(o=!0,eT(c,g));c=c.next}while(o);wp=!1}}function tN(){XE()}function XE(){Xh=Sp=!1;var i=0;Or!==0&&fN()&&(i=Or);for(var r=xt(),o=null,c=Wh;c!==null;){var d=c.next,g=JE(c,r);g===0?(c.next=null,o===null?Wh=d:o.next=d,d===null&&(Xo=o)):(o=c,(i!==0||(g&3)!==0)&&(Xh=!0)),c=d}Kt!==0&&Kt!==5||Nc(i),Or!==0&&(Or=0)}function JE(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Ct(g),A=1<<T,M=d[T];M===-1?((A&o)===0||(A&c)!==0)&&(d[T]=tm(A,r)):M<=r&&(i.expiredLanes|=A),g&=~A}if(r=ut,o=Be,o=$i(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(it===2||it===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&tn(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ai(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&tn(c),Is(o)){case 2:case 8:o=kn;break;case 32:o=Rs;break;case 268435456:o=mo;break;default:o=Rs}return c=ZE.bind(null,i),o=et(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&tn(c),i.callbackPriority=2,i.callbackNode=null,2}function ZE(i,r){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Qh()&&i.callbackNode!==o)return null;var c=Be;return c=$i(i,i===ut?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(PE(i,c,r),JE(i,xt()),i.callbackNode!=null&&i.callbackNode===o?ZE.bind(null,i):null)}function eT(i,r){if(Qh())return null;PE(i,r,!0)}function nN(){mN(function(){(Xe&6)!==0?et(Ln,tN):XE()})}function Rp(){if(Or===0){var i=Lo;i===0&&(i=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),Or=i}return Or}function tT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:To(""+i)}function nT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function iN(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var g=tT((d[Xt]||null).action),T=c.submitter;T&&(r=(r=T[Xt]||null)?tT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var A=new rs("action","action",null,c,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Or!==0){var M=T?nT(d,T):new FormData(d);Km(o,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(A.preventDefault(),M=T?nT(d,T):new FormData(d),Km(o,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var Ip=0;Ip<um.length;Ip++){var Cp=um[Ip],sN=Cp.toLowerCase(),rN=Cp[0].toUpperCase()+Cp.slice(1);Oi(sN,"on"+rN)}Oi(Mv,"onAnimationEnd"),Oi(Pv,"onAnimationIteration"),Oi(Vv,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(TC,"onTransitionRun"),Oi(bC,"onTransitionStart"),Oi(xC,"onTransitionCancel"),Oi(Lv,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),es("onBeforeInput",["compositionend","keypress","textInput","paste"]),es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function iT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var A=c[T],M=A.instance,K=A.currentTarget;if(A=A.listener,M!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=K;try{g(d)}catch(te){fh(te)}d.currentTarget=null,g=M}else for(T=0;T<c.length;T++){if(A=c[T],M=A.instance,K=A.currentTarget,A=A.listener,M!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=K;try{g(d)}catch(te){fh(te)}d.currentTarget=null,g=M}}}}function ze(i,r){var o=r[go];o===void 0&&(o=r[go]=new Set);var c=i+"__bubble";o.has(c)||(sT(r,i,2,!1),o.add(c))}function Np(i,r,o){var c=0;r&&(c|=4),sT(o,i,c,r)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Dp(i){if(!i[Jh]){i[Jh]=!0,Hl.forEach(function(o){o!=="selectionchange"&&(aN.has(o)||Np(o,!1,i),Np(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Jh]||(r[Jh]=!0,Np("selectionchange",!1,r))}}function sT(i,r,o,c){switch(MT(r)){case 2:var d=PN;break;case 8:d=VN;break;default:d=Yp}o=d.bind(null,r,o,i),d=void 0,!va||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Op(i,r,o,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===d)break;if(T===4)for(T=c.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;A!==null;){if(T=Ji(A),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){c=g=T;continue e}A=A.parentNode}}c=c.return}dr(function(){var K=g,te=ii(o),re=[];e:{var Q=kv.get(i);if(Q!==void 0){var X=rs,_e=i;switch(i){case"keypress":if(Ta(o)===0)break e;case"keydown":case"keyup":X=ch;break;case"focusin":_e="focus",X=xa;break;case"focusout":_e="blur",X=xa;break;case"beforeblur":case"afterblur":X=xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Mv:case Pv:case Vv:X=nh;break;case Lv:X=w;break;case"scroll":case"scrollend":X=tc;break;case"wheel":X=W;break;case"copy":case"cut":case"paste":X=ih;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ds;break;case"toggle":case"beforetoggle":X=Ve}var Se=(r&4)!==0,ct=!Se&&(i==="scroll"||i==="scrollend"),F=Se?Q!==null?Q+"Capture":null:Q;Se=[];for(var U=K,Y;U!==null;){var ne=U;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||F===null||(ne=Ii(U,F),ne!=null&&Se.push(Oc(U,ne,Y))),ct)break;U=U.return}0<Se.length&&(Q=new X(Q,_e,null,o,te),re.push({event:Q,listeners:Se}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Q&&o!==Jl&&(_e=o.relatedTarget||o.fromElement)&&(Ji(_e)||_e[Wi]))break e;if((X||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(_e=o.relatedTarget||o.toElement,X=K,_e=_e?Ji(_e):null,_e!==null&&(ct=l(_e),Se=_e.tag,_e!==ct||Se!==5&&Se!==27&&Se!==6)&&(_e=null)):(X=null,_e=K),X!==_e)){if(Se=nc,ne="onMouseLeave",F="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Ds,ne="onPointerLeave",F="onPointerEnter",U="pointer"),ct=X==null?Q:jn(X),Y=_e==null?Q:jn(_e),Q=new Se(ne,U+"leave",X,o,te),Q.target=ct,Q.relatedTarget=Y,ne=null,Ji(te)===K&&(Se=new Se(F,U+"enter",_e,o,te),Se.target=Y,Se.relatedTarget=ct,ne=Se),ct=ne,X&&_e)t:{for(Se=oN,F=X,U=_e,Y=0,ne=F;ne;ne=Se(ne))Y++;ne=0;for(var xe=U;xe;xe=Se(xe))ne++;for(;0<Y-ne;)F=Se(F),Y--;for(;0<ne-Y;)U=Se(U),ne--;for(;Y--;){if(F===U||U!==null&&F===U.alternate){Se=F;break t}F=Se(F),U=Se(U)}Se=null}else Se=null;X!==null&&rT(re,Q,X,Se,!1),_e!==null&&ct!==null&&rT(re,ct,_e,Se,!0)}}e:{if(Q=K?jn(K):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var $e=bv;else if(Ev(Q))if(xv)$e=_C;else{$e=gC;var Ee=pC}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Eo(K.elementType)&&($e=bv):$e=yC;if($e&&($e=$e(i,K))){Tv(re,$e,o,te);break e}Ee&&Ee(i,Q,K),i==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Ql(Q,"number",Q.value)}switch(Ee=K?jn(K):window,i){case"focusin":(Ev(Ee)||Ee.contentEditable==="true")&&(Io=Ee,om=K,oc=null);break;case"focusout":oc=om=Io=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,Dv(re,o,te);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":Dv(re,o,te)}var ke;if(We)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ro?Aa(i,o)&&(Fe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(ls&&o.locale!=="ko"&&(Ro||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ro&&(ke=ec()):(ss=te,Zl="value"in ss?ss.value:ss.textContent,Ro=!0)),Ee=Zh(K,Fe),0<Ee.length&&(Fe=new os(Fe,i,null,o,te),re.push({event:Fe,listeners:Ee}),ke?Fe.data=ke:(ke=wo(o),ke!==null&&(Fe.data=ke)))),(ke=ri?hC(i,o):fC(i,o))&&(Fe=Zh(K,"onBeforeInput"),0<Fe.length&&(Ee=new os("onBeforeInput","beforeinput",null,o,te),re.push({event:Ee,listeners:Fe}),Ee.data=ke)),iN(re,i,K,o,te)}iT(re,r)})}function Oc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Zh(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Ii(i,o),d!=null&&c.unshift(Oc(i,d,g)),d=Ii(i,r),d!=null&&c.push(Oc(i,d,g))),i.tag===3)return c;i=i.return}return[]}function oN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function rT(i,r,o,c,d){for(var g=r._reactName,T=[];o!==null&&o!==c;){var A=o,M=A.alternate,K=A.stateNode;if(A=A.tag,M!==null&&M===c)break;A!==5&&A!==26&&A!==27||K===null||(M=K,d?(K=Ii(o,g),K!=null&&T.unshift(Oc(o,K,M))):d||(K=Ii(o,g),K!=null&&T.push(Oc(o,K,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var lN=/\r\n?/g,cN=/\u0000|\uFFFD/g;function aT(i){return(typeof i=="string"?i:""+i).replace(lN,`
`).replace(cN,"")}function oT(i,r){return r=aT(r),aT(i)===r}function lt(i,r,o,c,d,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Rn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Rn(i,""+c);break;case"className":Un(i,"class",c);break;case"tabIndex":Un(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(i,o,c);break;case"style":Xl(i,c,g);break;case"data":if(r!=="object"){Un(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&lt(i,r,"name",d.name,d,null),lt(i,r,"formEncType",d.formEncType,d,null),lt(i,r,"formMethod",d.formMethod,d,null),lt(i,r,"formTarget",d.formTarget,d,null)):(lt(i,r,"encType",d.encType,d,null),lt(i,r,"method",d.method,d,null),lt(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ri);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=To(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),_o(i,"popover",c);break;case"xlinkActuate":jt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":jt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":jt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":jt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":jt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":jt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":jt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":jt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":jt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":_o(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zu.get(o)||o,_o(i,o,c))}}function Mp(i,r,o,c,d,g){switch(o){case"style":Xl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Rn(i,c):(typeof c=="number"||typeof c=="bigint")&&Rn(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ql.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Xt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):_o(i,o,c)}}}function ln(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:lt(i,r,g,T,o,null)}}d&&lt(i,r,"srcSet",o.srcSet,o,null),c&&lt(i,r,"src",o.src,o,null);return;case"input":ze("invalid",i);var A=g=T=d=null,M=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":d=te;break;case"type":T=te;break;case"checked":M=te;break;case"defaultChecked":K=te;break;case"value":g=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:lt(i,r,c,te,o,null)}}Wu(i,g,A,M,K,T,d,!1);return;case"select":ze("invalid",i),c=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:lt(i,r,d,A,o,null)}r=g,o=T,i.multiple=!!c,r!=null?cr(i,!!c,r,!1):o!=null&&cr(i,!!c,o,!0);return;case"textarea":ze("invalid",i),g=d=c=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:lt(i,r,T,A,o,null)}ur(i,c,d,g);return;case"option":for(M in o)o.hasOwnProperty(M)&&(c=o[M],c!=null)&&(M==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":lt(i,r,M,c,o,null));return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<Dc.length;c++)ze(Dc[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:lt(i,r,K,c,o,null)}return;default:if(Eo(r)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&Mp(i,r,te,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&lt(i,r,A,c,o,null))}function uN(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,A=null,M=null,K=null,te=null;for(X in o){var re=o[X];if(o.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=re;default:c.hasOwnProperty(X)||lt(i,r,X,null,c,re)}}for(var Q in c){var X=c[Q];if(re=o[Q],c.hasOwnProperty(Q)&&(X!=null||re!=null))switch(Q){case"type":g=X;break;case"name":d=X;break;case"checked":K=X;break;case"defaultChecked":te=X;break;case"value":T=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==re&&lt(i,r,Q,X,c,re)}}vo(i,T,A,M,K,te,g,d);return;case"select":X=T=A=Q=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":X=M;default:c.hasOwnProperty(g)||lt(i,r,g,null,c,M)}for(d in c)if(g=c[d],M=o[d],c.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":Q=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==M&&lt(i,r,d,g,c,M)}r=A,o=T,c=X,Q!=null?cr(i,!!o,Q,!1):!!c!=!!o&&(r!=null?cr(i,!!o,r,!0):cr(i,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:lt(i,r,A,null,c,d)}for(T in c)if(d=c[T],g=o[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Q=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&lt(i,r,T,d,c,g)}Xu(i,Q,X);return;case"option":for(var _e in o)Q=o[_e],o.hasOwnProperty(_e)&&Q!=null&&!c.hasOwnProperty(_e)&&(_e==="selected"?i.selected=!1:lt(i,r,_e,null,c,Q));for(M in c)Q=c[M],X=o[M],c.hasOwnProperty(M)&&Q!==X&&(Q!=null||X!=null)&&(M==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":lt(i,r,M,Q,c,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)Q=o[Se],o.hasOwnProperty(Se)&&Q!=null&&!c.hasOwnProperty(Se)&&lt(i,r,Se,null,c,Q);for(K in c)if(Q=c[K],X=o[K],c.hasOwnProperty(K)&&Q!==X&&(Q!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:lt(i,r,K,Q,c,X)}return;default:if(Eo(r)){for(var ct in o)Q=o[ct],o.hasOwnProperty(ct)&&Q!==void 0&&!c.hasOwnProperty(ct)&&Mp(i,r,ct,void 0,c,Q);for(te in c)Q=c[te],X=o[te],!c.hasOwnProperty(te)||Q===X||Q===void 0&&X===void 0||Mp(i,r,te,Q,c,X);return}}for(var F in o)Q=o[F],o.hasOwnProperty(F)&&Q!=null&&!c.hasOwnProperty(F)&&lt(i,r,F,null,c,Q);for(re in c)Q=c[re],X=o[re],!c.hasOwnProperty(re)||Q===X||Q==null&&X==null||lt(i,r,re,Q,c,X)}function lT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,T=d.initiatorType,A=d.duration;if(g&&A&&lT(T)){for(T=0,A=d.responseEnd,c+=1;c<o.length;c++){var M=o[c],K=M.startTime;if(K>A)break;var te=M.transferSize,re=M.initiatorType;te&&lT(re)&&(M=M.responseEnd,T+=te*(M<A?1:(A-K)/(M-K)))}if(--c,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Pp=null,Vp=null;function ef(i){return i.nodeType===9?i:i.ownerDocument}function cT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Lp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var kp=null;function fN(){var i=window.event;return i&&i.type==="popstate"?i===kp?!1:(kp=i,!0):(kp=null,!1)}var hT=typeof setTimeout=="function"?setTimeout:void 0,dN=typeof clearTimeout=="function"?clearTimeout:void 0,fT=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof fT<"u"?function(i){return fT.resolve(null).then(i).catch(pN)}:hT;function pN(i){setTimeout(function(){throw i})}function Mr(i){return i==="head"}function dT(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),tl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Mc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Mc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,A=g.nodeName;g[Xi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Mc(i.ownerDocument.body);o=d}while(o);tl(r)}function mT(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jp(o),yo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function gN(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Xi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=fi(i.nextSibling),i===null)break}return null}function yN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=fi(i.nextSibling),i===null))return null;return i}function pT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=fi(i.nextSibling),i===null))return null;return i}function Up(i){return i.data==="$?"||i.data==="$~"}function zp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function _N(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function fi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Bp=null;function gT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return fi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function yT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function _T(i,r,o){switch(r=ef(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Mc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);yo(i)}var di=new Map,vT=new Set;function tf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ys=$.d;$.d={f:vN,r:EN,D:TN,C:bN,L:xN,m:AN,X:wN,S:SN,M:RN};function vN(){var i=Ys.f(),r=Yh();return i||r}function EN(i){var r=ni(i);r!==null&&r.tag===5&&r.type==="form"?L0(r):Ys.r(i)}var Jo=typeof document>"u"?null:document;function ET(i,r,o){var c=Jo;if(c&&typeof r=="string"&&r){var d=wn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),vT.has(d)||(vT.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),ln(r,"link",i),kt(r),c.head.appendChild(r)))}}function TN(i){Ys.D(i),ET("dns-prefetch",i,null)}function bN(i,r){Ys.C(i,r),ET("preconnect",i,r)}function xN(i,r,o){Ys.L(i,r,o);var c=Jo;if(c&&i&&r){var d='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+wn(o.imageSizes)+'"]')):d+='[href="'+wn(i)+'"]';var g=d;switch(r){case"style":g=Zo(i);break;case"script":g=el(i)}di.has(g)||(i=E({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),di.set(g,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Pc(g))||r==="script"&&c.querySelector(Vc(g))||(r=c.createElement("link"),ln(r,"link",i),kt(r),c.head.appendChild(r)))}}function AN(i,r){Ys.m(i,r);var o=Jo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+wn(c)+'"][href="'+wn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=el(i)}if(!di.has(g)&&(i=E({rel:"modulepreload",href:i},r),di.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vc(g)))return}c=o.createElement("link"),ln(c,"link",i),kt(c),o.head.appendChild(c)}}}function SN(i,r,o){Ys.S(i,r,o);var c=Jo;if(c&&i){var d=Zi(c).hoistableStyles,g=Zo(i);r=r||"default";var T=d.get(g);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(Pc(g)))A.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},o),(o=di.get(g))&&Fp(i,o);var M=T=c.createElement("link");kt(M),ln(M,"link",i),M._p=new Promise(function(K,te){M.onload=K,M.onerror=te}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,nf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:A},d.set(g,T)}}}function wN(i,r){Ys.X(i,r);var o=Jo;if(o&&i){var c=Zi(o).hoistableScripts,d=el(i),g=c.get(d);g||(g=o.querySelector(Vc(d)),g||(i=E({src:i,async:!0},r),(r=di.get(d))&&Hp(i,r),g=o.createElement("script"),kt(g),ln(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function RN(i,r){Ys.M(i,r);var o=Jo;if(o&&i){var c=Zi(o).hoistableScripts,d=el(i),g=c.get(d);g||(g=o.querySelector(Vc(d)),g||(i=E({src:i,async:!0,type:"module"},r),(r=di.get(d))&&Hp(i,r),g=o.createElement("script"),kt(g),ln(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function TT(i,r,o,c){var d=(d=Ce.current)?tf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Zo(o.href),o=Zi(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Zo(o.href);var g=Zi(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(Pc(i)))&&!g._p&&(T.instance=g,T.state.loading=5),di.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},di.set(i,o),g||IN(d,i,o,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=el(o),o=Zi(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Zo(i){return'href="'+wn(i)+'"'}function Pc(i){return'link[rel="stylesheet"]['+i+"]"}function bT(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function IN(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),ln(r,"link",o),kt(r),i.head.appendChild(r))}function el(i){return'[src="'+wn(i)+'"]'}function Vc(i){return"script[async]"+i}function xT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+wn(o.href)+'"]');if(c)return r.instance=c,kt(c),c;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),kt(c),ln(c,"style",d),nf(c,o.precedence,i),r.instance=c;case"stylesheet":d=Zo(o.href);var g=i.querySelector(Pc(d));if(g)return r.state.loading|=4,r.instance=g,kt(g),g;c=bT(o),(d=di.get(d))&&Fp(c,d),g=(i.ownerDocument||i).createElement("link"),kt(g);var T=g;return T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),ln(g,"link",c),r.state.loading|=4,nf(g,o.precedence,i),r.instance=g;case"script":return g=el(o.src),(d=i.querySelector(Vc(g)))?(r.instance=d,kt(d),d):(c=o,(d=di.get(g))&&(c=E({},o),Hp(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),kt(d),ln(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,nf(c,o.precedence,i));return r.instance}function nf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===r)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Fp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Hp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var sf=null;function AT(i,r,o){if(sf===null){var c=new Map,d=sf=new Map;d.set(o,c)}else d=sf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Xi]||g[Lt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var A=c.get(T);A?A.push(g):c.set(T,[g])}}return c}function ST(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function CN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function NN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Zo(c.href),g=r.querySelector(Pc(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=rf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,kt(g);return}g=r.ownerDocument||r,c=bT(c),(d=di.get(d))&&Fp(c,d),g=g.createElement("link"),kt(g);var T=g;T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),ln(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=rf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var qp=0;function DN(i,r){return i.stylesheets&&i.count===0&&of(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&of(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&qp===0&&(qp=62500*hN());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&of(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>qp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function rf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)of(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var af=null;function of(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,af=new Map,r.forEach(ON,i),af=null,rf.call(i))}function ON(i,r){if(!(r.state.loading&4)){var o=af.get(i);if(o)var c=o.get(null);else{o=new Map,af.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,d),o.set(T,d),this.count++,c=rf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Lc={$$typeof:H,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function MN(i,r,o,c,d,g,T,A,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function RT(i,r,o,c,d,g,T,A,M,K,te,re){return i=new MN(i,r,o,T,M,K,te,re,A),r=1,g===!0&&(r|=24),g=Bn(3,null,null,r),i.current=g,g.stateNode=i,r=xm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Rm(g),i}function IT(i){return i?(i=Do,i):Do}function CT(i,r,o,c,d,g){d=IT(d),c.context===null?c.context=d:c.pendingContext=d,c=br(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=xr(i,c,r),o!==null&&(On(o,i,r),mc(o,i,r))}function NT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Gp(i,r){NT(i,r),(i=i.alternate)&&NT(i,r)}function DT(i){if(i.tag===13||i.tag===31){var r=Ra(i,67108864);r!==null&&On(r,i,67108864),Gp(i,67108864)}}function OT(i){if(i.tag===13||i.tag===31){var r=Yn();r=pa(r);var o=Ra(i,r);o!==null&&On(o,i,r),Gp(i,r)}}var lf=!0;function PN(i,r,o,c){var d=J.T;J.T=null;var g=$.p;try{$.p=2,Yp(i,r,o,c)}finally{$.p=g,J.T=d}}function VN(i,r,o,c){var d=J.T;J.T=null;var g=$.p;try{$.p=8,Yp(i,r,o,c)}finally{$.p=g,J.T=d}}function Yp(i,r,o,c){if(lf){var d=Kp(c);if(d===null)Op(i,r,c,cf,o),PT(i,c);else if(kN(d,i,r,o,c))c.stopPropagation();else if(PT(i,c),r&4&&-1<LN.indexOf(i)){for(;d!==null;){var g=ni(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ki(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var M=1<<31-Ct(T);A.entanglements[1]|=M,T&=~M}fs(g),(Xe&6)===0&&(qh=xt()+500,Nc(0))}}break;case 31:case 13:A=Ra(g,2),A!==null&&On(A,g,2),Yh(),Gp(g,2)}if(g=Kp(c),g===null&&Op(i,r,c,cf,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Op(i,r,c,null,o)}}function Kp(i){return i=ii(i),$p(i)}var cf=null;function $p(i){if(cf=null,i=Ji(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return cf=i,null}function MT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ei()){case Ln:return 2;case kn:return 8;case Rs:case fo:return 32;case mo:return 268435456;default:return 32}default:return 32}}var Qp=!1,Pr=null,Vr=null,Lr=null,kc=new Map,jc=new Map,kr=[],LN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PT(i,r){switch(i){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":kc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(r.pointerId)}}function Uc(i,r,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=ni(r),r!==null&&DT(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function kN(i,r,o,c,d){switch(r){case"focusin":return Pr=Uc(Pr,i,r,o,c,d),!0;case"dragenter":return Vr=Uc(Vr,i,r,o,c,d),!0;case"mouseover":return Lr=Uc(Lr,i,r,o,c,d),!0;case"pointerover":var g=d.pointerId;return kc.set(g,Uc(kc.get(g)||null,i,r,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,jc.set(g,Uc(jc.get(g)||null,i,r,o,c,d)),!0}return!1}function VT(i){var r=Ji(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Si(i.priority,function(){OT(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Si(i.priority,function(){OT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Kp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Jl=c,o.target.dispatchEvent(c),Jl=null}else return r=ni(o),r!==null&&DT(r),i.blockedOn=o,!1;r.shift()}return!0}function LT(i,r,o){uf(i)&&o.delete(r)}function jN(){Qp=!1,Pr!==null&&uf(Pr)&&(Pr=null),Vr!==null&&uf(Vr)&&(Vr=null),Lr!==null&&uf(Lr)&&(Lr=null),kc.forEach(LT),jc.forEach(LT)}function hf(i,r){i.blockedOn===r&&(i.blockedOn=null,Qp||(Qp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jN)))}var ff=null;function kT(i){ff!==i&&(ff=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ff===i&&(ff=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if($p(c||o)===null)continue;break}var g=ni(o);g!==null&&(i.splice(r,3),r-=3,Km(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function tl(i){function r(M){return hf(M,i)}Pr!==null&&hf(Pr,i),Vr!==null&&hf(Vr,i),Lr!==null&&hf(Lr,i),kc.forEach(r),jc.forEach(r);for(var o=0;o<kr.length;o++){var c=kr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<kr.length&&(o=kr[0],o.blockedOn===null);)VT(o),o.blockedOn===null&&kr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],T=d[Xt]||null;if(typeof g=="function")T||kT(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Xt]||null)A=T.formAction;else if($p(d)!==null)continue}else A=T.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),kT(o)}}}function jT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Wp(i){this._internalRoot=i}df.prototype.render=Wp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Yn();CT(o,c,i,r,null,null)},df.prototype.unmount=Wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;CT(i.current,2,null,i,null,null),Yh(),r[Wi]=null}};function df(i){this._internalRoot=i}df.prototype.unstable_scheduleHydration=function(i){if(i){var r=Yu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<kr.length&&r!==0&&r<kr[o].priority;o++);kr.splice(o,0,i),o===0&&VT(i)}};var UT=e.version;if(UT!=="19.2.4")throw Error(s(527,UT,"19.2.4"));$.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var UN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{xi=mf.inject(UN),nn=mf}catch{}}return Bc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=Y0,g=K0,T=$0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=RT(i,1,!1,null,null,o,c,null,d,g,T,jT),i[Wi]=r.current,Dp(i),new Wp(r)},Bc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",g=Y0,T=K0,A=$0,M=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=RT(i,1,!0,r,o??null,c,d,M,g,T,A,jT),r.context=IT(null),o=r.current,c=Yn(),c=pa(c),d=br(c),d.callback=null,xr(o,d,c),o=c,r.current.lanes=o,da(r,o),fs(r),i[Wi]=r.current,Dp(i),new df(r)},Bc.version="19.2.4",Bc}var QT;function WN(){if(QT)return Zp.exports;QT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zp.exports=QN(),Zp.exports}var XN=WN();var WT="popstate";function JN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return Ug("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:uu(a)}return eD(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZN(){return Math.random().toString(36).substring(2,10)}function XT(t,e){return{usr:t.state,key:t.key,idx:e}}function Ug(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:n,key:e&&e.key||s||ZN()}}function uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function eD(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",m=null,p=_();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function _(){return(u.state||{idx:null}).idx}function E(){f="POP";let P=_(),B=P==null?null:P-p;p=P,m&&m({action:f,location:k.location,delta:B})}function b(P,B){f="PUSH";let q=Ug(k.location,P,B);p=_()+1;let H=XT(q,p),oe=k.createHref(q);try{u.pushState(H,"",oe)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(oe)}l&&m&&m({action:f,location:k.location,delta:1})}function S(P,B){f="REPLACE";let q=Ug(k.location,P,B);p=_();let H=XT(q,p),oe=k.createHref(q);u.replaceState(H,"",oe),l&&m&&m({action:f,location:k.location,delta:0})}function N(P){return tD(P)}let k={get action(){return f},get location(){return t(a,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(WT,E),m=P,()=>{a.removeEventListener(WT,E),m=null}},createHref(P){return e(a,P)},createURL:N,encodeLocation(P){let B=N(P);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:b,replace:S,go(P){return u.go(P)}};return k}function tD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:uu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function aS(t,e,n="/"){return nD(t,e,n,!1)}function nD(t,e,n,s){let a=typeof e=="string"?Rl(e):e,l=er(a.pathname||"/",n);if(l==null)return null;let u=oS(t);iD(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=mD(l);f=fD(u[m],p,s)}return f}function oS(t,e=[],n=[],s="",a=!1){let l=(u,f,m=a,p)=>{let _={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&m)return;Et(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let E=Ws([s,_.relativePath]),b=n.concat(_);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),oS(u.children,e,b,E,m)),!(u.path==null&&!u.index)&&e.push({path:E,score:uD(E,u.index),routesMeta:b})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of lS(u.path))l(u,f,!0,m)}),e}function lS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=lS(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function iD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sD=/^:[\w-]+$/,rD=3,aD=2,oD=1,lD=10,cD=-2,JT=t=>t==="*";function uD(t,e){let n=t.split("/"),s=n.length;return n.some(JT)&&(s+=cD),e&&(s+=aD),n.filter(a=>!JT(a)).reduce((a,l)=>a+(sD.test(l)?rD:l===""?oD:lD),s)}function hD(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function fD(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),b=m.route;if(!E&&p&&n&&!s[s.length-1].route.index&&(E=qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),u.push({params:a,pathname:Ws([l,E.pathname]),pathnameBase:_D(Ws([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Ws([l,E.pathnameBase]))}return u}function qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=dD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:_,isOptional:E},b)=>{if(_==="*"){let N=f[b]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=f[b];return E&&!S?p[_]=void 0:p[_]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function dD(t,e=!1,n=!0){Bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function mD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function er(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var pD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function gD(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Rl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=ZT(n.substring(1),"/"):l=ZT(n,e)):l=e,{pathname:l,search:vD(s),hash:ED(a)}}function ZT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jy(t){let e=yD(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Uy(t,e,n,s=!1){let a;typeof t=="string"?a=Rl(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),ig("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),ig("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),ig("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let E=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),E-=1;a.pathname=b.join("/")}f=E>=0?e[E]:"/"}let m=gD(a,f),p=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var Ws=t=>t.join("/").replace(/\/\/+/g,"/"),_D=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ED=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,TD=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function xD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uS(t,e){let n=t;if(typeof n!="string"||!pD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(cS)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=er(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{Bi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hS=["POST","PUT","PATCH","DELETE"];new Set(hS);var AD=["GET",...hS];new Set(AD);var Il=O.createContext(null);Il.displayName="DataRouter";var Td=O.createContext(null);Td.displayName="DataRouterState";var SD=O.createContext(!1),fS=O.createContext({isTransitioning:!1});fS.displayName="ViewTransition";var wD=O.createContext(new Map);wD.displayName="Fetchers";var RD=O.createContext(null);RD.displayName="Await";var Jn=O.createContext(null);Jn.displayName="Navigation";var Su=O.createContext(null);Su.displayName="Location";var Ss=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var zy=O.createContext(null);zy.displayName="RouteError";var dS="REACT_ROUTER_ERROR",ID="REDIRECT",CD="ROUTE_ERROR_RESPONSE";function ND(t){if(t.startsWith(`${dS}:${ID}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function DD(t){if(t.startsWith(`${dS}:${CD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new TD(e.status,e.statusText,e.data)}catch{}}function OD(t,{relative:e}={}){Et(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Jn),{hash:a,pathname:l,search:u}=wu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ws([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Cl(){return O.useContext(Su)!=null}function or(){return Et(Cl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Su).location}var mS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pS(t){O.useContext(Jn).static||O.useLayoutEffect(t)}function Nl(){let{isDataRoute:t}=O.useContext(Ss);return t?GD():MD()}function MD(){Et(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Il),{basename:e,navigator:n}=O.useContext(Jn),{matches:s}=O.useContext(Ss),{pathname:a}=or(),l=JSON.stringify(jy(s)),u=O.useRef(!1);return pS(()=>{u.current=!0}),O.useCallback((m,p={})=>{if(Bi(u.current,mS),!u.current)return;if(typeof m=="number"){n.go(m);return}let _=Uy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ws([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,l,a,t])}O.createContext(null);function wu(t,{relative:e}={}){let{matches:n}=O.useContext(Ss),{pathname:s}=or(),a=JSON.stringify(jy(n));return O.useMemo(()=>Uy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function PD(t,e){return gS(t,e)}function gS(t,e,n,s,a){Et(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Jn),{matches:u}=O.useContext(Ss),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let q=E&&E.path||"";_S(p,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let b=or(),S;if(e){let q=typeof e=="string"?Rl(e):e;Et(_==="/"||q.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),S=q}else S=b;let N=S.pathname||"/",k=N;if(_!=="/"){let q=_.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(q.length).join("/")}let P=aS(t,{pathname:k});Bi(E||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Bi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=UD(P&&P.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Ws([_,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:Ws([_,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,n,s,a);return e&&B?O.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},B):B}function VD(){let t=qD(),e=bD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var LD=O.createElement(VD,null),yS=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=DD(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(Ss.Provider,{value:this.props.routeContext},O.createElement(zy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(kD,{error:t},e):e}};yS.contextType=SD;var sg=new WeakMap;function kD({children:t,error:e}){let{basename:n}=O.useContext(Jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ND(e.digest);if(s){let a=sg.get(e);if(a)throw a;let l=uS(s.location,n);if(cS&&!sg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw sg.set(e,u),u}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function jD({routeContext:t,match:e,children:n}){let s=O.useContext(Il);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ss.Provider,{value:t},n)}function UD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let _=l.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);Et(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let f=!1,m=-1;if(n)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=_),E.route.id){let{loaderData:b,errors:S}=n,N=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||N){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(_,E)=>{s(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xD(n.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,b)=>{let S,N=!1,k=null,P=null;n&&(S=u&&E.route.id?u[E.route.id]:void 0,k=E.route.errorElement||LD,f&&(m<0&&b===0?(_S("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,P=null):m===b&&(N=!0,P=E.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,b+1)),q=()=>{let H;return S?H=k:N?H=P:E.route.Component?H=O.createElement(E.route.Component,null):E.route.element?H=E.route.element:H=_,O.createElement(jD,{match:E,routeContext:{outlet:_,matches:B,isDataRoute:n!=null},children:H})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?O.createElement(yS,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:q(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):q()},null)}function By(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zD(t){let e=O.useContext(Il);return Et(e,By(t)),e}function BD(t){let e=O.useContext(Td);return Et(e,By(t)),e}function FD(t){let e=O.useContext(Ss);return Et(e,By(t)),e}function Fy(t){let e=FD(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HD(){return Fy("useRouteId")}function qD(){let t=O.useContext(zy),e=BD("useRouteError"),n=Fy("useRouteError");return t!==void 0?t:e.errors?.[n]}function GD(){let{router:t}=zD("useNavigate"),e=Fy("useNavigate"),n=O.useRef(!1);return pS(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{Bi(n.current,mS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var eb={};function _S(t,e,n){!e&&!eb[t]&&(eb[t]=!0,Bi(!1,n))}O.memo(YD);function YD({routes:t,future:e,state:n,onError:s}){return gS(t,void 0,n,s,e)}function KD({to:t,replace:e,state:n,relative:s}){Et(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Jn);Bi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(Ss),{pathname:u}=or(),f=Nl(),m=Uy(t,jy(l),u,s==="path"),p=JSON.stringify(m);return O.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Ks(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $D({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Et(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=Rl(n));let{pathname:p="/",search:_="",hash:E="",state:b=null,key:S="default"}=n,N=O.useMemo(()=>{let k=er(p,f);return k==null?null:{location:{pathname:k,search:_,hash:E,state:b,key:S},navigationType:s}},[f,p,_,E,b,S,s]);return Bi(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:O.createElement(Jn.Provider,{value:m},O.createElement(Su.Provider,{children:e,value:N}))}function QD({children:t,location:e}){return PD(zg(t),e)}function zg(t,e=[]){let n=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){n.push.apply(n,zg(s.props.children,l));return}Et(s.type===Ks,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=zg(s.props.children,l)),n.push(u)}),n}var Rf="get",If="application/x-www-form-urlencoded";function bd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function WD(t){return bd(t)&&t.tagName.toLowerCase()==="button"}function XD(t){return bd(t)&&t.tagName.toLowerCase()==="form"}function JD(t){return bd(t)&&t.tagName.toLowerCase()==="input"}function ZD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eO(t,e){return t.button===0&&(!e||e==="_self")&&!ZD(t)}var pf=null;function tO(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var nO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(t){return t!=null&&!nO.has(t)?(Bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${If}"`),null):t}function iO(t,e){let n,s,a,l,u;if(XD(t)){let f=t.getAttribute("action");s=f?er(f,e):null,n=t.getAttribute("method")||Rf,a=rg(t.getAttribute("enctype"))||If,l=new FormData(t)}else if(WD(t)||JD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?er(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Rf,a=rg(t.getAttribute("formenctype"))||rg(f.getAttribute("enctype"))||If,l=new FormData(f,t),!tO()){let{name:p,type:_,value:E}=t;if(_==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,E)}}else{if(bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rf,s=null,a=If,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sO(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&er(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function rO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oO(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await rO(l,n);return u.links?u.links():[]}return[]}));return hO(s.flat(1).filter(aO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tb(t,e,n,s,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function lO(t,e,{includeHydrateFallback:n}={}){return cO(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function cO(t){return[...new Set(t)]}function uO(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function hO(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(uO(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function vS(){let t=O.useContext(Il);return Hy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fO(){let t=O.useContext(Td);return Hy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qy=O.createContext(void 0);qy.displayName="FrameworkContext";function ES(){let t=O.useContext(qy);return Hy(t,"You must render this element inside a <HydratedRouter> element"),t}function dO(t,e){let n=O.useContext(qy),[s,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:E}=e,b=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=B=>{B.forEach(q=>{u(q.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[t]),O.useEffect(()=>{if(s){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[s]);let S=()=>{a(!0)},N=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Fc(f,S),onBlur:Fc(m,N),onMouseEnter:Fc(p,S),onMouseLeave:Fc(_,N),onTouchStart:Fc(E,S)}]:[!1,b,{}]}function Fc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mO({page:t,...e}){let{router:n}=vS(),s=O.useMemo(()=>aS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(gO,{page:t,matches:s,...e}):null}function pO(t){let{manifest:e,routeModules:n}=ES(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return oO(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function gO({page:t,matches:e,...n}){let s=or(),{future:a,manifest:l,routeModules:u}=ES(),{basename:f}=vS(),{loaderData:m,matches:p}=fO(),_=O.useMemo(()=>tb(t,e,p,l,s,"data"),[t,e,p,l,s]),E=O.useMemo(()=>tb(t,e,p,l,s,"assets"),[t,e,p,l,s]),b=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,P=!1;if(e.forEach(q=>{let H=l.routes[q.route.id];!H||!H.hasLoader||(!_.some(oe=>oe.route.id===q.route.id)&&q.route.id in m&&u[q.route.id]?.shouldRevalidate||H.hasClientLoader?P=!0:k.add(q.route.id))}),k.size===0)return[];let B=sO(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return P&&k.size>0&&B.searchParams.set("_routes",e.filter(q=>k.has(q.route.id)).map(q=>q.route.id).join(",")),[B.pathname+B.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,_,e,t,u]),S=O.useMemo(()=>lO(E,l),[E,l]),N=pO(E);return O.createElement(O.Fragment,null,b.map(k=>O.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>O.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),N.map(({key:k,link:P})=>O.createElement("link",{key:k,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function yO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_O&&(window.__reactRouterVersion="7.13.0")}catch{}function vO({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=O.useRef();a.current==null&&(a.current=JN({window:s,v5Compat:!0}));let l=a.current,[u,f]=O.useState({action:l.action,location:l.location}),m=O.useCallback(p=>{n===!1?f(p):O.startTransition(()=>f(p))},[n]);return O.useLayoutEffect(()=>l.listen(m),[l,m]),O.createElement($D,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var TS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ui=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...S},N){let{basename:k,unstable_useTransitions:P}=O.useContext(Jn),B=typeof p=="string"&&TS.test(p),q=uS(p,k);p=q.to;let H=OD(p,{relative:a}),[oe,ee,le]=dO(s,S),C=xO(p,{replace:u,state:f,target:m,preventScrollReset:_,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:P});function R(L){e&&e(L),L.defaultPrevented||C(L)}let I=O.createElement("a",{...S,...le,href:q.absoluteURL||H,onClick:q.isExternal||l?e:R,ref:yO(N,ee),target:m,"data-discover":!B&&n==="render"?"true":void 0});return oe&&!B?O.createElement(O.Fragment,null,I,O.createElement(mO,{page:H})):I});Ui.displayName="Link";var EO=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},_){let E=wu(u,{relative:p.relative}),b=or(),S=O.useContext(Td),{navigator:N,basename:k}=O.useContext(Jn),P=S!=null&&IO(E)&&f===!0,B=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,q=b.pathname,H=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(q=q.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&k&&(H=er(H,k)||H);const oe=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ee=q===B||!a&&q.startsWith(B)&&q.charAt(oe)==="/",le=H!=null&&(H===B||!a&&H.startsWith(B)&&H.charAt(B.length)==="/"),C={isActive:ee,isPending:le,isTransitioning:P},R=ee?e:void 0,I;typeof s=="function"?I=s(C):I=[s,ee?"active":null,le?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(C):l;return O.createElement(Ui,{...p,"aria-current":R,className:I,ref:_,style:L,to:u,viewTransition:f},typeof m=="function"?m(C):m)});EO.displayName="NavLink";var TO=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Rf,action:f,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...S},N)=>{let{unstable_useTransitions:k}=O.useContext(Jn),P=wO(),B=RO(f,{relative:p}),q=u.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&TS.test(f),oe=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let le=ee.nativeEvent.submitter,C=le?.getAttribute("formmethod")||u,R=()=>P(le||ee.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b});k&&n!==!1?O.startTransition(()=>R()):R()};return O.createElement("form",{ref:N,method:q,action:B,onSubmit:s?m:oe,...S,"data-discover":!H&&t==="render"?"true":void 0})});TO.displayName="Form";function bO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(t){let e=O.useContext(Il);return Et(e,bO(t)),e}function xO(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Nl(),_=or(),E=wu(t,{relative:l});return O.useCallback(b=>{if(eO(b,e)){b.preventDefault();let S=n!==void 0?n:uu(_)===uu(E),N=()=>p(t,{replace:S,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});m?O.startTransition(()=>N()):N()}},[_,p,E,n,s,e,t,a,l,u,f,m])}var AO=0,SO=()=>`__${String(++AO)}__`;function wO(){let{router:t}=bS("useSubmit"),{basename:e}=O.useContext(Jn),n=HD(),s=t.fetch,a=t.navigate;return O.useCallback(async(l,u={})=>{let{action:f,method:m,encType:p,formData:_,body:E}=iO(l,e);if(u.navigate===!1){let b=u.fetcherKey||SO();await s(b,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:E,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:E,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function RO(t,{relative:e}={}){let{basename:n}=O.useContext(Jn),s=O.useContext(Ss);Et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...wu(t||".",{relative:e})},u=or();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(_=>_==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let _=f.toString();l.search=_?`?${_}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ws([n,l.pathname])),uu(l)}function IO(t,{relative:e}={}){let n=O.useContext(fS);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bS("useViewTransitionState"),a=wu(t,{relative:e});if(!n.isTransitioning)return!1;let l=er(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return qf(a.pathname,u)!=null||qf(a.pathname,l)!=null}const Gy=O.createContext({});function Yy(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const xS=typeof window<"u",AS=xS?O.useLayoutEffect:O.useEffect,xd=O.createContext(null);function Ky(t,e){t.indexOf(e)===-1&&t.push(e)}function $y(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bs=(t,e,n)=>n>e?e:n<t?t:n;let Qy=()=>{};const tr={},SS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wS(t){return typeof t=="object"&&t!==null}const RS=t=>/^0[^.\s]+$/u.test(t);function Wy(t){let e;return()=>(e===void 0&&(e=t()),e)}const yi=t=>t,CO=(t,e)=>n=>e(t(n)),Ru=(...t)=>t.reduce(CO),hu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Xy{constructor(){this.subscriptions=[]}add(e){return Ky(this.subscriptions,e),()=>$y(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xs=t=>t*1e3,gi=t=>t/1e3;function IS(t,e){return e?t*(1e3/e):0}const CS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NO=1e-7,DO=12;function OO(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=CS(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>NO&&++f<DO);return u}function Iu(t,e,n,s){if(t===e&&n===s)return yi;const a=l=>OO(l,0,1,t,n);return l=>l===0||l===1?l:CS(a(l),e,s)}const NS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DS=t=>e=>1-t(1-e),OS=Iu(.33,1.53,.69,.99),Jy=DS(OS),MS=NS(Jy),PS=t=>(t*=2)<1?.5*Jy(t):.5*(2-Math.pow(2,-10*(t-1))),Zy=t=>1-Math.sin(Math.acos(t)),VS=DS(Zy),LS=NS(Zy),MO=Iu(.42,0,1,1),PO=Iu(0,0,.58,1),kS=Iu(.42,0,.58,1),VO=t=>Array.isArray(t)&&typeof t[0]!="number",jS=t=>Array.isArray(t)&&typeof t[0]=="number",LO={linear:yi,easeIn:MO,easeInOut:kS,easeOut:PO,circIn:Zy,circInOut:LS,circOut:VS,backIn:Jy,backInOut:MS,backOut:OS,anticipate:PS},kO=t=>typeof t=="string",nb=t=>{if(jS(t)){Qy(t.length===4);const[e,n,s,a]=t;return Iu(e,n,s,a)}else if(kO(t))return LO[t];return t},gf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jO(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(_){u.has(_)&&(p.schedule(_),t()),_(f)}const p={schedule:(_,E=!1,b=!1)=>{const N=b&&a?n:s;return E&&u.add(_),N.has(_)||N.add(_),_},cancel:_=>{s.delete(_),u.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(_))}};return p}const UO=40;function US(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=gf.reduce((H,oe)=>(H[oe]=jO(l),H),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:_,update:E,preRender:b,render:S,postRender:N}=u,k=()=>{const H=tr.useManualTiming?a.timestamp:performance.now();n=!1,tr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,UO),1)),a.timestamp=H,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),_.process(a),E.process(a),b.process(a),S.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(k))},P=()=>{n=!0,s=!0,a.isProcessing||t(k)};return{schedule:gf.reduce((H,oe)=>{const ee=u[oe];return H[oe]=(le,C=!1,R=!1)=>(n||P(),ee.schedule(le,C,R)),H},{}),cancel:H=>{for(let oe=0;oe<gf.length;oe++)u[gf[oe]].cancel(H)},state:a,steps:u}}const{schedule:dt,cancel:Jr,state:cn,steps:ag}=US(typeof requestAnimationFrame<"u"?requestAnimationFrame:yi,!0);let Cf;function zO(){Cf=void 0}const xn={now:()=>(Cf===void 0&&xn.set(cn.isProcessing||tr.useManualTiming?cn.timestamp:performance.now()),Cf),set:t=>{Cf=t,queueMicrotask(zO)}},zS=t=>e=>typeof e=="string"&&e.startsWith(t),BS=zS("--"),BO=zS("var(--"),e_=t=>BO(t)?FO.test(t.split("/*")[0].trim()):!1,FO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ib(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fu={...Dl,transform:t=>bs(0,1,t)},yf={...Dl,default:1},eu=t=>Math.round(t*1e5)/1e5,t_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HO(t){return t==null}const qO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,n_=(t,e)=>n=>!!(typeof n=="string"&&qO.test(n)&&n.startsWith(t)||e&&!HO(n)&&Object.prototype.hasOwnProperty.call(n,e)),FS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(t_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},GO=t=>bs(0,255,t),og={...Dl,transform:t=>Math.round(GO(t))},qa={test:n_("rgb","red"),parse:FS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+og.transform(t)+", "+og.transform(e)+", "+og.transform(n)+", "+eu(fu.transform(s))+")"};function YO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Bg={test:n_("#"),parse:YO,transform:qa.transform},Cu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zr=Cu("deg"),gs=Cu("%"),ve=Cu("px"),KO=Cu("vh"),$O=Cu("vw"),sb={...gs,parse:t=>gs.parse(t)/100,transform:t=>gs.transform(t*100)},al={test:n_("hsl","hue"),parse:FS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+gs.transform(eu(e))+", "+gs.transform(eu(n))+", "+eu(fu.transform(s))+")"},qt={test:t=>qa.test(t)||Bg.test(t)||al.test(t),parse:t=>qa.test(t)?qa.parse(t):al.test(t)?al.parse(t):Bg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qa.transform(t):al.transform(t),getAnimatableNone:t=>{const e=qt.parse(t);return e.alpha=0,qt.transform(e)}},QO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WO(t){return isNaN(t)&&typeof t=="string"&&(t.match(t_)?.length||0)+(t.match(QO)?.length||0)>0}const HS="number",qS="color",XO="var",JO="var(",rb="${}",ZO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function du(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(ZO,m=>(qt.test(m)?(s.color.push(l),a.push(qS),n.push(qt.parse(m))):m.startsWith(JO)?(s.var.push(l),a.push(XO),n.push(m)):(s.number.push(l),a.push(HS),n.push(parseFloat(m))),++l,rb)).split(rb);return{values:n,split:f,indexes:s,types:a}}function GS(t){return du(t).values}function YS(t){const{split:e,types:n}=du(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===HS?l+=eu(a[u]):f===qS?l+=qt.transform(a[u]):l+=a[u]}return l}}const e2=t=>typeof t=="number"?0:qt.test(t)?qt.getAnimatableNone(t):t;function t2(t){const e=GS(t);return YS(t)(e.map(e2))}const Zr={test:WO,parse:GS,createTransformer:YS,getAnimatableNone:t2};function lg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function n2({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=lg(m,f,t+1/3),l=lg(m,f,t),u=lg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Gf(t,e){return n=>n>0?e:t}const Tt=(t,e,n)=>t+(e-t)*n,cg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},i2=[Bg,qa,al],s2=t=>i2.find(e=>e.test(t));function ab(t){const e=s2(t);if(!e)return!1;let n=e.parse(t);return e===al&&(n=n2(n)),n}const ob=(t,e)=>{const n=ab(t),s=ab(e);if(!n||!s)return Gf(t,e);const a={...n};return l=>(a.red=cg(n.red,s.red,l),a.green=cg(n.green,s.green,l),a.blue=cg(n.blue,s.blue,l),a.alpha=Tt(n.alpha,s.alpha,l),qa.transform(a))},Fg=new Set(["none","hidden"]);function r2(t,e){return Fg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function a2(t,e){return n=>Tt(t,e,n)}function i_(t){return typeof t=="number"?a2:typeof t=="string"?e_(t)?Gf:qt.test(t)?ob:c2:Array.isArray(t)?KS:typeof t=="object"?qt.test(t)?ob:o2:Gf}function KS(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>i_(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function o2(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=i_(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function l2(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const c2=(t,e)=>{const n=Zr.createTransformer(e),s=du(t),a=du(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Fg.has(t)&&!a.values.length||Fg.has(e)&&!s.values.length?r2(t,e):Ru(KS(l2(s,a),a.values),n):Gf(t,e)};function $S(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):i_(t)(t,e)}const u2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Jr(e),now:()=>cn.isProcessing?cn.timestamp:xn.now()}},QS=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Yf=2e4;function s_(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Yf;)e+=n,s=t.next(e);return e>=Yf?1/0:e}function h2(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(s_(s),Yf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:gi(a)}}const f2=5;function WS(t,e,n){const s=Math.max(e-f2,0);return IS(n-t(s),e-s)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ug=.001;function d2({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:s=wt.mass}){let a,l,u=1-e;u=bs(wt.minDamping,wt.maxDamping,u),t=bs(wt.minDuration,wt.maxDuration,gi(t)),u<1?(a=p=>{const _=p*u,E=_*t,b=_-n,S=Hg(p,u),N=Math.exp(-E);return ug-b/S*N},l=p=>{const E=p*u*t,b=E*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,N=Math.exp(-E),k=Hg(Math.pow(p,2),u);return(-a(p)+ug>0?-1:1)*((b-S)*N)/k}):(a=p=>{const _=Math.exp(-p*t),E=(p-n)*t+1;return-ug+_*E},l=p=>{const _=Math.exp(-p*t),E=(n-p)*(t*t);return _*E});const f=5/t,m=p2(a,l,f);if(t=Xs(t),isNaN(m))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const m2=12;function p2(t,e,n){let s=n;for(let a=1;a<m2;a++)s=s-t(s)/e(s);return s}function Hg(t,e){return t*Math.sqrt(1-e*e)}const g2=["duration","bounce"],y2=["stiffness","damping","mass"];function lb(t,e){return e.some(n=>t[n]!==void 0)}function _2(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!lb(t,y2)&&lb(t,g2))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*bs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:wt.mass,stiffness:a,damping:l}}else{const n=d2(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function Kf(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:_,duration:E,velocity:b,isResolvedFromDuration:S}=_2({...n,velocity:-gi(n.velocity||0)}),N=b||0,k=p/(2*Math.sqrt(m*_)),P=u-l,B=gi(Math.sqrt(m/_)),q=Math.abs(P)<5;s||(s=q?wt.restSpeed.granular:wt.restSpeed.default),a||(a=q?wt.restDelta.granular:wt.restDelta.default);let H;if(k<1){const ee=Hg(B,k);H=le=>{const C=Math.exp(-k*B*le);return u-C*((N+k*B*P)/ee*Math.sin(ee*le)+P*Math.cos(ee*le))}}else if(k===1)H=ee=>u-Math.exp(-B*ee)*(P+(N+B*P)*ee);else{const ee=B*Math.sqrt(k*k-1);H=le=>{const C=Math.exp(-k*B*le),R=Math.min(ee*le,300);return u-C*((N+k*B*P)*Math.sinh(R)+ee*P*Math.cosh(R))/ee}}const oe={calculatedDuration:S&&E||null,next:ee=>{const le=H(ee);if(S)f.done=ee>=E;else{let C=ee===0?N:0;k<1&&(C=ee===0?Xs(N):WS(H,ee,le));const R=Math.abs(C)<=s,I=Math.abs(u-le)<=a;f.done=R&&I}return f.value=f.done?u:le,f},toString:()=>{const ee=Math.min(s_(oe),Yf),le=QS(C=>oe.next(ee*C).value,ee,30);return ee+"ms "+le},toTransition:()=>{}};return oe}Kf.applyToOptions=t=>{const e=h2(t,100,Kf);return t.ease=e.ease,t.duration=Xs(e.duration),t.type="keyframes",t};function qg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:_}){const E=t[0],b={done:!1,value:E},S=R=>f!==void 0&&R<f||m!==void 0&&R>m,N=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let k=n*e;const P=E+k,B=u===void 0?P:u(P);B!==P&&(k=B-E);const q=R=>-k*Math.exp(-R/s),H=R=>B+q(R),oe=R=>{const I=q(R),L=H(R);b.done=Math.abs(I)<=p,b.value=b.done?B:L};let ee,le;const C=R=>{S(b.value)&&(ee=R,le=Kf({keyframes:[b.value,N(b.value)],velocity:WS(H,R,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:_}))};return C(0),{calculatedDuration:null,next:R=>{let I=!1;return!le&&ee===void 0&&(I=!0,oe(R),C(R)),ee!==void 0&&R>=ee?le.next(R-ee):(!I&&oe(R),b)}}}function v2(t,e,n){const s=[],a=n||tr.mix||$S,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||yi:e;f=Ru(m,f)}s.push(f)}return s}function E2(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Qy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=v2(e,s,a),m=f.length,p=_=>{if(u&&_<t[0])return e[0];let E=0;if(m>1)for(;E<t.length-2&&!(_<t[E+1]);E++);const b=hu(t[E],t[E+1],_);return f[E](b)};return n?_=>p(bs(t[0],t[l-1],_)):p}function T2(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=hu(0,e,s);t.push(Tt(n,1,a))}}function b2(t){const e=[0];return T2(e,t.length-1),e}function x2(t,e){return t.map(n=>n*e)}function A2(t,e){return t.map(()=>e||kS).splice(0,t.length-1)}function tu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=VO(s)?s.map(nb):nb(s),l={done:!1,value:e[0]},u=x2(n&&n.length===e.length?n:b2(e),t),f=E2(u,e,{ease:Array.isArray(a)?a:A2(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const S2=t=>t!==null;function r_(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(S2),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const w2={decay:qg,inertia:qg,tween:tu,keyframes:tu,spring:Kf};function XS(t){typeof t.type=="string"&&(t.type=w2[t.type])}class a_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const R2=t=>t/100;class o_ extends a_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;XS(e);const{type:n=tu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||tu;m!==tu&&typeof f[0]!="number"&&(this.mixKeyframes=Ru(R2,$S(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=s_(p));const{calculatedDuration:_}=p;this.calculatedDuration=_,this.resolvedDuration=_+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:_,repeat:E,repeatType:b,repeatDelay:S,type:N,onUpdate:k,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,oe=s;if(E){const R=Math.min(this.currentTime,a)/f;let I=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&I--,I=Math.min(I,E+1),I%2&&(b==="reverse"?(L=1-L,S&&(L-=S/f)):b==="mirror"&&(oe=u)),H=bs(0,1,L)*f}const ee=q?{done:!1,value:_[0]}:oe.next(H);l&&(ee.value=l(ee.value));let{done:le}=ee;!q&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return C&&N!==qg&&(ee.value=r_(_,this.options,P,this.speed)),k&&k(ee.value),C&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return gi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gi(e)}get time(){return gi(this.currentTime)}set time(e){e=Xs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=u2,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function I2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ga=t=>t*180/Math.PI,Gg=t=>{const e=Ga(Math.atan2(t[1],t[0]));return Yg(e)},C2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gg,rotateZ:Gg,skewX:t=>Ga(Math.atan(t[1])),skewY:t=>Ga(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Yg=t=>(t=t%360,t<0&&(t+=360),t),cb=Gg,ub=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),N2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ub,scaleY:hb,scale:t=>(ub(t)+hb(t))/2,rotateX:t=>Yg(Ga(Math.atan2(t[6],t[5]))),rotateY:t=>Yg(Ga(Math.atan2(-t[2],t[0]))),rotateZ:cb,rotate:cb,skewX:t=>Ga(Math.atan(t[4])),skewY:t=>Ga(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Kg(t){return t.includes("scale")?1:0}function $g(t,e){if(!t||t==="none")return Kg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=N2,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=C2,a=f}if(!a)return Kg(e);const l=s[e],u=a[1].split(",").map(O2);return typeof l=="function"?l(u):u[l]}const D2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $g(n,e)};function O2(t){return parseFloat(t.trim())}const Ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(Ol),fb=t=>t===Dl||t===ve,M2=new Set(["x","y","z"]),P2=Ol.filter(t=>!M2.has(t));function V2(t){const e=[];return P2.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Yr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$g(e,"x"),y:(t,{transform:e})=>$g(e,"y")};Yr.translateX=Yr.x;Yr.translateY=Yr.y;const $a=new Set;let Qg=!1,Wg=!1,Xg=!1;function JS(){if(Wg){const t=Array.from($a).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=V2(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Wg=!1,Qg=!1,$a.forEach(t=>t.complete(Xg)),$a.clear()}function ZS(){$a.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wg=!0)})}function L2(){Xg=!0,ZS(),JS(),Xg=!1}class l_{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?($a.add(this),Qg||(Qg=!0,dt.read(ZS),dt.resolveKeyframes(JS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}I2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$a.delete(this)}cancel(){this.state==="scheduled"&&($a.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const k2=t=>t.startsWith("--");function j2(t,e,n){k2(e)?t.style.setProperty(e,n):t.style[e]=n}const U2=Wy(()=>window.ScrollTimeline!==void 0),z2={};function B2(t,e){const n=Wy(t);return()=>z2[e]??n()}const ew=B2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,db={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yc([0,.65,.55,1]),circOut:Yc([.55,0,1,.45]),backIn:Yc([.31,.01,.66,-.59]),backOut:Yc([.33,1.53,.69,.99])};function tw(t,e){if(t)return typeof t=="function"?ew()?QS(t,e):"ease-out":jS(t)?Yc(t):Array.isArray(t)?t.map(n=>tw(n,e)||db.easeOut):db[t]}function F2(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const _={[e]:n};m&&(_.offset=m);const E=tw(f,a);Array.isArray(E)&&(_.easing=E);const b={delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(_,b)}function nw(t){return typeof t=="function"&&"applyToOptions"in t}function H2({type:t,...e}){return nw(t)&&ew()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class q2 extends a_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Qy(typeof e.type!="string");const p=H2(e);this.animation=F2(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const _=r_(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(_):j2(n,s,_),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gi(e)}get time(){return gi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Xs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&U2()?(this.animation.timeline=e,yi):n(this)}}const iw={anticipate:PS,backInOut:MS,circInOut:LS};function G2(t){return t in iw}function Y2(t){typeof t.ease=="string"&&G2(t.ease)&&(t.ease=iw[t.ease])}const hg=10;class K2 extends q2{constructor(e){Y2(e),XS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new o_({...u,autoplay:!1}),m=Math.max(hg,xn.now()-this.startTime),p=bs(0,hg,m-hg);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const mb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zr.test(t)||t==="0")&&!t.startsWith("url("));function $2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Q2(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=mb(a,e),f=mb(l,e);return!u||!f?!1:$2(t)||(n==="spring"||nw(n))&&s}function Jg(t){t.duration=0,t.type="keyframes"}const W2=new Set(["opacity","clipPath","filter","transform"]),X2=Wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J2(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return X2()&&n&&W2.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const Z2=40;class eM extends a_{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:_,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:_,...E},S=_?.KeyframeResolver||l_;this.keyframeResolver=new S(f,(N,k,P)=>this.onKeyframesResolved(N,k,b,!P),m,p,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:_}=s;this.resolvedAt=xn.now(),Q2(e,l,u,f)||((tr.instantAnimations||!m)&&_?.(r_(e,s,n)),e[0]=e[e.length-1],Jg(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Z2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&J2(b),N=b.motionValue?.owner?.current,k=S?new K2({...b,element:N}):new o_(b);k.finished.then(()=>{this.notifyFinished()}).catch(yi),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),L2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function sw(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,_)=>p.sortNodePosition(_)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const tM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nM(t){const e=tM.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function rw(t,e,n=1){const[s,a]=nM(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return SS(u)?parseFloat(u):u}return e_(a)?rw(a,e,n+1):a}const iM={type:"spring",stiffness:500,damping:25,restSpeed:10},sM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rM={type:"keyframes",duration:.8},aM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oM=(t,{keyframes:e})=>e.length>2?rM:Ml.has(t)?t.startsWith("scale")?sM(e[1]):iM:aM,lM=t=>t!==null;function cM(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(lM),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function c_(t,e){return t?.[e]??t?.default??t}function uM({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,..._}){return!!Object.keys(_).length}const u_=(t,e,n,s={},a,l)=>u=>{const f=c_(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Xs(m);const _={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};uM(f)||Object.assign(_,oM(t,_)),_.duration&&(_.duration=Xs(_.duration)),_.repeatDelay&&(_.repeatDelay=Xs(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let E=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(Jg(_),_.delay===0&&(E=!0)),(tr.instantAnimations||tr.skipAnimations||a?.shouldSkipAnimations)&&(E=!0,Jg(_),_.delay=0),_.allowFlatten=!f.type&&!f.ease,E&&!l&&e.get()!==void 0){const b=cM(_.keyframes,f);if(b!==void 0){dt.update(()=>{_.onUpdate(b),_.onComplete()});return}}return f.isSync?new o_(_):new eM(_)};function pb(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function h_(t,e,n,s){if(typeof e=="function"){const[a,l]=pb(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=pb(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function hl(t,e,n){const s=t.getProps();return h_(s,e,n!==void 0?n:s.custom,t)}const aw=new Set(["width","height","top","left","right","bottom",...Ol]),gb=30,hM=t=>!isNaN(parseFloat(t));class fM{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=xn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Xy);const s=this.events[e].add(n);return e==="change"?()=>{s(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gb);return IS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(t,e){return new fM(t,e)}const Zg=t=>Array.isArray(t);function dM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vl(n))}function mM(t){return Zg(t)?t[t.length-1]||0:t}function pM(t,e){const n=hl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=mM(l[u]);dM(t,u,f)}}const vn=t=>!!(t&&t.getVelocity);function gM(t){return!!(vn(t)&&t.add)}function ey(t,e){const n=t.getValue("willChange");if(gM(n))return n.add(e);if(!n&&tr.WillChange){const s=new tr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function f_(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const yM="framerAppearId",ow="data-"+f_(yM);function lw(t){return t.props[ow]}function _M({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function cw(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;const m=l?.reduceMotion;s&&(l=s);const p=[],_=a&&t.animationState&&t.animationState.getState()[a];for(const E in f){const b=t.getValue(E,t.latestValues[E]??null),S=f[E];if(S===void 0||_&&_M(_,E))continue;const N={delay:n,...c_(l||{},E)},k=b.get();if(k!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===k&&!N.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const H=lw(t);if(H){const oe=window.MotionHandoffAnimation(H,E,dt);oe!==null&&(N.startTime=oe,P=!0)}}ey(t,E);const B=m??t.shouldReduceMotion;b.start(u_(E,b,S,B&&aw.has(E)?{type:!1}:N,t,P));const q=b.animation;q&&p.push(q)}return u&&Promise.all(p).then(()=>{dt.update(()=>{u&&pM(t,u)})}),p}function ty(t,e,n={}){const s=hl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(cw(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:_,staggerDirection:E}=a;return vM(t,e,m,p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function vM(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(ty(m,e,{...u,delay:n+(typeof s=="function"?0:s)+sw(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function EM(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>ty(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=ty(t,e,n);else{const a=typeof e=="function"?hl(t,e,n.custom):e;s=Promise.all(cw(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const TM={test:t=>t==="auto",parse:t=>t},uw=t=>e=>e.test(t),hw=[Dl,ve,gs,zr,$O,KO,TM],yb=t=>hw.find(uw(t));function bM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RS(t):!0}const xM=new Set(["brightness","contrast","saturate","opacity"]);function AM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(t_)||[];if(!s)return t;const a=n.replace(s,"");let l=xM.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const SM=/\b([a-z-]*)\(.*?\)/gu,ny={...Zr,getAnimatableNone:t=>{const e=t.match(SM);return e?e.map(AM).join(" "):t}},_b={...Dl,transform:Math.round},wM={rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:yf,scaleX:yf,scaleY:yf,scaleZ:yf,skew:zr,skewX:zr,skewY:zr,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:fu,originX:sb,originY:sb,originZ:ve},d_={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,inset:ve,insetBlock:ve,insetBlockStart:ve,insetBlockEnd:ve,insetInline:ve,insetInlineStart:ve,insetInlineEnd:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,paddingBlock:ve,paddingBlockStart:ve,paddingBlockEnd:ve,paddingInline:ve,paddingInlineStart:ve,paddingInlineEnd:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,marginBlock:ve,marginBlockStart:ve,marginBlockEnd:ve,marginInline:ve,marginInlineStart:ve,marginInlineEnd:ve,fontSize:ve,backgroundPositionX:ve,backgroundPositionY:ve,...wM,zIndex:_b,fillOpacity:fu,strokeOpacity:fu,numOctaves:_b},RM={...d_,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:ny,WebkitFilter:ny},fw=t=>RM[t];function dw(t,e){let n=fw(t);return n!==ny&&(n=Zr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const IM=new Set(["auto","none","0"]);function CM(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!IM.has(l)&&du(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=dw(n,a)}class NM extends l_{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let _=0;_<e.length;_++){let E=e[_];if(typeof E=="string"&&(E=E.trim(),e_(E))){const b=rw(E,n.current);b!==void 0&&(e[_]=b),_===e.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!aw.has(s)||e.length!==2)return;const[a,l]=e,u=yb(a),f=yb(l),m=ib(a),p=ib(l);if(m!==p&&Yr[s]){this.needsMeasurement=!0;return}if(u!==f)if(fb(u)&&fb(f))for(let _=0;_<e.length;_++){const E=e[_];typeof E=="string"&&(e[_]=parseFloat(E))}else Yr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||bM(e[a]))&&s.push(a);s.length&&CM(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Yr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function DM(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(s=>s!=null)}const mw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function iy(t){return wS(t)&&"offsetHeight"in t}const{schedule:m_}=US(queueMicrotask,!1),Li={x:!1,y:!1};function pw(){return Li.x||Li.y}function OM(t){return t==="x"||t==="y"?Li[t]?null:(Li[t]=!0,()=>{Li[t]=!1}):Li.x||Li.y?null:(Li.x=Li.y=!0,()=>{Li.x=Li.y=!1})}function gw(t,e){const n=DM(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function vb(t){return!(t.pointerType==="touch"||pw())}function MM(t,e,n={}){const[s,a,l]=gw(t,n),u=f=>{if(!vb(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const _=E=>{vb(E)&&(p(E),m.removeEventListener("pointerleave",_))};m.addEventListener("pointerleave",_,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const yw=(t,e)=>e?t===e?!0:yw(t,e.parentElement):!1,p_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VM(t){return PM.has(t.tagName)||t.isContentEditable===!0}const LM=new Set(["INPUT","SELECT","TEXTAREA"]);function kM(t){return LM.has(t.tagName)||t.isContentEditable===!0}const Nf=new WeakSet;function Eb(t){return e=>{e.key==="Enter"&&t(e)}}function fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jM=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Eb(()=>{if(Nf.has(n))return;fg(n,"down");const a=Eb(()=>{fg(n,"up")}),l=()=>fg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Tb(t){return p_(t)&&!pw()}function UM(t,e,n={}){const[s,a,l]=gw(t,n),u=f=>{const m=f.currentTarget;if(!Tb(f))return;Nf.add(m);const p=e(m,f),_=(S,N)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",b),Nf.has(m)&&Nf.delete(m),Tb(S)&&typeof p=="function"&&p(S,{success:N})},E=S=>{_(S,m===window||m===document||n.useGlobalTarget||yw(m,S.target))},b=S=>{_(S,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),iy(f)&&(f.addEventListener("focus",p=>jM(p,a)),!VM(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function _w(t){return wS(t)&&"ownerSVGElement"in t}function zM(t){return _w(t)&&t.tagName==="svg"}const BM=[...hw,qt,Zr],FM=t=>BM.find(uw(t)),bb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:bb(),y:bb()}),xb=()=>({min:0,max:0}),$t=()=>({x:xb(),y:xb()}),sy={current:null},vw={current:!1},HM=typeof window<"u";function qM(){if(vw.current=!0,!!HM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sy.current=t.matches;t.addEventListener("change",e),e()}else sy.current=!1}const GM=new WeakMap;function Ad(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mu(t){return typeof t=="string"||Array.isArray(t)}const g_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y_=["initial",...g_];function Sd(t){return Ad(t.animate)||y_.some(e=>mu(t[e]))}function Ew(t){return!!(Sd(t)||t.variants)}function YM(t,e,n){for(const s in e){const a=e[s],l=n[s];if(vn(a))t.addValue(s,a);else if(vn(l))t.addValue(s,vl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,vl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Ab=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let $f={};function Tw(t){$f=t}function KM(){return $f}class $M{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=l_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=xn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,dt.render(this.render,!1,!0))};const{latestValues:p,renderState:_}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=_,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Sd(n),this.isVariantNode=Ew(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:E,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in b){const N=b[S];p[S]!==void 0&&vn(N)&&N.set(p[S])}}mount(e){this.current=e,GM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vw.current||qM(),this.shouldReduceMotion=sy.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jr(this.notifyUpdate),Jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ml.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $f){const n=$f[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ab.length;s++){const a=Ab[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=YM(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=vl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(SS(s)||RS(s))?s=parseFloat(s):!FM(s)&&Zr.test(n)&&(s=dw(e,n)),this.setBaseTarget(e,vn(s)?s.get():s)),vn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=h_(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!vn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Xy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){m_.render(this.render)}}class bw extends $M{constructor(){super(...arguments),this.KeyframeResolver=NM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function xw({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function QM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function dg(t){return t===void 0||t===1}function ry({scale:t,scaleX:e,scaleY:n}){return!dg(t)||!dg(e)||!dg(n)}function Ba(t){return ry(t)||Aw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Aw(t){return Sb(t.x)||Sb(t.y)}function Sb(t){return t&&t!=="0%"}function Qf(t,e,n){const s=t-n,a=e*s;return n+a}function wb(t,e,n,s,a){return a!==void 0&&(t=Qf(t,a,s)),Qf(t,n,s)+e}function ay(t,e=0,n=1,s,a){t.min=wb(t.min,e,n,s,a),t.max=wb(t.max,e,n,s,a)}function Sw(t,{x:e,y:n}){ay(t.x,e.translate,e.scale,e.originPoint),ay(t.y,n.translate,n.scale,n.originPoint)}const Rb=.999999999999,Ib=1.0000000000001;function XM(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&cl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Sw(t,u)),s&&Ba(l.latestValues)&&cl(t,l.latestValues))}e.x<Ib&&e.x>Rb&&(e.x=1),e.y<Ib&&e.y>Rb&&(e.y=1)}function ll(t,e){t.min=t.min+e,t.max=t.max+e}function Cb(t,e,n,s,a=.5){const l=Tt(t.min,t.max,a);ay(t,e,n,l,s)}function cl(t,e){Cb(t.x,e.x,e.scaleX,e.scale,e.originX),Cb(t.y,e.y,e.scaleY,e.scale,e.originY)}function ww(t,e){return xw(WM(t.getBoundingClientRect(),e))}function JM(t,e,n){const s=ww(t,n),{scroll:a}=e;return a&&(ll(s.x,a.offset.x),ll(s.y,a.offset.y)),s}const ZM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eP=Ol.length;function tP(t,e,n){let s="",a=!0;for(let l=0;l<eP;l++){const u=Ol[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(u.startsWith("scale")?1:0);else{const p=parseFloat(f);m=u.startsWith("scale")?p===1:p===0}if(!m||n){const p=mw(f,d_[u]);if(!m){a=!1;const _=ZM[u]||u;s+=`${_}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function __(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(Ml.has(m)){u=!0;continue}else if(BS(m)){a[m]=p;continue}else{const _=mw(p,d_[m]);m.startsWith("origin")?(f=!0,l[m]=_):s[m]=_}}if(e.transform||(u||n?s.transform=tP(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:_=0}=l;s.transformOrigin=`${m} ${p} ${_}`}}function Rw(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Nb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=Nb(t,e.target.x),s=Nb(t,e.target.y);return`${n}% ${s}%`}},nP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Zr.parse(t);if(a.length>5)return s;const l=Zr.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const p=Tt(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},oy={borderRadius:{...Hc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hc,borderTopRightRadius:Hc,borderBottomLeftRadius:Hc,borderBottomRightRadius:Hc,boxShadow:nP};function Iw(t,{layout:e,layoutId:n}){return Ml.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!oy[t]||t==="opacity")}function v_(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(vn(s[u])||a&&vn(a[u])||Iw(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function iP(t){return window.getComputedStyle(t)}class sP extends bw{constructor(){super(...arguments),this.type="html",this.renderInstance=Rw}readValueFromInstance(e,n){if(Ml.has(n))return this.projection?.isProjecting?Kg(n):D2(e,n);{const s=iP(e),a=(BS(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ww(e,n)}build(e,n,s){__(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return v_(e,n,s)}}const rP={offset:"stroke-dashoffset",array:"stroke-dasharray"},aP={offset:"strokeDashoffset",array:"strokeDasharray"};function oP(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?rP:aP;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const lP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Cw(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,_){if(__(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:b}=t;E.transform&&(b.transform=E.transform,delete E.transform),(b.transform||E.transformOrigin)&&(b.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),b.transform&&(b.transformBox=_?.transformBox??"fill-box",delete E.transformBox);for(const S of lP)E[S]!==void 0&&(b[S]=E[S],delete E[S]);e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),a!==void 0&&oP(E,a,l,u,!1)}const Nw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Dw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cP(t,e,n,s){Rw(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Nw.has(a)?a:f_(a),e.attrs[a])}function Ow(t,e,n){const s=v_(t,e,n);for(const a in t)if(vn(t[a])||vn(e[a])){const l=Ol.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class uP extends bw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ml.has(n)){const s=fw(n);return s&&s.default||0}return n=Nw.has(n)?n:f_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Ow(e,n,s)}build(e,n,s){Cw(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){cP(e,n,s,a)}mount(e){this.isSVGTag=Dw(e.tagName),super.mount(e)}}const hP=y_.length;function Mw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Mw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<hP;n++){const s=y_[n],a=t.props[s];(mu(a)||a===!1)&&(e[s]=a)}return e}function Pw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const fP=[...g_].reverse(),dP=g_.length;function mP(t){return e=>Promise.all(e.map(({animation:n,options:s})=>EM(t,n,s)))}function pP(t){let e=mP(t),n=Db(),s=!0;const a=m=>(p,_)=>{const E=hl(t,_,m==="exit"?t.presenceContext?.custom:void 0);if(E){const{transition:b,transitionEnd:S,...N}=E;p={...p,...N,...S}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,_=Mw(t.parent)||{},E=[],b=new Set;let S={},N=1/0;for(let P=0;P<dP;P++){const B=fP[P],q=n[B],H=p[B]!==void 0?p[B]:_[B],oe=mu(H),ee=B===m?q.isActive:null;ee===!1&&(N=P);let le=H===_[B]&&H!==p[B]&&oe;if(le&&s&&t.manuallyAnimateOnMount&&(le=!1),q.protectedKeys={...S},!q.isActive&&ee===null||!H&&!q.prevProp||Ad(H)||typeof H=="boolean")continue;const C=gP(q.prevProp,H);let R=C||B===m&&q.isActive&&!le&&oe||P>N&&oe,I=!1;const L=Array.isArray(H)?H:[H];let V=L.reduce(a(B),{});ee===!1&&(V={});const{prevResolvedValues:z={}}=q,D={...z,...V},Me=$=>{R=!0,b.has($)&&(I=!0,b.delete($)),q.needsAnimating[$]=!0;const ce=t.getValue($);ce&&(ce.liveStyle=!1)};for(const $ in D){const ce=V[$],me=z[$];if(S.hasOwnProperty($))continue;let ge=!1;Zg(ce)&&Zg(me)?ge=!Pw(ce,me):ge=ce!==me,ge?ce!=null?Me($):b.add($):ce!==void 0&&b.has($)?Me($):q.protectedKeys[$]=!0}q.prevProp=H,q.prevResolvedValues=V,q.isActive&&(S={...S,...V}),s&&t.blockInitialAnimation&&(R=!1);const Je=le&&C;R&&(!Je||I)&&E.push(...L.map($=>{const ce={type:B};if(typeof $=="string"&&s&&!Je&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,ge=hl(me,$);if(me.enteringChildren&&ge){const{delayChildren:j}=ge.transition||{};ce.delay=sw(me.enteringChildren,t,j)}}return{animation:$,options:ce}}))}if(b.size){const P={};if(typeof p.initial!="boolean"){const B=hl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(P.transition=B.transition)}b.forEach(B=>{const q=t.getBaseTarget(B),H=t.getValue(B);H&&(H.liveStyle=!0),P[B]=q??null}),E.push({animation:P})}let k=!!E.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(E):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(E=>E.animationState?.setActive(m,p)),n[m].isActive=p;const _=u(m);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Db()}}}function gP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Pw(e,t):!1}function za(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Db(){return{animate:za(!0),whileInView:za(),whileHover:za(),whileTap:za(),whileDrag:za(),whileFocus:za(),exit:za()}}function Ob(t,e){t.min=e.min,t.max=e.max}function Vi(t,e){Ob(t.x,e.x),Ob(t.y,e.y)}function Mb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Vw=1e-4,yP=1-Vw,_P=1+Vw,Lw=.01,vP=0-Lw,EP=0+Lw;function An(t){return t.max-t.min}function TP(t,e,n){return Math.abs(t-e)<=n}function Pb(t,e,n,s=.5){t.origin=s,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=An(n)/An(e),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=yP&&t.scale<=_P||isNaN(t.scale))&&(t.scale=1),(t.translate>=vP&&t.translate<=EP||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,s){Pb(t.x,e.x,n.x,s?s.originX:void 0),Pb(t.y,e.y,n.y,s?s.originY:void 0)}function Vb(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function bP(t,e,n){Vb(t.x,e.x,n.x),Vb(t.y,e.y,n.y)}function Lb(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function Wf(t,e,n){Lb(t.x,e.x,n.x),Lb(t.y,e.y,n.y)}function kb(t,e,n,s,a){return t-=e,t=Qf(t,1/n,s),a!==void 0&&(t=Qf(t,1/a,s)),t}function xP(t,e=0,n=1,s=.5,a,l=t,u=t){if(gs.test(e)&&(e=parseFloat(e),e=Tt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Tt(l.min,l.max,s);t===l&&(f-=e),t.min=kb(t.min,e,n,f,a),t.max=kb(t.max,e,n,f,a)}function jb(t,e,[n,s,a],l,u){xP(t,e[n],e[s],e[a],e.scale,l,u)}const AP=["x","scaleX","originX"],SP=["y","scaleY","originY"];function Ub(t,e,n,s){jb(t.x,e,AP,n?n.x:void 0,s?s.x:void 0),jb(t.y,e,SP,n?n.y:void 0,s?s.y:void 0)}function zb(t){return t.translate===0&&t.scale===1}function kw(t){return zb(t.x)&&zb(t.y)}function Bb(t,e){return t.min===e.min&&t.max===e.max}function wP(t,e){return Bb(t.x,e.x)&&Bb(t.y,e.y)}function Fb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jw(t,e){return Fb(t.x,e.x)&&Fb(t.y,e.y)}function Hb(t){return An(t.x)/An(t.y)}function qb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function mi(t){return[t("x"),t("y")]}function RP(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:_,rotateX:E,rotateY:b,skewX:S,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),_&&(s+=`rotate(${_}deg) `),E&&(s+=`rotateX(${E}deg) `),b&&(s+=`rotateY(${b}deg) `),S&&(s+=`skewX(${S}deg) `),N&&(s+=`skewY(${N}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Uw=["TopLeft","TopRight","BottomLeft","BottomRight"],IP=Uw.length,Gb=t=>typeof t=="string"?parseFloat(t):t,Yb=t=>typeof t=="number"||ve.test(t);function CP(t,e,n,s,a,l){a?(t.opacity=Tt(0,n.opacity??1,NP(s)),t.opacityExit=Tt(e.opacity??1,0,DP(s))):l&&(t.opacity=Tt(e.opacity??1,n.opacity??1,s));for(let u=0;u<IP;u++){const f=`border${Uw[u]}Radius`;let m=Kb(e,f),p=Kb(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Yb(m)===Yb(p)?(t[f]=Math.max(Tt(Gb(m),Gb(p),s),0),(gs.test(p)||gs.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,s))}function Kb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NP=zw(0,.5,VS),DP=zw(.5,.95,yi);function zw(t,e,n){return s=>s<t?0:s>e?1:n(hu(t,e,s))}function OP(t,e,n){const s=vn(t)?t:vl(t);return s.start(u_("",s,e,n)),s.animation}function pu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const MP=(t,e)=>t.depth-e.depth;class PP{constructor(){this.children=[],this.isDirty=!1}add(e){Ky(this.children,e),this.isDirty=!0}remove(e){$y(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MP),this.isDirty=!1,this.children.forEach(e)}}function VP(t,e){const n=xn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Jr(s),t(l-e))};return dt.setup(s,!0),()=>Jr(s)}function Df(t){return vn(t)?t.get():t}class LP{constructor(){this.members=[]}add(e){Ky(this.members,e),e.scheduleRender()}remove(e){if($y(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:f}=e.options;f===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Of={hasAnimatedSinceResize:!0,hasEverUpdated:!1},mg=["","X","Y","Z"],kP=1e3;let jP=0;function pg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Bw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Bw(s)}function Fw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=jP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BP),this.nodes.forEach(GP),this.nodes.forEach(YP),this.nodes.forEach(FP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new PP)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Xy),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=_w(u)&&!zM(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let _,E=0;const b=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{E=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==E&&(E=S,this.root.updateBlockedByResize=!0,_&&_(),_=VP(b,250),Of.hasAnimatedSinceResize&&(Of.hasAnimatedSinceResize=!1,this.nodes.forEach(Wb)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||XP,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=p.getProps(),B=!this.targetLayout||!jw(this.targetLayout,S),q=!E&&b;if(this.options.layoutRoot||this.resumeFrom||q||E&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...c_(N,"layout"),onPlay:k,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(_,q)}else E||Wb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const E=this.path[_];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($b);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qP),this.nodes.forEach(UP),this.nodes.forEach(zP)):this.nodes.forEach(Qb),this.clearAllSnapshots();const f=xn.now();cn.delta=bs(0,1e3/60,f-cn.timestamp),cn.timestamp=f,cn.isProcessing=!0,ag.update.process(cn),ag.preRender.process(cn),ag.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HP),this.sharedNodes.forEach($P)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!kw(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,_=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Ba(this.latestValues)||_)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),JP(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return $t();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZP))){const{scroll:p}=this.root;p&&(ll(f.x,p.offset.x),ll(f.y,p.offset.y))}return f}removeElementScroll(u){const f=$t();if(Vi(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:_,options:E}=p;p!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Vi(f,u),ll(f.x,_.offset.x),ll(f.y,_.offset.y))}return f}applyTransform(u,f=!1){const m=$t();Vi(m,u);for(let p=0;p<this.path.length;p++){const _=this.path[p];!f&&_.options.layoutScroll&&_.scroll&&_!==_.root&&cl(m,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),Ba(_.latestValues)&&cl(m,_.latestValues)}return Ba(this.latestValues)&&cl(m,this.latestValues),m}removeTransform(u){const f=$t();Vi(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ba(p.latestValues))continue;ry(p.latestValues)&&p.updateSnapshot();const _=$t(),E=p.measurePageBox();Vi(_,E),Ub(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,_)}return Ba(this.latestValues)&&Ub(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!this.layout||!(_||E))return;this.resolvedRelativeTargetAt=cn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vi(this.target,this.layout.layoutBox),Sw(this.target,this.targetDelta)):Vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ry(this.parent.latestValues)||Aw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Wf(this.relativeTargetOrigin,f,m),Vi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||_))return;Vi(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;XM(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=$t());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mb(this.prevProjectionDelta.x,this.projectionDelta.x),Mb(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==b||!qb(this.projectionDelta.x,this.prevProjectionDelta.x)||!qb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},_={...this.latestValues},E=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=$t(),S=m?m.source:void 0,N=this.layout?this.layout.source:void 0,k=S!==N,P=this.getStack(),B=!P||P.members.length<=1,q=!!(k&&!B&&this.options.crossfade===!0&&!this.path.some(WP));this.animationProgress=0;let H;this.mixTargetDelta=oe=>{const ee=oe/1e3;Xb(E.x,u.x,ee),Xb(E.y,u.y,ee),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QP(this.relativeTarget,this.relativeTargetOrigin,b,ee),H&&wP(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=$t()),Vi(H,this.relativeTarget)),k&&(this.animationValues=_,CP(_,p,this.latestValues,ee,q,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Of.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vl(0)),this.currentAnimation=OP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:_}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&Hw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||$t();const E=An(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+E;const b=An(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}Vi(f,m),cl(f,_),nu(this.projectionDeltaWithTransform,this.layoutCorrected,f,_)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new LP),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&pg("z",u,p,this.animationValues);for(let _=0;_<mg.length;_++)pg(`rotate${mg[_]}`,u,p,this.animationValues),pg(`skew${mg[_]}`,u,p,this.animationValues);u.render();for(const _ in p)u.setStaticValue(_,p[_]),this.animationValues&&(this.animationValues[_]=p[_]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Df(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Df(f?.pointerEvents)||""),this.hasProjected&&!Ba(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const _=p.animationValues||p.latestValues;this.applyTransformsToTarget();let E=RP(this.projectionDeltaWithTransform,this.treeScale,_);m&&(E=m(_,E)),u.transform=E;const{x:b,y:S}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:u.opacity=p===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const N in oy){if(_[N]===void 0)continue;const{correct:k,applyTo:P,isCSSVariable:B}=oy[N],q=E==="none"?_[N]:k(_[N],p);if(P){const H=P.length;for(let oe=0;oe<H;oe++)u[P[oe]]=q}else B?this.options.visualElement.renderState.vars[N]=q:u[N]=q}this.options.layoutId&&(u.pointerEvents=p===this?Df(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach($b),this.root.sharedNodes.clear()}}}function UP(t){t.updateLayout()}function zP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?mi(_=>{const E=l?e.measuredBox[_]:e.layoutBox[_],b=An(E);E.min=n[_].min,E.max=E.min+b}):Hw(a,e.layoutBox,n)&&mi(_=>{const E=l?e.measuredBox[_]:e.layoutBox[_],b=An(n[_]);E.max=E.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+b)});const u=ol();nu(u,n,e.layoutBox);const f=ol();l?nu(f,t.applyTransform(s,!0),e.measuredBox):nu(f,n,e.layoutBox);const m=!kw(u);let p=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:b}=_;if(E&&b){const S=$t();Wf(S,e.layoutBox,E.layoutBox);const N=$t();Wf(N,n,b.layoutBox),jw(S,N)||(p=!0),_.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function BP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function FP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HP(t){t.clearSnapshot()}function $b(t){t.clearMeasurements()}function Qb(t){t.isLayoutDirty=!1}function qP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Wb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GP(t){t.resolveTargetDelta()}function YP(t){t.calcProjection()}function KP(t){t.resetSkewAndRotation()}function $P(t){t.removeLeadSnapshot()}function Xb(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Jb(t,e,n,s){t.min=Tt(e.min,n.min,s),t.max=Tt(e.max,n.max,s)}function QP(t,e,n,s){Jb(t.x,e.x,n.x,s),Jb(t.y,e.y,n.y,s)}function WP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XP={duration:.45,ease:[.4,0,.1,1]},Zb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ex=Zb("applewebkit/")&&!Zb("chrome/")?Math.round:yi;function tx(t){t.min=ex(t.min),t.max=ex(t.max)}function JP(t){tx(t.x),tx(t.y)}function Hw(t,e,n){return t==="position"||t==="preserve-aspect"&&!TP(Hb(e),Hb(n),.2)}function ZP(t){return t!==t.root&&t.scroll?.wasRoot}const eV=Fw({attachResizeListener:(t,e)=>pu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),gg={current:void 0},qw=Fw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gg.current){const t=new eV({});t.mount(window),t.setOptions({layoutScroll:!0}),gg.current=t}return gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E_=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tV(...t){return e=>{let n=!1;const s=t.map(a=>{const l=nx(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():nx(t[a],null)}}}}function nV(...t){return O.useCallback(tV(...t),t)}class iV extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=iy(s)&&s.offsetWidth||0,l=iy(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function sV({children:t,isPresent:e,anchorX:n,anchorY:s,root:a}){const l=O.useId(),u=O.useRef(null),f=O.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=O.useContext(E_),p=t.props?.ref??t?.ref,_=nV(u,p);return O.useInsertionEffect(()=>{const{width:E,height:b,top:S,left:N,right:k,bottom:P}=f.current;if(e||!u.current||!E||!b)return;const B=n==="left"?`left: ${N}`:`right: ${k}`,q=s==="bottom"?`bottom: ${P}`:`top: ${S}`;u.current.dataset.motionPopId=l;const H=document.createElement("style");m&&(H.nonce=m);const oe=a??document.head;return oe.appendChild(H),H.sheet&&H.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${b}px !important;
            ${B}px !important;
            ${q}px !important;
          }
        `),()=>{oe.contains(H)&&oe.removeChild(H)}},[e]),y.jsx(iV,{isPresent:e,childRef:u,sizeRef:f,children:O.cloneElement(t,{ref:_})})}const rV=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:m,root:p})=>{const _=Yy(aV),E=O.useId();let b=!0,S=O.useMemo(()=>(b=!1,{id:E,initial:e,isPresent:n,custom:a,onExitComplete:N=>{_.set(N,!0);for(const k of _.values())if(!k)return;s&&s()},register:N=>(_.set(N,!1),()=>_.delete(N))}),[n,_,s]);return l&&b&&(S={...S}),O.useMemo(()=>{_.forEach((N,k)=>_.set(k,!1))},[n]),O.useEffect(()=>{!n&&!_.size&&s&&s()},[n]),u==="popLayout"&&(t=y.jsx(sV,{isPresent:n,anchorX:f,anchorY:m,root:p,children:t})),y.jsx(xd.Provider,{value:S,children:t})};function aV(){return new Map}function Gw(t=!0){const e=O.useContext(xd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const _f=t=>t.key||"";function ix(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const oV=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:m="top",root:p})=>{const[_,E]=Gw(u),b=O.useMemo(()=>ix(t),[t]),S=u&&!_?[]:b.map(_f),N=O.useRef(!0),k=O.useRef(b),P=Yy(()=>new Map),B=O.useRef(new Set),[q,H]=O.useState(b),[oe,ee]=O.useState(b);AS(()=>{N.current=!1,k.current=b;for(let R=0;R<oe.length;R++){const I=_f(oe[R]);S.includes(I)?(P.delete(I),B.current.delete(I)):P.get(I)!==!0&&P.set(I,!1)}},[oe,S.length,S.join("-")]);const le=[];if(b!==q){let R=[...b];for(let I=0;I<oe.length;I++){const L=oe[I],V=_f(L);S.includes(V)||(R.splice(I,0,L),le.push(L))}return l==="wait"&&le.length&&(R=le),ee(ix(R)),H(b),null}const{forceRender:C}=O.useContext(Gy);return y.jsx(y.Fragment,{children:oe.map(R=>{const I=_f(R),L=u&&!_?!1:b===oe||S.includes(I),V=()=>{if(B.current.has(I))return;if(B.current.add(I),P.has(I))P.set(I,!0);else return;let z=!0;P.forEach(D=>{D||(z=!1)}),z&&(C?.(),ee(k.current),u&&E?.(),s&&s())};return y.jsx(rV,{isPresent:L,initial:!N.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:L?void 0:V,anchorX:f,anchorY:m,children:R},I)})})},Yw=O.createContext({strict:!1}),sx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let rx=!1;function lV(){if(rx)return;const t={};for(const e in sx)t[e]={isEnabled:n=>sx[e].some(s=>!!n[s])};Tw(t),rx=!0}function Kw(){return lV(),KM()}function cV(t){const e=Kw();for(const n in t)e[n]={...e[n],...t[n]};Tw(e)}const uV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uV.has(t)}let $w=t=>!Xf(t);function hV(t){typeof t=="function"&&($w=e=>e.startsWith("on")?!Xf(e):t(e))}try{hV(require("@emotion/is-prop-valid").default)}catch{}function fV(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||($w(a)||n===!0&&Xf(a)||!e&&!Xf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const wd=O.createContext({});function dV(t,e){if(Sd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||mu(n)?n:void 0,animate:mu(s)?s:void 0}}return t.inherit!==!1?e:{}}function mV(t){const{initial:e,animate:n}=dV(t,O.useContext(wd));return O.useMemo(()=>({initial:e,animate:n}),[ax(e),ax(n)])}function ax(t){return Array.isArray(t)?t.join(" "):t}const T_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Qw(t,e,n){for(const s in e)!vn(e[s])&&!Iw(s,n)&&(t[s]=e[s])}function pV({transformTemplate:t},e){return O.useMemo(()=>{const n=T_();return __(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gV(t,e){const n=t.style||{},s={};return Qw(s,n,t),Object.assign(s,pV(t,e)),s}function yV(t,e){const n={},s=gV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Ww=()=>({...T_(),attrs:{}});function _V(t,e,n,s){const a=O.useMemo(()=>{const l=Ww();return Cw(l,e,Dw(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Qw(l,t.style,t),a.style={...l,...a.style}}return a}const vV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b_(t){return typeof t!="string"||t.includes("-")?!1:!!(vV.indexOf(t)>-1||/[A-Z]/u.test(t))}function EV(t,e,n,{latestValues:s},a,l=!1,u){const m=(u??b_(t)?_V:yV)(e,s,a,t),p=fV(e,typeof t=="string",l),_=t!==O.Fragment?{...p,...m,ref:n}:{},{children:E}=e,b=O.useMemo(()=>vn(E)?E.get():E,[E]);return O.createElement(t,{..._,children:b})}function TV({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:bV(n,s,a,t),renderState:e()}}function bV(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=Df(l[b]);let{initial:u,animate:f}=t;const m=Sd(t),p=Ew(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let _=n?n.initial===!1:!1;_=_||u===!1;const E=_?f:u;if(E&&typeof E!="boolean"&&!Ad(E)){const b=Array.isArray(E)?E:[E];for(let S=0;S<b.length;S++){const N=h_(t,b[S]);if(N){const{transitionEnd:k,transition:P,...B}=N;for(const q in B){let H=B[q];if(Array.isArray(H)){const oe=_?H.length-1:0;H=H[oe]}H!==null&&(a[q]=H)}for(const q in k)a[q]=k[q]}}}return a}const Xw=t=>(e,n)=>{const s=O.useContext(wd),a=O.useContext(xd),l=()=>TV(t,e,s,a);return n?l():Yy(l)},xV=Xw({scrapeMotionValuesFromProps:v_,createRenderState:T_}),AV=Xw({scrapeMotionValuesFromProps:Ow,createRenderState:Ww}),SV=Symbol.for("motionComponentSymbol");function wV(t,e,n){const s=O.useRef(n);O.useInsertionEffect(()=>{s.current=n});const a=O.useRef(null);return O.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const Jw=O.createContext({});function Kc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RV(t,e,n,s,a,l){const{visualElement:u}=O.useContext(wd),f=O.useContext(Yw),m=O.useContext(xd),p=O.useContext(E_),_=p.reducedMotion,E=p.skipAnimations,b=O.useRef(null),S=O.useRef(!1);s=s||f.renderer,!b.current&&s&&(b.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:_,skipAnimations:E,isSVG:l}),S.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const N=b.current,k=O.useContext(Jw);N&&!N.projection&&a&&(N.type==="html"||N.type==="svg")&&IV(b.current,n,a,k);const P=O.useRef(!1);O.useInsertionEffect(()=>{N&&P.current&&N.update(n,m)});const B=n[ow],q=O.useRef(!!B&&!window.MotionHandoffIsComplete?.(B)&&window.MotionHasOptimisedAnimation?.(B));return AS(()=>{S.current=!0,N&&(P.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),N.scheduleRenderMicrotask(),q.current&&N.animationState&&N.animationState.animateChanges())}),O.useEffect(()=>{N&&(!q.current&&N.animationState&&N.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(B)}),q.current=!1),N.enteringChildren=void 0)}),N}function IV(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:_}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Zw(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Kc(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:_,layoutScroll:m,layoutRoot:p})}function Zw(t){if(t)return t.options.allowProjection!==!1?t.projection:Zw(t.parent)}function yg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&cV(s);const l=n?n==="svg":b_(t),u=l?AV:xV;function f(p,_){let E;const b={...O.useContext(E_),...p,layoutId:CV(p)},{isStatic:S}=b,N=mV(p),k=u(p,S);if(!S&&xS){NV();const P=DV(b);E=P.MeasureLayout,N.visualElement=RV(t,k,b,a,P.ProjectionNode,l)}return y.jsxs(wd.Provider,{value:N,children:[E&&N.visualElement?y.jsx(E,{visualElement:N.visualElement,...b}):null,EV(t,p,wV(k,N.visualElement,_),k,S,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=O.forwardRef(f);return m[SV]=t,m}function CV({layoutId:t}){const e=O.useContext(Gy).id;return e&&t!==void 0?e+"-"+t:t}function NV(t,e){O.useContext(Yw).strict}function DV(t){const e=Kw(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function OV(t,e){if(typeof Proxy>"u")return yg;const n=new Map,s=(l,u)=>yg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,yg(u,void 0,t,e)),n.get(u))})}const MV=(t,e)=>e.isSVG??b_(t)?new uP(e):new sP(e,{allowProjection:t!==O.Fragment});class PV extends aa{constructor(e){super(e),e.animationState||(e.animationState=pP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ad(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VV=0;class LV extends aa{constructor(){super(...arguments),this.id=VV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kV={animation:{Feature:PV},exit:{Feature:LV}};function Nu(t){return{point:{x:t.pageX,y:t.pageY}}}const jV=t=>e=>p_(e)&&t(e,Nu(e));function iu(t,e,n,s){return pu(t,e,jV(n),s)}const eR=({current:t})=>t?t.ownerDocument.defaultView:null,ox=(t,e)=>Math.abs(t-e);function UV(t,e){const n=ox(t.x,e.x),s=ox(t.y,e.y);return Math.sqrt(n**2+s**2)}const lx=new Set(["auto","scroll"]);class tR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=vg(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,k=UV(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!k)return;const{point:P}=S,{timestamp:B}=cn;this.history.push({...P,timestamp:B});const{onStart:q,onMove:H}=this.handlers;N||(q&&q(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,S)},this.handlePointerMove=(S,N)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=_g(N,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(S,N)=>{this.end();const{onEnd:k,onSessionEnd:P,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=vg(S.type==="pointercancel"?this.lastMoveEventInfo:_g(N,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,q),P&&P(S,q)},!p_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=Nu(e),p=_g(m,this.transformPagePoint),{point:_}=p,{timestamp:E}=cn;this.history=[{..._,timestamp:E}];const{onSessionStart:b}=n;b&&b(e,vg(p,this.history)),this.removeListeners=Ru(iu(this.contextWindow,"pointermove",this.handlePointerMove),iu(this.contextWindow,"pointerup",this.handlePointerUp),iu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(lx.has(s.overflowX)||lx.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),dt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Jr(this.updatePoint)}}function _g(t,e){return e?{point:e(t.point)}:t}function cx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vg({point:t},e){return{point:t,delta:cx(t,nR(e)),offset:cx(t,zV(e)),velocity:BV(e,.1)}}function zV(t){return t[0]}function nR(t){return t[t.length-1]}function BV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=nR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Xs(e)));)n--;if(!s)return{x:0,y:0};const l=gi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function FV(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Tt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Tt(n,t,s.max):Math.min(t,n)),t}function ux(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function HV(t,{top:e,left:n,bottom:s,right:a}){return{x:ux(t.x,n,a),y:ux(t.y,e,s)}}function hx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function qV(t,e){return{x:hx(t.x,e.x),y:hx(t.y,e.y)}}function GV(t,e){let n=.5;const s=An(t),a=An(e);return a>s?n=hu(e.min,e.max-s,t.min):s>a&&(n=hu(t.min,t.max-a,e.min)),bs(0,1,n)}function YV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ly=.35;function KV(t=ly){return t===!1?t=0:t===!0&&(t=ly),{x:fx(t,"left","right"),y:fx(t,"top","bottom")}}function fx(t,e,n){return{min:dx(t,e),max:dx(t,n)}}function dx(t,e){return typeof t=="number"?t:t[e]||0}const $V=new WeakMap;class QV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=E=>{n?(this.stopAnimation(),this.snapToCursor(Nu(E).point)):this.pauseAnimation()},u=(E,b)=>{this.stopAnimation();const{drag:S,dragPropagation:N,onDragStart:k}=this.getProps();if(S&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OM(S),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mi(B=>{let q=this.getAxisMotionValue(B).get()||0;if(gs.test(q)){const{projection:H}=this.visualElement;if(H&&H.layout){const oe=H.layout.layoutBox[B];oe&&(q=An(oe)*(parseFloat(q)/100))}}this.originPoint[B]=q}),k&&dt.update(()=>k(E,b),!1,!0),ey(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},f=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:N,onDirectionLock:k,onDrag:P}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:B}=b;if(N&&this.currentDirection===null){this.currentDirection=WV(B),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",b.point,B),this.updateAxis("y",b.point,B),this.visualElement.render(),P&&dt.update(()=>P(E,b),!1,!0)},m=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b,this.stop(E,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>mi(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new tR(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:s,contextWindow:eR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&dt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!vf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=FV(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Kc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=HV(s.layoutBox,e):this.constraints=!1,this.elastic=KV(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&mi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=YV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Kc(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=JM(s,a.root,this.visualElement.getTransformPagePoint());let u=qV(a.layout.layoutBox,l);if(n){const f=n(QM(u));this.hasMutatedConstraints=!!f,f&&(u=xw(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=mi(_=>{if(!vf(_,n,this.currentDirection))return;let E=m&&m[_]||{};u&&(E={min:0,max:0});const b=a?200:1e6,S=a?40:1e7,N={type:"inertia",velocity:s?e[_]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(_,N)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ey(this.visualElement,e),s.start(u_(e,s,0,n,this.visualElement,!1))}stopAnimation(){mi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){mi(n=>{const{drag:s}=this.getProps();if(!vf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-Tt(u,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Kc(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};mi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=GV({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),mi(u=>{if(!vf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(Tt(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;$V.set(this.visualElement,this);const e=this.visualElement.current,n=iu(e,"pointerdown",m=>{const{drag:p,dragListener:_=!0}=this.getProps(),E=m.target,b=E!==e&&kM(E);p&&_&&!b&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Kc(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(s);const u=pu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(mi(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=m[_].translate,E.set(E.get()+m[_].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=ly,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function vf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function WV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XV extends aa{constructor(e){super(e),this.removeGroupControls=yi,this.removeListeners=yi,this.controls=new QV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Eg=t=>(e,n)=>{t&&dt.update(()=>t(e,n),!1,!0)};class JV extends aa{constructor(){super(...arguments),this.removePointerDownListener=yi}onPointerDown(e){this.session=new tR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Eg(e),onStart:Eg(n),onMove:Eg(s),onEnd:(l,u)=>{delete this.session,a&&dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Tg=!1;class ZV extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Tg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Of.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),Tg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),m_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Tg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iR(t){const[e,n]=Gw(),s=O.useContext(Gy);return y.jsx(ZV,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(Jw),isPresent:e,safeToRemove:n})}const eL={pan:{Feature:JV},drag:{Feature:XV,ProjectionNode:qw,MeasureLayout:iR}};function mx(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&dt.postRender(()=>l(e,Nu(e)))}class tL extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=MM(e,(n,s)=>(mx(this.node,s,"Start"),a=>mx(this.node,a,"End"))))}unmount(){}}class nL extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(pu(this.node.current,"focus",()=>this.onFocus()),pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function px(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&dt.postRender(()=>l(e,Nu(e)))}class iL extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=UM(e,(n,s)=>(px(this.node,s,"Start"),(a,{success:l})=>px(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cy=new WeakMap,bg=new WeakMap,sL=t=>{const e=cy.get(t.target);e&&e(t)},rL=t=>{t.forEach(sL)};function aL({root:t,...e}){const n=t||document;bg.has(n)||bg.set(n,{});const s=bg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(rL,{root:t,...e})),s[a]}function oL(t,e,n){const s=aL(e);return cy.set(t,n),s.observe(t),()=>{cy.delete(t),s.unobserve(t)}}const lL={some:0,all:1};class cL extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:lL[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:_,onViewportLeave:E}=this.node.getProps(),b=p?_:E;b&&b(m)};return oL(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uL(e,n))&&this.startObserver()}unmount(){}}function uL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hL={inView:{Feature:cL},tap:{Feature:iL},focus:{Feature:nL},hover:{Feature:tL}},fL={layout:{ProjectionNode:qw,MeasureLayout:iR}},dL={...kV,...hL,...eL,...fL},Rt=OV(dL,MV),mL=()=>{};var gx={};const sR=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},pL=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},rR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,S=p&63;m||(S=64,u||(b=64)),s.push(n[_],n[E],n[b],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const E=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||E==null)throw new gL;const b=l<<2|f>>4;if(s.push(b),p!==64){const S=f<<4&240|p>>2;if(s.push(S),E!==64){const N=p<<6&192|E;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yL=function(t){const e=sR(t);return rR.encodeByteArray(e,!0)},Jf=function(t){return yL(t).replace(/\./g,"")},aR=function(t){try{return rR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _L(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vL=()=>_L().__FIREBASE_DEFAULTS__,EL=()=>{if(typeof process>"u"||typeof gx>"u")return;const t=gx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aR(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return mL()||vL()||EL()||TL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oR=t=>Rd()?.emulatorHosts?.[t],lR=t=>{const e=oR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cR=()=>Rd()?.config,uR=t=>Rd()?.[`_${t}`];class bL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function io(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x_(t){return(await fetch(t,{credentials:"include"})).ok}function hR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jf(JSON.stringify(n)),Jf(JSON.stringify(u)),""].join(".")}const su={};function xL(){const t={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?t.emulator.push(e):t.prod.push(e);return t}function AL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yx=!1;function A_(t,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||su[t]===e||su[t]||yx)return;su[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=xL().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{yx=!0,u()},b}function _(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=AL(s),S=n("text"),N=document.getElementById(S)||document.createElement("span"),k=n("learnmore"),P=document.getElementById(k)||document.createElement("a"),B=n("preprendIcon"),q=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;f(H),_(P,k);const oe=p();m(q,B),H.append(q,N,P,oe),document.body.appendChild(H)}l?(N.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function wL(){const t=Rd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CL(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NL(){return!wL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dR(){try{return typeof indexedDB=="object"}catch{return!1}}function mR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function DL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const OL="FirebaseError";class Ei extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=OL,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,so.prototype.create)}}class so{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?ML(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ei(a,f,s)}}function ML(t,e){return t.replace(PL,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const PL=/\{\$([^}]+)}/g;function VL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(_x(l)&&_x(u)){if(!nr(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function _x(t){return t!==null&&typeof t=="object"}function Du(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $c(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LL(t,e){const n=new kL(t,e);return n.subscribe.bind(n)}class kL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}const UL=1e3,zL=2,BL=14400*1e3,FL=.5;function vx(t,e=UL,n=zL){const s=e*Math.pow(n,t),a=Math.round(FL*s*(Math.random()-.5)*2);return Math.min(BL,s+a)}function It(t){return t&&t._delegate?t._delegate:t}class vi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class HL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bL;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GL(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qL(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qL(t){return t===Fa?void 0:t}function GL(t){return t.instantiationMode==="EAGER"}class YL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const KL={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},$L=He.INFO,QL={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},WL=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=QL[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Id{constructor(e){this.name=e,this._logLevel=$L,this._logHandler=WL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const XL=(t,e)=>e.some(n=>t instanceof n);let Ex,Tx;function JL(){return Ex||(Ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZL(){return Tx||(Tx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pR=new WeakMap,uy=new WeakMap,gR=new WeakMap,Ag=new WeakMap,S_=new WeakMap;function ek(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n($r(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&pR.set(n,t)}).catch(()=>{}),S_.set(e,t),e}function tk(t){if(uy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});uy.set(t,e)}let hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nk(t){hy=t(hy)}function ik(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Sg(this),e,...n);return gR.set(s,e.sort?e.sort():[e]),$r(s)}:ZL().includes(t)?function(...e){return t.apply(Sg(this),e),$r(pR.get(this))}:function(...e){return $r(t.apply(Sg(this),e))}}function sk(t){return typeof t=="function"?ik(t):(t instanceof IDBTransaction&&tk(t),XL(t,JL())?new Proxy(t,hy):t)}function $r(t){if(t instanceof IDBRequest)return ek(t);if(Ag.has(t))return Ag.get(t);const e=sk(t);return e!==t&&(Ag.set(t,e),S_.set(e,t)),e}const Sg=t=>S_.get(t);function yR(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=$r(u);return s&&u.addEventListener("upgradeneeded",m=>{s($r(u.result),m.oldVersion,m.newVersion,$r(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const rk=["get","getKey","getAll","getAllKeys","count"],ak=["put","add","delete","clear"],wg=new Map;function bx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ak.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||rk.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return wg.set(e,l),l}nk(t=>({...t,get:(e,n,s)=>bx(e,n)||t.get(e,n,s),has:(e,n)=>!!bx(e,n)||t.has(e,n)}));class ok{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lk(t){return t.getComponent()?.type==="VERSION"}const fy="@firebase/app",xx="0.14.7";const ir=new Id("@firebase/app"),ck="@firebase/app-compat",uk="@firebase/analytics-compat",hk="@firebase/analytics",fk="@firebase/app-check-compat",dk="@firebase/app-check",mk="@firebase/auth",pk="@firebase/auth-compat",gk="@firebase/database",yk="@firebase/data-connect",_k="@firebase/database-compat",vk="@firebase/functions",Ek="@firebase/functions-compat",Tk="@firebase/installations",bk="@firebase/installations-compat",xk="@firebase/messaging",Ak="@firebase/messaging-compat",Sk="@firebase/performance",wk="@firebase/performance-compat",Rk="@firebase/remote-config",Ik="@firebase/remote-config-compat",Ck="@firebase/storage",Nk="@firebase/storage-compat",Dk="@firebase/firestore",Ok="@firebase/ai",Mk="@firebase/firestore-compat",Pk="firebase",Vk="12.8.0";const dy="[DEFAULT]",Lk={[fy]:"fire-core",[ck]:"fire-core-compat",[hk]:"fire-analytics",[uk]:"fire-analytics-compat",[dk]:"fire-app-check",[fk]:"fire-app-check-compat",[mk]:"fire-auth",[pk]:"fire-auth-compat",[gk]:"fire-rtdb",[yk]:"fire-data-connect",[_k]:"fire-rtdb-compat",[vk]:"fire-fn",[Ek]:"fire-fn-compat",[Tk]:"fire-iid",[bk]:"fire-iid-compat",[xk]:"fire-fcm",[Ak]:"fire-fcm-compat",[Sk]:"fire-perf",[wk]:"fire-perf-compat",[Rk]:"fire-rc",[Ik]:"fire-rc-compat",[Ck]:"fire-gcs",[Nk]:"fire-gcs-compat",[Dk]:"fire-fst",[Mk]:"fire-fst-compat",[Ok]:"fire-vertex","fire-js":"fire-js",[Pk]:"fire-js-all"};const Zf=new Map,kk=new Map,my=new Map;function Ax(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fi(t){const e=t.name;if(my.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(const n of Zf.values())Ax(n,t);for(const n of kk.values())Ax(n,t);return!0}function oa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}const jk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new so("app","Firebase",jk);class Uk{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const ro=Vk;function _R(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:dy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Qr.create("bad-app-name",{appName:String(a)});if(n||(n=cR()),!n)throw Qr.create("no-options");const l=Zf.get(a);if(l){if(nr(n,l.options)&&nr(s,l.config))return l;throw Qr.create("duplicate-app",{appName:a})}const u=new YL(a);for(const m of my.values())u.addComponent(m);const f=new Uk(n,s,u);return Zf.set(a,f),f}function Cd(t=dy){const e=Zf.get(t);if(!e&&t===dy&&cR())return _R();if(!e)throw Qr.create("no-app",{appName:t});return e}function Vn(t,e,n){let s=Lk[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(u.join(" "));return}Fi(new vi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const zk="firebase-heartbeat-database",Bk=1,gu="firebase-heartbeat-store";let Rg=null;function vR(){return Rg||(Rg=yR(zk,Bk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function Fk(t){try{const n=(await vR()).transaction(gu),s=await n.objectStore(gu).get(ER(t));return await n.done,s}catch(e){if(e instanceof Ei)ir.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(n.message)}}}async function Sx(t,e){try{const s=(await vR()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,ER(t)),await s.done}catch(n){if(n instanceof Ei)ir.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(s.message)}}}function ER(t){return`${t.name}!${t.options.appId}`}const Hk=1024,qk=30;class Gk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>qk){const a=$k(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wx(),{heartbeatsToSend:n,unsentEntries:s}=Yk(this._heartbeatsCache.heartbeats),a=Jf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ir.warn(e),""}}}function wx(){return new Date().toISOString().substring(0,10)}function Yk(t,e=Hk){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Rx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Rx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Kk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dR()?mR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rx(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}function $k(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function Qk(t){Fi(new vi("platform-logger",e=>new ok(e),"PRIVATE")),Fi(new vi("heartbeat",e=>new Gk(e),"PRIVATE")),Vn(fy,xx,t),Vn(fy,xx,"esm2020"),Vn("fire-js","")}Qk("");var Ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wr,TR;(function(){var t;function e(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(L,V,z){for(var D=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)D[Me-2]=arguments[Me];return R.prototype[V].apply(L,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,I){I||(I=0);const L=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)L[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;V<16;++V)L[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],V=C.g[2];let z=C.g[3],D;D=R+(z^I&(V^z))+L[0]+3614090360&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(V^R&(I^V))+L[1]+3905402710&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(I^z&(R^I))+L[2]+606105819&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(R^V&(z^R))+L[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(z^I&(V^z))+L[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(V^R&(I^V))+L[5]+1200080426&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(I^z&(R^I))+L[6]+2821735955&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(R^V&(z^R))+L[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(z^I&(V^z))+L[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(V^R&(I^V))+L[9]+2336552879&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(I^z&(R^I))+L[10]+4294925233&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(R^V&(z^R))+L[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(z^I&(V^z))+L[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(V^R&(I^V))+L[13]+4254626195&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(I^z&(R^I))+L[14]+2792965006&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(R^V&(z^R))+L[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(V^z&(I^V))+L[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(R^I))+L[6]+3225465664&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(z^R))+L[11]+643717713&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(V^z))+L[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(V^z&(I^V))+L[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(R^I))+L[10]+38016083&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(z^R))+L[15]+3634488961&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(V^z))+L[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(V^z&(I^V))+L[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(R^I))+L[14]+3275163606&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(z^R))+L[3]+4107603335&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(V^z))+L[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(V^z&(I^V))+L[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(R^I))+L[2]+4243563512&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(z^R))+L[7]+1735328473&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(V^z))+L[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(I^V^z)+L[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^V)+L[8]+2272392833&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^I)+L[11]+1839030562&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^R)+L[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(I^V^z)+L[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^V)+L[4]+1272893353&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^I)+L[7]+4139469664&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^R)+L[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(I^V^z)+L[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^V)+L[0]+3936430074&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^I)+L[3]+3572445317&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^R)+L[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(I^V^z)+L[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^V)+L[12]+3873151461&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^I)+L[15]+530742520&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^R)+L[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(V^(I|~z))+L[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~V))+L[7]+1126891415&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~I))+L[14]+2878612391&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~R))+L[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=R+(V^(I|~z))+L[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~V))+L[3]+2399980690&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~I))+L[10]+4293915773&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~R))+L[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=R+(V^(I|~z))+L[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~V))+L[15]+4264355552&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~I))+L[6]+2734768916&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~R))+L[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=R+(V^(I|~z))+L[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~V))+L[11]+3174756917&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~I))+L[2]+718787259&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~R))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,L=this.C;let V=this.h,z=0;for(;z<R;){if(V==0)for(;z<=I;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<R;)if(L[V++]=C.charCodeAt(z++),V==this.blockSize){a(this,L),V=0;break}}else for(;z<R;)if(L[V++]=C[z++],V==this.blockSize){a(this,L),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)C[R++]=this.g[I]>>>L&255;return C};function l(C,R){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function u(C,R){this.h=R;const I=[];let L=!0;for(let V=C.length-1;V>=0;V--){const z=C[V]|0;L&&z==R||(I[V]=z,L=!1)}this.g=I}var f={};function m(C){return-128<=C&&C<128?l(C,function(R){return new u([R|0],R<0?-1:0)}):new u([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return P(p(-C));const R=[];let I=1;for(let L=0;C>=I;L++)R[L]=C/I|0,I*=4294967296;return new u(R,0)}function _(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return P(_(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(R,8));let L=E;for(let z=0;z<C.length;z+=8){var V=Math.min(8,C.length-z);const D=parseInt(C.substring(z,z+V),R);V<8?(V=p(Math.pow(R,V)),L=L.j(V).add(p(D))):(L=L.j(I),L=L.add(p(D)))}return L}var E=m(0),b=m(1),S=m(16777216);t=u.prototype,t.m=function(){if(k(this))return-P(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);C+=(L>=0?L:4294967296+L)*R,R*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(k(this))return"-"+P(this).toString(C);const R=p(Math.pow(C,6));var I=this;let L="";for(;;){const V=oe(I,R).g;I=B(I,V.j(R));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,N(I))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function k(C){return C.h==-1}t.l=function(C){return C=B(this,C),k(C)?-1:N(C)?0:1};function P(C){const R=C.g.length,I=[];for(let L=0;L<R;L++)I[L]=~C.g[L];return new u(I,~C.h).add(b)}t.abs=function(){return k(this)?P(this):this},t.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let L=0;for(let V=0;V<=R;V++){let z=L+(this.i(V)&65535)+(C.i(V)&65535),D=(z>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);L=D>>>16,z&=65535,D&=65535,I[V]=D<<16|z}return new u(I,I[I.length-1]&-2147483648?-1:0)};function B(C,R){return C.add(P(R))}t.j=function(C){if(N(this)||N(C))return E;if(k(this))return k(C)?P(this).j(P(C)):P(P(this).j(C));if(k(C))return P(this.j(P(C)));if(this.l(S)<0&&C.l(S)<0)return p(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var L=0;L<2*R;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<C.g.length;V++){const z=this.i(L)>>>16,D=this.i(L)&65535,Me=C.i(V)>>>16,Je=C.i(V)&65535;I[2*L+2*V]+=D*Je,q(I,2*L+2*V),I[2*L+2*V+1]+=z*Je,q(I,2*L+2*V+1),I[2*L+2*V+1]+=D*Me,q(I,2*L+2*V+1),I[2*L+2*V+2]+=z*Me,q(I,2*L+2*V+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new u(I,0)};function q(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function H(C,R){this.g=C,this.h=R}function oe(C,R){if(N(R))throw Error("division by zero");if(N(C))return new H(E,E);if(k(C))return R=oe(P(C),R),new H(P(R.g),P(R.h));if(k(R))return R=oe(C,P(R)),new H(P(R.g),R.h);if(C.g.length>30){if(k(C)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,L=R;L.l(C)<=0;)I=ee(I),L=ee(L);var V=le(I,1),z=le(L,1);for(L=le(L,2),I=le(I,2);!N(L);){var D=z.add(L);D.l(C)<=0&&(V=V.add(I),z=D),L=le(L,1),I=le(I,1)}return R=B(C,V.j(R)),new H(V,R)}for(V=E;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=p(I),D=z.j(R);k(D)||D.l(C)>0;)I-=L,z=p(I),D=z.j(R);N(z)&&(z=b),V=V.add(z),C=B(C,D)}return new H(V,C)}t.B=function(C){return oe(this,C).h},t.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)&C.i(L);return new u(I,this.h&C.h)},t.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)|C.i(L);return new u(I,this.h|C.h)},t.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)^C.i(L);return new u(I,this.h^C.h)};function ee(C){const R=C.g.length+1,I=[];for(let L=0;L<R;L++)I[L]=C.i(L)<<1|C.i(L-1)>>>31;return new u(I,C.h)}function le(C,R){const I=R>>5;R%=32;const L=C.g.length-I,V=[];for(let z=0;z<L;z++)V[z]=R>0?C.i(z+I)>>>R|C.i(z+I+1)<<32-R:C.i(z+I);return new u(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,TR=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,Wr=u}).apply(typeof Ix<"u"?Ix:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bR,Wc,xR,Mf,py,AR,SR,wR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var v=0;v<h.length;++v){var x=h[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var x=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var G=h[w];if(!(G in x))break e;x=x[G]}h=h[h.length-1],w=x[h],v=v(w),v!=w&&v!=null&&e(x,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var x=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&x.push([w,v[w]]);return x}});var l=l||{},u=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,x){return h.call.apply(h.bind,arguments)}function p(h,v,x){return p=m,p.apply(null,arguments)}function _(h,v){var x=Array.prototype.slice.call(arguments,1);return function(){var w=x.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,v){function x(){}x.prototype=v.prototype,h.Z=v.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(w,G,W){for(var he=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)he[Ve-2]=arguments[Ve];return v.prototype[G].apply(w,he)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const v=h.length;if(v>0){const x=Array(v);for(let w=0;w<v;w++)x[w]=h[w];return x}return[]}function N(h,v){for(let w=1;w<arguments.length;w++){const G=arguments[w];var x=typeof G;if(x=x!="object"?x:G?Array.isArray(G)?"array":x:"null",x=="array"||x=="object"&&typeof G.length=="number"){x=h.length||0;const W=G.length||0;h.length=x+W;for(let he=0;he<W;he++)h[x+he]=G[he]}else h.push(G)}}class k{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(h){u.setTimeout(()=>{throw h},0)}function B(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class q{constructor(){this.h=this.g=null}add(v,x){const w=H.get();w.set(v,x),this.h?this.h.next=w:this.g=w,this.h=w}}var H=new k(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,le=!1,C=new q,R=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(I)}};function I(){for(var h;h=B();){try{h.h.call(h.g)}catch(x){P(x)}var v=H;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}le=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,v),u.removeEventListener("test",x,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Me(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}E(Me,V),Me.prototype.init=function(h,v){const x=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(x=="mouseover"?v=h.fromElement:x=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Je="closure_listenable_"+(Math.random()*1e6|0),J=0;function $(h,v,x,w,G){this.listener=h,this.proxy=null,this.src=v,this.type=x,this.capture=!!w,this.ha=G,this.key=++J,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h,v,x){for(const w in h)v.call(x,h[w],w,h)}function ge(h,v){for(const x in h)v.call(void 0,h[x],x,h)}function j(h){const v={};for(const x in h)v[x]=h[x];return v}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,v){let x,w;for(let G=1;G<arguments.length;G++){w=arguments[G];for(x in w)h[x]=w[x];for(let W=0;W<ie.length;W++)x=ie[W],Object.prototype.hasOwnProperty.call(w,x)&&(h[x]=w[x])}}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,v,x,w,G){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const he=Ce(h,v,w,G);return he>-1?(v=h[he],x||(v.fa=!1)):(v=new $(v,this.src,W,!!w,G),v.fa=x,h.push(v)),v};function we(h,v){const x=v.type;if(x in h.g){var w=h.g[x],G=Array.prototype.indexOf.call(w,v,void 0),W;(W=G>=0)&&Array.prototype.splice.call(w,G,1),W&&(ce(v),h.g[x].length==0&&(delete h.g[x],h.h--))}}function Ce(h,v,x,w){for(let G=0;G<h.length;++G){const W=h[G];if(!W.da&&W.listener==v&&W.capture==!!x&&W.ha==w)return G}return-1}var je="closure_lm_"+(Math.random()*1e6|0),yt={};function Ze(h,v,x,w,G){if(Array.isArray(v)){for(let W=0;W<v.length;W++)Ze(h,v[W],x,w,G);return null}return x=Te(x),h&&h[Je]?h.J(v,x,f(w)?!!w.capture:!1,G):Ti(h,v,x,!1,w,G)}function Ti(h,v,x,w,G,W){if(!v)throw Error("Invalid event type");const he=f(G)?!!G.capture:!!G;let Ve=mn(h);if(Ve||(h[je]=Ve=new pe(h)),x=Ve.add(v,x,w,he,W),x.proxy)return x;if(w=bi(),x.proxy=w,w.src=h,w.listener=x,h.addEventListener)z||(G=he),G===void 0&&(G=!1),h.addEventListener(v.toString(),w,G);else if(h.attachEvent)h.attachEvent(ht(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return x}function bi(){function h(x){return v.call(h.src,h.listener,x)}const v=Wt;return h}function ue(h,v,x,w,G){if(Array.isArray(v))for(var W=0;W<v.length;W++)ue(h,v[W],x,w,G);else w=f(w)?!!w.capture:!!w,x=Te(x),h&&h[Je]?(h=h.i,W=String(v).toString(),W in h.g&&(v=h.g[W],x=Ce(v,x,w,G),x>-1&&(ce(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete h.g[W],h.h--)))):h&&(h=mn(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ce(v,x,w,G)),(x=h>-1?v[h]:null)&&be(x))}function be(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Je])we(v.i,h);else{var x=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(x,w,h.capture):v.detachEvent?v.detachEvent(ht(x),w):v.addListener&&v.removeListener&&v.removeListener(w),(x=mn(v))?(we(x,h),x.h==0&&(x.src=null,v[je]=null)):ce(h)}}}function ht(h){return h in yt?yt[h]:yt[h]="on"+h}function Wt(h,v){if(h.da)h=!0;else{v=new Me(v,this);const x=h.listener,w=h.ha||h.src;h.fa&&be(h),h=x.call(w,v)}return h}function mn(h){return h=h[je],h instanceof pe?h:null}var Z="__closure_events_fn_"+(Math.random()*1e9>>>0);function Te(h){return typeof h=="function"?h:(h[Z]||(h[Z]=function(v){return h.handleEvent(v)}),h[Z])}function Pe(){L.call(this),this.i=new pe(this),this.M=this,this.G=null}E(Pe,L),Pe.prototype[Je]=!0,Pe.prototype.removeEventListener=function(h,v,x,w){ue(this,h,v,x,w)};function et(h,v){var x,w=h.G;if(w)for(x=[];w;w=w.G)x.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var G=v;v=new V(w,h),fe(v,G)}G=!0;let W,he;if(x)for(he=x.length-1;he>=0;he--)W=v.g=x[he],G=tn(W,w,!0,v)&&G;if(W=v.g=h,G=tn(W,w,!0,v)&&G,G=tn(W,w,!1,v)&&G,x)for(he=0;he<x.length;he++)W=v.g=x[he],G=tn(W,w,!1,v)&&G}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const x=h.g[v];for(let w=0;w<x.length;w++)ce(x[w]);delete h.g[v],h.h--}}this.G=null},Pe.prototype.J=function(h,v,x,w){return this.i.add(String(h),v,!1,x,w)},Pe.prototype.K=function(h,v,x,w){return this.i.add(String(h),v,!0,x,w)};function tn(h,v,x,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let W=0;W<v.length;++W){const he=v[W];if(he&&!he.da&&he.capture==x){const Ve=he.listener,Nt=he.ha||he.src;he.fa&&we(h.i,he),G=Ve.call(Nt,w)!==!1&&G}}return G&&!w.defaultPrevented}function Zn(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function ho(h){h.g=Zn(()=>{h.g=null,h.i&&(h.i=!1,ho(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class xt extends L{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(h){L.call(this),this.h=h,this.g={}}E(ei,L);var Ln=[];function kn(h){me(h.g,function(v,x){this.g.hasOwnProperty(x)&&be(v)},h),h.g={}}ei.prototype.N=function(){ei.Z.N.call(this),kn(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=u.JSON.stringify,fo=u.JSON.parse,mo=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Bu(){}function Fu(){}var xi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){V.call(this,"d")}E(nn,V);function ti(){V.call(this,"c")}E(ti,V);var Ct={},Hu=null;function po(){return Hu=Hu||new Pe}Ct.Ia="serverreachability";function qu(h){V.call(this,Ct.Ia,h)}E(qu,V);function Yi(h){const v=po();et(v,new qu(v))}Ct.STAT_EVENT="statevent";function fa(h,v){V.call(this,Ct.STAT_EVENT,h),this.stat=v}E(fa,V);function Vt(h){const v=po();et(v,new fa(v,h))}Ct.Ja="timingevent";function Ki(h,v){V.call(this,Ct.Ja,h),this.size=v}E(Ki,V);function $i(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Ai(){this.g=!0}Ai.prototype.ua=function(){this.g=!1};function tm(h,v,x,w,G,W){h.info(function(){if(h.g)if(W){var he="",Ve=W.split("&");for(let We=0;We<Ve.length;We++){var Nt=Ve[We].split("=");if(Nt.length>1){const _t=Nt[0];Nt=Nt[1];const ri=_t.split("_");he=ri.length>=2&&ri[1]=="type"?he+(_t+"="+Nt+"&"):he+(_t+"=redacted&")}}}else he=null;else he=W;return"XMLHTTP REQ ("+w+") [attempt "+G+"]: "+v+`
`+x+`
`+he})}function Gu(h,v,x,w,G,W,he){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+G+"]: "+v+`
`+x+`
`+W+" "+he})}function Qi(h,v,x,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+nm(h,x)+(w?" "+w:"")})}function da(h,v){h.info(function(){return"TIMEOUT: "+v})}Ai.prototype.info=function(){};function nm(h,v){if(!h.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var x=W[h];if(!(x.length<2)){var w=x[1];if(Array.isArray(w)&&!(w.length<1)){var G=w[0];if(G!="noop"&&G!="stop"&&G!="close")for(let he=1;he<w.length;he++)w[he]=""}}}}return Rs(W)}catch{return v}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fl;function pa(){}E(pa,Bu),pa.prototype.g=function(){return new XMLHttpRequest},Fl=new pa;function Is(h){return encodeURIComponent(String(h))}function Yu(h){var v=1;h=h.split(":");const x=[];for(;v>0&&h.length;)x.push(h.shift()),v--;return h.length&&x.push(h.join(":")),x}function Si(h,v,x,w){this.j=h,this.i=v,this.l=x,this.S=w||1,this.V=new ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var Lt={},Xt={};function Wi(h,v,x){h.M=1,h.A=ga(jt(v)),h.u=x,h.R=!0,go(h,null)}function go(h,v){h.F=Date.now(),Xi(h),h.B=jt(h.A);var x=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Eo(x.i,"t",w),h.C=0,x=h.j.L,h.h=new wi,h.g=oh(h.j,x?v:null,!h.u),h.P>0&&(h.O=new xt(p(h.Y,h,h.g),h.P)),v=h.V,x=h.g,w=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Ln[0]=G.toString()),G=Ln);for(let W=0;W<G.length;W++){const he=Ze(x,G[W],w||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Yi(),tm(h.i,h.v,h.B,h.l,h.S,h.u)}Si.prototype.ba=function(h){h=h.target;const v=this.O;v&&Ci(h)==3?v.j():this.Y(h)},Si.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=Ci(this.g),Nt=this.g.ya(),We=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ve!=4||Nt==7||(Nt==8||We<=0?Yi(3):Yi(2)),Ji(this);var v=this.g.ca();this.X=v;var x=im(this);if(this.o=v==200,Gu(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,G=this.g;if((w=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var W=w;break t}}W=null}if(h=W)Qi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zi(this,h);else{this.o=!1,this.m=3,Vt(12),jn(this),ni(this);break e}}if(this.R){h=!0;let _t;for(;!this.K&&this.C<x.length;)if(_t=$u(this,x),_t==Xt){Ve==4&&(this.m=4,Vt(14),h=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Lt){this.m=4,Vt(15),Qi(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Qi(this.i,this.l,_t,null),Zi(this,_t);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||x.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)Qi(this.i,this.l,x,"[Invalid Chunked Response]"),jn(this),ni(this);else if(x.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ic(he),he.P=!0,Vt(11))}}else Qi(this.i,this.l,x,null),Zi(this,x);Ve==4&&jn(this),this.o&&!this.K&&(Ve==4?ih(this.j,this):(this.o=!1,Xi(this)))}else Ns(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),jn(this),ni(this)}}}catch{}};function im(h){if(!Ku(h))return h.g.la();const v=sn(h.g);if(v==="")return"";let x="";const w=v.length,G=Ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),ni(h),"";h.h.i=new u.TextDecoder}for(let W=0;W<w;W++)h.h.h=!0,x+=h.h.i.decode(v[W],{stream:!(G&&W==w-1)});return v.length=0,h.h.g+=x,h.C=0,h.h.g}function Ku(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function $u(h,v){var x=h.C,w=v.indexOf(`
`,x);return w==-1?Xt:(x=Number(v.substring(x,w)),isNaN(x)?Lt:(w+=1,w+x>v.length?Xt:(v=v.slice(w,w+x),h.C=w+x,v)))}Si.prototype.cancel=function(){this.K=!0,jn(this)};function Xi(h){h.T=Date.now()+h.H,yo(h,h.H)}function yo(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=$i(p(h.aa,h),v)}function Ji(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Si.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(da(this.i,this.B),this.M!=2&&(Yi(),Vt(17)),jn(this),this.m=2,ni(this)):yo(this,this.T-h)};function ni(h){h.j.I==0||h.K||ih(h.j,h)}function jn(h){Ji(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,kn(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Zi(h,v){try{var x=h.j;if(x.I!=0&&(x.g==h||ts(x.h,h))){if(!h.L&&ts(x.h,h)&&x.I==3){try{var w=x.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var G=w;if(G[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)So(x),pr(x);else break e;xa(x),Vt(18)}}else x.xa=G[1],0<x.xa-x.K&&G[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=$i(p(x.Va,x),6e3));es(x.h)<=1&&x.ta&&(x.ta=void 0)}else os(x,11)}else if((h.L||x.g==h)&&So(x),!D(v))for(G=x.Ba.g.parse(v),v=0;v<G.length;v++){let We=G[v];const _t=We[0];if(!(_t<=x.K))if(x.K=_t,We=We[1],x.I==2)if(We[0]=="c"){x.M=We[1],x.ba=We[2];const ri=We[3];ri!=null&&(x.ka=ri,x.j.info("VER="+x.ka));const ls=We[4];ls!=null&&(x.za=ls,x.j.info("SVER="+x.za));const Ni=We[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(w=1.5*Ni,x.O=w,x.j.info("backChannelRequestTimeoutMs_="+w)),w=x;const Di=h.g;if(Di){const Aa=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var W=w.h;W.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Gl(W,W.h),W.h=null))}if(w.G){const wo=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(w.wa=wo,nt(w.J,w.G,wo))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),w=x;var he=h;if(w.na=ah(w,w.L?w.ba:null,w.W),he.L){Yl(w.h,he);var Ve=he,Nt=w.O;Nt&&(Ve.H=Nt),Ve.D&&(Ji(Ve),Xi(Ve)),w.g=he}else th(w);x.i.length>0&&as(x)}else We[0]!="stop"&&We[0]!="close"||os(x,7);else x.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?os(x,7):tc(x):We[0]!="noop"&&x.l&&x.l.qa(We),x.A=0)}}Yi(4)}catch{}}var kt=class{constructor(h,v){this.g=h,this.map=v}};function Hl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ql(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function es(h){return h.h?1:h.g?h.g.size:0}function ts(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Gl(h,v){h.g?h.g.add(v):h.h=v}function Yl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Hl.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Kl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const x of h.g.values())v=v.concat(x.G);return v}return S(h.i)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(h,v){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const w=h[x].indexOf("=");let G,W=null;w>=0?(G=h[x].substring(0,w),W=h[x].substring(w+1)):G=h[x],v(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Un(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Un?(this.l=h.l,Jt(this,h.j),this.o=h.o,this.g=h.g,lr(this,h.u),this.h=h.h,$l(this,Zu(h.i)),this.m=h.m):h&&(v=String(h).match(Qu))?(this.l=!1,Jt(this,v[1]||"",!0),this.o=ns(v[2]||""),this.g=ns(v[3]||"",!0),lr(this,v[4]),this.h=ns(v[5]||"",!0),$l(this,v[6]||"",!0),this.m=ns(v[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}Un.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(ya(v,vo,!0),":");var x=this.g;return(x||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ya(v,vo,!0),"@"),h.push(Is(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(ya(x,x.charAt(0)=="/"?Ql:Wu,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",ya(x,Xu)),h.join("")},Un.prototype.resolve=function(h){const v=jt(this);let x=!!h.j;x?Jt(v,h.j):x=!!h.o,x?v.o=h.o:x=!!h.g,x?v.g=h.g:x=h.u!=null;var w=h.h;if(x)lr(v,h.u);else if(x=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var G=v.h.lastIndexOf("/");G!=-1&&(w=v.h.slice(0,G+1)+w)}if(G=w,G==".."||G==".")w="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){w=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let he=0;he<G.length;){const Ve=G[he++];Ve=="."?w&&he==G.length&&W.push(""):Ve==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),w&&he==G.length&&W.push("")):(W.push(Ve),w=!0)}w=W.join("/")}else w=G}return x?v.h=w:x=h.i.toString()!=="",x?$l(v,Zu(h.i)):x=!!h.m,x&&(v.m=h.m),v};function jt(h){return new Un(h)}function Jt(h,v,x){h.j=x?ns(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function lr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function $l(h,v,x){v instanceof ur?(h.i=v,To(h.i,h.l)):(x||(v=ya(v,cr)),h.i=new ur(v,h.l))}function nt(h,v,x){h.i.set(v,x)}function ga(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ns(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ya(h,v,x){return typeof h=="string"?(h=encodeURI(h).replace(v,wn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var vo=/[#\/\?@]/g,Wu=/[#\?:]/g,Ql=/[#\?]/g,cr=/[#\?@]/g,Xu=/#/g;function ur(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Rn(h){h.g||(h.g=new Map,h.h=0,h.i&&_o(h.i,function(v,x){h.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}t=ur.prototype,t.add=function(h,v){Rn(this),this.i=null,h=hr(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(v),this.h+=1,this};function Ju(h,v){Rn(h),v=hr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Wl(h,v){return Rn(h),v=hr(h,v),h.g.has(v)}t.forEach=function(h,v){Rn(this),this.g.forEach(function(x,w){x.forEach(function(G){h.call(v,G,w,this)},this)},this)};function Xl(h,v){Rn(h);let x=[];if(typeof v=="string")Wl(h,v)&&(x=x.concat(h.g.get(hr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)x=x.concat(h[v]);return x}t.set=function(h,v){return Rn(this),this.i=null,h=hr(this,h),Wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=Xl(this,h),h.length>0?String(h[0]):v):v};function Eo(h,v,x){Ju(h,v),x.length>0&&(h.i=null,h.g.set(hr(h,v),S(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var x=v[w];const G=Is(x);x=Xl(this,x);for(let W=0;W<x.length;W++){let he=G;x[W]!==""&&(he+="="+Is(x[W])),h.push(he)}}return this.i=h.join("&")};function Zu(h){const v=new ur;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function hr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function To(h,v){v&&!h.j&&(Rn(h),h.i=null,h.g.forEach(function(x,w){const G=w.toLowerCase();w!=G&&(Ju(this,w),Eo(this,G,x))},h)),h.j=v}function Ri(h,v){const x=new Ai;if(u.Image){const w=new Image;w.onload=_(ii,x,"TestLoadImage: loaded",!0,v,w),w.onerror=_(ii,x,"TestLoadImage: error",!1,v,w),w.onabort=_(ii,x,"TestLoadImage: abort",!1,v,w),w.ontimeout=_(ii,x,"TestLoadImage: timeout",!1,v,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Jl(h,v){const x=new Ai,w=new AbortController,G=setTimeout(()=>{w.abort(),ii(x,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(W=>{clearTimeout(G),W.ok?ii(x,"TestPingServer: ok",!0,v):ii(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),ii(x,"TestPingServer: error",!1,v)})}function ii(h,v,x,w,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),w(x)}catch{}}function fr(){this.g=new mo}function is(h){this.i=h.Sb||null,this.h=h.ab||!1}E(is,Bu),is.prototype.g=function(){return new _a(this.i,this.h)};function _a(h,v){Pe.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(_a,Pe),t=_a.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Ii(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?dr(this):Ii(this),this.readyState==3&&bo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,dr(this))},t.Na=function(h){this.g&&(this.response=h,dr(this))},t.ga=function(){this.g&&dr(this)};function dr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ii(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=v.next();return h.join(`\r
`)};function Ii(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function si(h){let v="";return me(h,function(x,w){v+=w,v+=":",v+=x,v+=`\r
`}),v}function va(h,v,x){e:{for(w in x){var w=!1;break e}w=!0}w||(x=si(x),typeof h=="string"?x!=null&&Is(x):nt(h,v,x))}function at(h){Pe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(at,Pe);var ss=/^https?$/i,Zl=["POST","PUT"];t=at.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,x,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(W){Ea(this,W);return}if(h=x||"",x=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var G in w)x.set(G,w[G]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())x.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),G=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Zl,v,void 0)>=0)||w||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of x)this.g.setRequestHeader(W,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){Ea(this,W)}};function Ea(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ec(h),Cs(h)}function ec(h){h.A||(h.A=!0,et(h,"complete"),et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,et(this,"complete"),et(this,"abort"),Cs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ta(this):this.Xa())},t.Xa=function(){Ta(this)};function Ta(h){if(h.h&&typeof l<"u"){if(h.v&&Ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(et(h,"readystatechange"),Ci(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var w;if(w=W===0){let he=String(h.D).match(Qu)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),w=!ss.test(he?he.toLowerCase():"")}x=w}if(x)et(h,"complete"),et(h,"success");else{h.o=6;try{var G=Ci(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",ec(h)}}finally{Cs(h)}}}}function Cs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,v||et(h,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ci(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),fo(v)}};function sn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ns(h){const v={};h=(h.g&&Ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(D(h[w]))continue;var x=Yu(h[w]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=v[G]||[];v[G]=W,W.push(x)}ge(v,function(w){return w.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(h,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||v}function mr(h){this.za=0,this.i=[],this.j=new Ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rs("baseRetryDelayMs",5e3,h),this.Za=rs("retryDelaySeedMs",1e4,h),this.Ta=rs("forwardChannelMaxRetries",2,h),this.va=rs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Hl(h&&h.concurrentRequestLimit),this.Ba=new fr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mr.prototype,t.ka=8,t.I=1,t.connect=function(h,v,x,w){Vt(0),this.W=h,this.H=v||{},x&&w!==void 0&&(this.H.OSID=x,this.H.OAID=w),this.F=this.X,this.J=ah(this,null,this.W),as(this)};function tc(h){if(xo(h),h.I==3){var v=h.V++,x=jt(h.J);if(nt(x,"SID",h.M),nt(x,"RID",v),nt(x,"TYPE","terminate"),ba(h,x),v=new Si(h,h.j,v),v.M=2,v.A=ga(jt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=v.A,x=!0),x||(v.g=oh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Xi(v)}rh(h)}function pr(h){h.g&&(ic(h),h.g.cancel(),h.g=null)}function xo(h){pr(h),h.v&&(u.clearTimeout(h.v),h.v=null),So(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function as(h){if(!ql(h.h)&&!h.m){h.m=!0;var v=h.Ea;ee||R(),le||(ee(),le=!0),C.add(v,h),h.D=0}}function Ao(h,v){return es(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=$i(p(h.Ea,h,v),sh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Si(this,this.j,h);let W=this.o;if(this.U&&(W?(W=j(W),fe(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var w=this.i[x];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=eh(this,G,v),x=jt(this.J),nt(x,"RID",h),nt(x,"CVER",22),this.G&&nt(x,"X-HTTP-Session-Id",this.G),ba(this,x),W&&(this.R?v="headers="+Is(si(W))+"&"+v:this.u&&va(x,this.u,W)),Gl(this.h,G),this.Ra&&nt(x,"TYPE","init"),this.S?(nt(x,"$req",v),nt(x,"SID","null"),G.U=!0,Wi(G,x,null)):Wi(G,x,v),this.I=2}}else this.I==3&&(h?nc(this,h):this.i.length==0||ql(this.h)||nc(this))};function nc(h,v){var x;v?x=v.l:x=h.V++;const w=jt(h.J);nt(w,"SID",h.M),nt(w,"RID",x),nt(w,"AID",h.K),ba(h,w),h.u&&h.o&&va(w,h.u,h.o),x=new Si(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),v&&(h.i=v.G.concat(h.i)),v=eh(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Gl(h.h,x),Wi(x,w,v)}function ba(h,v){h.H&&me(h.H,function(x,w){nt(v,w,x)}),h.l&&me({},function(x,w){nt(v,w,x)})}function eh(h,v,x){x=Math.min(h.i.length,x);const w=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ve=-1;for(;;){const Nt=["count="+x];Ve==-1?x>0?(Ve=G[0].g,Nt.push("ofs="+Ve)):Ve=0:Nt.push("ofs="+Ve);let We=!0;for(let _t=0;_t<x;_t++){var W=G[_t].g;const ri=G[_t].map;if(W-=Ve,W<0)Ve=Math.max(0,G[_t].g-100),We=!1;else try{W="req"+W+"_"||"";try{var he=ri instanceof Map?ri:Object.entries(ri);for(const[ls,Ni]of he){let Di=Ni;f(Ni)&&(Di=Rs(Ni)),Nt.push(W+ls+"="+encodeURIComponent(Di))}}catch(ls){throw Nt.push(W+"type="+encodeURIComponent("_badmap")),ls}}catch{w&&w(ri)}}if(We){he=Nt.join("&");break e}}he=void 0}return h=h.i.splice(0,x),v.G=h,he}function th(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ee||R(),le||(ee(),le=!0),C.add(v,h),h.A=0}}function xa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=$i(p(h.Da,h),sh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,nh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=$i(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),pr(this),nh(this))};function ic(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function nh(h){h.g=new Si(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=jt(h.na);nt(v,"RID","rpc"),nt(v,"SID",h.M),nt(v,"AID",h.K),nt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(v,"TO",h.ia),nt(v,"TYPE","xmlhttp"),ba(h,v),h.u&&h.o&&va(v,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=ga(jt(v)),x.u=null,x.R=!0,go(x,h)}t.Va=function(){this.C!=null&&(this.C=null,pr(this),xa(this),Vt(19))};function So(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function ih(h,v){var x=null;if(h.g==v){So(h),ic(h),h.g=null;var w=2}else if(ts(h.h,v))x=v.G,Yl(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var G=h.D;w=po(),et(w,new Ki(w,x)),as(h)}else th(h);else if(G=v.m,G==3||G==0&&v.X>0||!(w==1&&Ao(h,v)||w==2&&xa(h)))switch(x&&x.length>0&&(v=h.h,v.i=v.i.concat(x)),G){case 1:os(h,5);break;case 4:os(h,10);break;case 3:os(h,6);break;default:os(h,2)}}}function sh(h,v){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*v}function os(h,v){if(h.j.info("Error code "+v),v==2){var x=p(h.bb,h),w=h.Ua;const G=!w;w=new Un(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Jt(w,"https"),ga(w),G?Ri(w.toString(),x):Jl(w.toString(),x)}else Vt(2);h.I=0,h.l&&h.l.pa(v),rh(h),xo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function rh(h){if(h.I=0,h.ja=[],h.l){const v=Kl(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ja,v),N(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function ah(h,v,x){var w=x instanceof Un?jt(x):new Un(x);if(w.g!="")v&&(w.g=v+"."+w.g),lr(w,w.u);else{var G=u.location;w=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const W=new Un(null);w&&Jt(W,w),v&&(W.g=v),G&&lr(W,G),x&&(W.h=x),w=W}return x=h.G,v=h.wa,x&&v&&nt(w,x,v),nt(w,"VER",h.ka),ba(h,w),w}function oh(h,v,x){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new at(new is({ab:x})):new at(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}t=lh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gr(){}gr.prototype.g=function(h,v){return new Tn(h,v)};function Tn(h,v){Pe.call(this),this.g=new mr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ds(this)}E(Tn,Pe),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){tc(this.g)},Tn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=Rs(h),h=x);v.i.push(new kt(v.Ya++,h)),v.I==3&&as(v)},Tn.prototype.N=function(){this.g.l=null,delete this.j,tc(this.g),delete this.g,Tn.Z.N.call(this)};function ch(h){nn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const x in v){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}E(ch,nn);function uh(){ti.call(this),this.status=1}E(uh,ti);function Ds(h){this.g=h}E(Ds,lh),Ds.prototype.ra=function(){et(this.g,"a")},Ds.prototype.qa=function(h){et(this.g,new ch(h))},Ds.prototype.pa=function(h){et(this.g,new uh)},Ds.prototype.oa=function(){et(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,wR=function(){return new gr},SR=function(){return po()},AR=Ct,py={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,Mf=ma,Bl.COMPLETE="complete",xR=Bl,Fu.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,Wc=Fu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,bR=at}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Pl="12.8.0";function Wk(t){Pl=t}const Wa=new Id("@firebase/firestore");function nl(){return Wa.logLevel}function ye(t,...e){if(Wa.logLevel<=He.DEBUG){const n=e.map(w_);Wa.debug(`Firestore (${Pl}): ${t}`,...n)}}function sr(t,...e){if(Wa.logLevel<=He.ERROR){const n=e.map(w_);Wa.error(`Firestore (${Pl}): ${t}`,...n)}}function El(t,...e){if(Wa.logLevel<=He.WARN){const n=e.map(w_);Wa.warn(`Firestore (${Pl}): ${t}`,...n)}}function w_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ie(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,RR(t,s,n)}function RR(t,e,n){let s=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sr(s),new Error(s)}function tt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||RR(e,a,s)}function Oe(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class IR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(yn.UNAUTHENTICATED)))}shutdown(){}}class Jk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Zk{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Js,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Js)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new IR(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class ej{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tj{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ej(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ij(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=ij(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function gy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Ig(a)===Ig(l)?qe(a,l):Ig(a)?1:-1}return qe(t.length,e.length)}const sj=55296,rj=57343;function Ig(t){const e=t.charCodeAt(0);return e>=sj&&e<=rj}function Tl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Nx="__name__";class ds{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ds.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=ds.isNumericId(e),a=ds.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ds.extractNumericId(e).compare(ds.extractNumericId(n)):gy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class ft extends ds{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const aj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends ds{construct(e,n,s){return new fn(e,n,s)}static isValidIdentifier(e){return aj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nx}static keyField(){return new fn([Nx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ft.fromString(e))}static fromName(e){return new Ae(ft.fromString(e).popFirst(5))}static empty(){return new Ae(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ft(e.slice()))}}function CR(t,e,n){if(!n)throw new de(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oj(t,e,n,s){if(e===!0&&s===!0)throw new de(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dx(t){if(!Ae.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ox(t){if(Ae.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nd(t);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ou(t,e){if(!NR(t))throw new de(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new de(se.INVALID_ARGUMENT,n);return!0}const Mx=-62135596800,Px=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Px);return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mx)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Px}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Yt("string",gt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new gt(0,0))}static max(){return new Ne(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yu=-1;function lj(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new ea(a,Ae.empty(),e)}function cj(t){return new ea(t.readTime,t.key,yu)}class ea{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ea(Ne.min(),Ae.empty(),yu)}static max(){return new ea(Ne.max(),Ae.empty(),yu)}}function uj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}const hj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==hj)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((a=>a?ae.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((_=>{u[p]=_,++f,f===l&&s(u)}),(_=>a(_)))}}))}static doWhile(e,n){return new ae(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function dj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dd.ce=-1;const I_=-1;function Od(t){return t==null}function ed(t){return t===0&&1/t==-1/0}function mj(t){return typeof t=="number"&&Number.isInteger(t)&&!ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const DR="";function pj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Vx(e)),e=gj(t.get(n),e);return Vx(e)}function gj(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case DR:n+="";break;default:n+=l}}return n}function Vx(t){return t+DR+""}function Lx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new hn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kx(this.data.getIterator())}getIteratorFrom(e){return new kx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class kx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Qt(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class MR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new MR("Invalid base64 string: "+l):l}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const yj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=yj.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function na(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}const PR="server_timestamp",VR="__type__",LR="__previous_value__",kR="__local_write_time__";function C_(t){return(t?.mapValue?.fields||{})[VR]?.stringValue===PR}function Md(t){const e=t.mapValue.fields[LR];return C_(e)?Md(e):e}function _u(t){const e=ta(t.mapValue.fields[kR].timestampValue);return new gt(e.seconds,e.nanos)}class _j{constructor(e,n,s,a,l,u,f,m,p,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=E}}const td="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||td}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}function vj(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(t.options.projectId,e)}const jR="__type__",Ej="__max__",bf={mapValue:{}},UR="__vector__",nd="value";function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C_(t)?4:bj(t)?9007199254740991:Tj(t)?10:11:Ie(28295,{value:t})}function xs(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ta(a.timestampValue),f=ta(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return na(a.bytesValue).isEqual(na(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),f=Mt(l.doubleValue);return u===f?ed(u)===ed(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Lx(u)!==Lx(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!xs(u[m],f[m])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function Eu(t,e){return(t.values||[]).find((n=>xs(n,e)))!==void 0}function bl(t,e){if(t===e)return 0;const n=ia(t),s=ia(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Mt(l.integerValue||l.doubleValue),m=Mt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return jx(t.timestampValue,e.timestampValue);case 4:return jx(_u(t),_u(e));case 5:return gy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=na(l),m=na(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const _=qe(f[p],m[p]);if(_!==0)return _}return qe(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=qe(Mt(l.latitude),Mt(u.latitude));return f!==0?f:qe(Mt(l.longitude),Mt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ux(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[nd]?.arrayValue,_=m[nd]?.arrayValue,E=qe(p?.values?.length||0,_?.values?.length||0);return E!==0?E:Ux(p,_)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===bf.mapValue&&u===bf.mapValue)return 0;if(l===bf.mapValue)return 1;if(u===bf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let E=0;E<m.length&&E<_.length;++E){const b=gy(m[E],_[E]);if(b!==0)return b;const S=bl(f[m[E]],p[_[E]]);if(S!==0)return S}return qe(m.length,_.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function jx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=ta(t),s=ta(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function Ux(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=bl(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function xl(t){return yy(t)}function yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ta(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return na(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=yy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${yy(n.fields[u])}`;return a+"}"})(t.mapValue):Ie(61005,{value:t})}function Pf(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Md(t);return e?16+Pf(e):16;case 5:return 2*t.stringValue.length;case 6:return na(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Pf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return la(s.fields,((l,u)=>{a+=l.length+Pf(u)})),a})(t.mapValue);default:throw Ie(13486,{value:t})}}function zx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _y(t){return!!t&&"integerValue"in t}function N_(t){return!!t&&"arrayValue"in t}function Bx(t){return!!t&&"nullValue"in t}function Fx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function Tj(t){return(t?.mapValue?.fields||{})[jR]?.stringValue===UR}function ru(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ru(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(t.arrayValue.values[n]);return e}return{...t}}function bj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ej}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=fn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=ru(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){la(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Pn(ru(this.value))}}function zR(t){const e=[];return la(t.fields,((n,s)=>{const a=new fn([n]);if(Vf(s)){const l=zR(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Qn(e)}class _n{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new _n(e,0,Ne.min(),Ne.min(),Ne.min(),Pn.empty(),0)}static newFoundDocument(e,n,s,a){return new _n(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new _n(e,2,n,Ne.min(),Ne.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Ne.min(),Ne.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class id{constructor(e,n){this.position=e,this.inclusive=n}}function Hx(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ae.comparator(Ae.fromName(u.referenceValue),n.key):s=bl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function qx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xs(t.position[n],e.position[n]))return!1;return!0}class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function xj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class BR{}class Gt extends BR{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Sj(e,n,s):n==="array-contains"?new Ij(e,s):n==="in"?new Cj(e,s):n==="not-in"?new Nj(e,s):n==="array-contains-any"?new Dj(e,s):new Gt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wj(e,s):new Rj(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bl(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends BR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qi(e,n)}matches(e){return FR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FR(t){return t.op==="and"}function HR(t){return Aj(t)&&FR(t)}function Aj(t){for(const e of t.filters)if(e instanceof qi)return!1;return!0}function vy(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+xl(t.value);if(HR(t))return t.filters.map((e=>vy(e))).join(",");{const e=t.filters.map((n=>vy(n))).join(",");return`${t.op}(${e})`}}function qR(t,e){return t instanceof Gt?(function(s,a){return a instanceof Gt&&s.op===a.op&&s.field.isEqual(a.field)&&xs(s.value,a.value)})(t,e):t instanceof qi?(function(s,a){return a instanceof qi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&qR(u,a.filters[f])),!0):!1})(t,e):void Ie(19439)}function GR(t){return t instanceof Gt?(function(n){return`${n.field.canonicalString()} ${n.op} ${xl(n.value)}`})(t):t instanceof qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(GR).join(" ,")+"}"})(t):"Filter"}class Sj extends Gt{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class wj extends Gt{constructor(e,n){super(e,"in",n),this.keys=YR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Rj extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=YR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function YR(t,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class Ij extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return N_(n)&&Eu(n.arrayValue,this.value)}}class Cj extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class Nj extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eu(this.value.arrayValue,n)}}class Dj extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!N_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Eu(this.value.arrayValue,s)))}}class Oj{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Gx(t,e=null,n=[],s=[],a=null,l=null,u=null){return new Oj(t,e,n,s,a,l,u)}function D_(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>vy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>xl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>xl(s))).join(",")),e.Te=n}return e.Te}function O_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qx(t.startAt,e.startAt)&&qx(t.endAt,e.endAt)}function Ey(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class kl{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Mj(t,e,n,s,a,l,u,f){return new kl(t,e,n,s,a,l,u,f)}function M_(t){return new kl(t)}function Yx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Pj(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function KR(t){return t.collectionGroup!==null}function au(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Qt(fn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tu(l,s))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new Tu(fn.keyField(),s))}return e.Ie}function ys(t){const e=Oe(t);return e.Ee||(e.Ee=Vj(e,au(t))),e.Ee}function Vj(t,e){if(t.limitType==="F")return Gx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Tu(a.field,l)}));const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return Gx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ty(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lj(t,e){const n=t.explicitOrderBy.concat([e]);return new kl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function by(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pd(t,e){return O_(ys(t),ys(e))&&t.limitType===e.limitType}function $R(t){return`${D_(ys(t))}|lt:${t.limitType}`}function il(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>GR(a))).join(", ")}]`),Od(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>xl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>xl(a))).join(",")),`Target(${s})`})(ys(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ae.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of au(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const p=Hx(u,f,m);return u.inclusive?p<=0:p<0})(s.startAt,au(s),a)||s.endAt&&!(function(u,f,m){const p=Hx(u,f,m);return u.inclusive?p>=0:p>0})(s.endAt,au(s),a))})(t,e)}function kj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QR(t){return(e,n)=>{let s=!1;for(const a of au(t)){const l=jj(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function jj(t,e,n){const s=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?bl(m,p):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:t.dir})}}class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return OR(this.inner)}size(){return this.innerSize}}const Uj=new bt(Ae.comparator);function rr(){return Uj}const WR=new bt(Ae.comparator);function Xc(...t){let e=WR;for(const n of t)e=e.insert(n.key,n);return e}function XR(t){let e=WR;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ya(){return ou()}function JR(){return ou()}function ou(){return new ao((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zj=new bt(Ae.comparator),Bj=new Qt(Ae.comparator);function Ge(...t){let e=Bj;for(const n of t)e=e.add(n);return e}const Fj=new Qt(qe);function Hj(){return Fj}function P_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function ZR(t){return{integerValue:""+t}}function qj(t,e){return mj(e)?ZR(e):P_(t,e)}class Ld{constructor(){this._=void 0}}function Gj(t,e,n){return t instanceof sd?(function(a,l){const u={fields:{[VR]:{stringValue:PR},[kR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&C_(l)&&(l=Md(l)),l&&(u.fields[LR]=l),{mapValue:u}})(n,e):t instanceof Al?tI(t,e):t instanceof bu?nI(t,e):(function(a,l){const u=eI(a,l),f=Kx(u)+Kx(a.Ae);return _y(u)&&_y(a.Ae)?ZR(f):P_(a.serializer,f)})(t,e)}function Yj(t,e,n){return t instanceof Al?tI(t,e):t instanceof bu?nI(t,e):n}function eI(t,e){return t instanceof rd?(function(s){return _y(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class sd extends Ld{}class Al extends Ld{constructor(e){super(),this.elements=e}}function tI(t,e){const n=iI(e);for(const s of t.elements)n.some((a=>xs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class bu extends Ld{constructor(e){super(),this.elements=e}}function nI(t,e){let n=iI(e);for(const s of t.elements)n=n.filter((a=>!xs(a,s)));return{arrayValue:{values:n}}}class rd extends Ld{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kx(t){return Mt(t.integerValue||t.doubleValue)}function iI(t){return N_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Kj{constructor(e,n){this.field=e,this.transform=n}}function $j(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Al&&a instanceof Al||s instanceof bu&&a instanceof bu?Tl(s.elements,a.elements,xs):s instanceof rd&&a instanceof rd?xs(s.Ae,a.Ae):s instanceof sd&&a instanceof sd})(t.transform,e.transform)}class Qj{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kd{}function sI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new V_(t.key,_i.none()):new Mu(t.key,t.data,_i.none());{const n=t.data,s=Pn.empty();let a=new Qt(fn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new ca(t.key,s,new Qn(a.toArray()),_i.none())}}function Wj(t,e,n){t instanceof Mu?(function(a,l,u){const f=a.value.clone(),m=Qx(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ca?(function(a,l,u){if(!Lf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Qx(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(rI(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function lu(t,e,n,s){return t instanceof Mu?(function(l,u,f,m){if(!Lf(l.precondition,u))return f;const p=l.value.clone(),_=Wx(l.fieldTransforms,m,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ca?(function(l,u,f,m){if(!Lf(l.precondition,u))return f;const p=Wx(l.fieldTransforms,m,u),_=u.data;return _.setAll(rI(l)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,s):(function(l,u,f){return Lf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function Xj(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=eI(s.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(s.field,l))}return n||null}function $x(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Tl(s,a,((l,u)=>$j(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends kd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ca extends kd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Qx(t,e,n){const s=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,Yj(u,f,n[a]))}return s}function Wx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,Gj(l,u,e))}return s}class V_ extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jj extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zj{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Wj(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=JR();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=sI(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((n,s)=>$x(n,s)))&&Tl(this.baseMutations,e.baseMutations,((n,s)=>$x(n,s)))}}class L_{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return zj})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new L_(e,n,s,a)}}class e4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class t4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ht,Ke;function n4(t){switch(t){case se.OK:return Ie(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function aI(t){if(t===void 0)return sr("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ht.OK:return se.OK;case Ht.CANCELLED:return se.CANCELLED;case Ht.UNKNOWN:return se.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return se.INTERNAL;case Ht.UNAVAILABLE:return se.UNAVAILABLE;case Ht.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ht.NOT_FOUND:return se.NOT_FOUND;case Ht.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ht.ABORTED:return se.ABORTED;case Ht.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ht.DATA_LOSS:return se.DATA_LOSS;default:return Ie(39323,{code:t})}}(Ke=Ht||(Ht={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function i4(){return new TextEncoder}const s4=new Wr([4294967295,4294967295],0);function Xx(t){const e=i4().encode(t),n=new TR;return n.update(e),new Uint8Array(n.digest())}function Jx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Wr([n,s],0),new Wr([a,l],0)]}class k_{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jc(`Invalid padding: ${n}`);if(s<0)throw new Jc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Wr.fromNumber(s)));return a.compare(s4)===1&&(a=new Wr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Xx(e),[s,a]=Jx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new k_(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=Xx(e),[s,a]=Jx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jd(Ne.min(),a,new bt(qe),rr(),Ge())}}class Pu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pu(s,n,Ge(),Ge(),Ge())}}class kf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class oI{constructor(e,n){this.targetId=e,this.Ce=n}}class lI{constructor(e,n,s=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Zx{constructor(){this.ve=0,this.Fe=eA(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),s=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ie(38017,{changeType:l})}})),new Pu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=eA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class r4{constructor(e){this.Ge=e,this.ze=new Map,this.je=rr(),this.He=xf(),this.Je=xf(),this.Ze=new bt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ey(l))if(s===0){const u=new Ae(l.path);this.et(n,u,_n.newNoDocument(u,Ne.min()))}else tt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=na(s).toUint8Array()}catch(m){if(m instanceof MR)return El("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new k_(u,a,l)}catch(m){return El(m instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Ey(f.target)){const m=new Ae(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,_n.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=Ge();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new jd(e,n,this.Ze,this.je,s);return this.je=rr(),this.He=xf(),this.Je=xf(),this.Ze=new bt(qe),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Zx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Qt(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Qt(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xf(){return new bt(Ae.comparator)}function eA(){return new bt(Ae.comparator)}const a4={asc:"ASCENDING",desc:"DESCENDING"},o4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l4={and:"AND",or:"OR"};class c4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xy(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u4(t,e){return ad(t,e.toTimestamp())}function _s(t){return tt(!!t,49232),Ne.fromTimestamp((function(n){const s=ta(n);return new gt(s.seconds,s.nanos)})(t))}function j_(t,e){return Ay(t,e).canonicalString()}function Ay(t,e){const n=(function(a){return new ft(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uI(t){const e=ft.fromString(t);return tt(pI(e),10190,{key:e.toString()}),e}function Sy(t,e){return j_(t.databaseId,e.path)}function Cg(t,e){const n=uI(e);if(n.get(1)!==t.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(fI(n))}function hI(t,e){return j_(t.databaseId,e)}function h4(t){const e=uI(t);return e.length===4?ft.emptyPath():fI(e)}function wy(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fI(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tA(t,e,n){return{name:Sy(t,e),fields:n.value.mapValue.fields}}function f4(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(tt(_===void 0||typeof _=="string",58123),dn.fromBase64String(_||"")):(tt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),dn.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const _=p.code===void 0?se.UNKNOWN:aI(p.code);return new de(_,p.message||"")})(u);n=new lI(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Cg(t,s.document.name),l=_s(s.document.updateTime),u=s.document.createTime?_s(s.document.createTime):Ne.min(),f=new Pn({mapValue:{fields:s.document.fields}}),m=_n.newFoundDocument(a,l,u,f),p=s.targetIds||[],_=s.removedTargetIds||[];n=new kf(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Cg(t,s.document),l=s.readTime?_s(s.readTime):Ne.min(),u=_n.newNoDocument(a,l),f=s.removedTargetIds||[];n=new kf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Cg(t,s.document),l=s.removedTargetIds||[];n=new kf([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new t4(a,l),f=s.targetId;n=new oI(f,u)}}return n}function d4(t,e){let n;if(e instanceof Mu)n={update:tA(t,e.key,e.value)};else if(e instanceof V_)n={delete:Sy(t,e.key)};else if(e instanceof ca)n={update:tA(t,e.key,e.data),updateMask:b4(e.fieldMask)};else{if(!(e instanceof Jj))return Ie(16599,{dt:e.type});n={verify:Sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof sd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Al)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof bu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ie(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:u4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(t,e.precondition)),n}function m4(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?_s(a.updateTime):_s(l);return u.isEqual(Ne.min())&&(u=_s(l)),new Qj(u,a.transformResults||[])})(n,e)))):[]}function p4(t,e){return{documents:[hI(t,e.path)]}}function g4(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hI(t,a);const l=(function(p){if(p.length!==0)return mI(qi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((_=>(function(b){return{field:sl(b.field),direction:v4(b.dir)}})(_)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=xy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function y4(t){let e=h4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){tt(s===1,65062);const _=n.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=(function(E){const b=dI(E);return b instanceof qi&&HR(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((b=>(function(N){return new Tu(rl(N.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(E){let b;return b=typeof E=="object"?E.value:E,Od(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(E){const b=!!E.before,S=E.values||[];return new id(S,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const b=!E.before,S=E.values||[];return new id(S,b)})(n.endAt)),Mj(e,a,u,l,f,"F",m,p)}function _4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=rl(n.unaryFilter.field);return Gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=rl(n.unaryFilter.field);return Gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rl(n.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=rl(n.unaryFilter.field);return Gt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gt.create(rl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return qi.create(n.compositeFilter.filters.map((s=>dI(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function v4(t){return a4[t]}function E4(t){return o4[t]}function T4(t){return l4[t]}function sl(t){return{fieldPath:t.canonicalString()}}function rl(t){return fn.fromServerFormat(t.fieldPath)}function mI(t){return t instanceof Gt?(function(n){if(n.op==="=="){if(Fx(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(Bx(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fx(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(Bx(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:E4(n.op),value:n.value}}})(t):t instanceof qi?(function(n){const s=n.getFilters().map((a=>mI(a)));return s.length===1?s[0]:{compositeFilter:{op:T4(n.op),filters:s}}})(t):Ie(54877,{filter:t})}function b4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function gI(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Kr{constructor(e,n,s,a,l=Ne.min(),u=Ne.min(),f=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class x4{constructor(e){this.yt=e}}function A4(t){const e=y4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?by(e,e.limit,"L"):e}class S4{constructor(){this.Sn=new w4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(ea.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class w4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Qt(ft.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Qt(ft.comparator)).toArray()}}const nA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yI=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(yI,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class Sl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Sl(0)}static ar(){return new Sl(-1)}}const iA="LruGarbageCollector",R4=1048576;function sA([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class I4{constructor(e){this.Pr=e,this.buffer=new Qt(sA),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sA(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ye(iA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?ye(iA,"Ignoring IndexedDB error during garbage collection: ",n):await Vl(n)}await this.Ar(3e5)}))}}class N4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Dd.ce);const s=new I4(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(nA)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nA):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(s=E,f=Date.now(),this.removeTargets(e,s,n)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(p=Date.now(),nl()<=He.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function D4(t,e){return new N4(t,e)}class O4{constructor(){this.changes=new ao((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class M4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class P4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&lu(s.mutation,a,Qn.empty(),gt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ge()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ge()){const a=Ya();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Xc();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Ya();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ge())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=rr();const u=ou(),f=(function(){return ou()})();return n.forEach(((m,p)=>{const _=s.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof ca)?l=l.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),lu(_.mutation,p,_.mutation.getFieldMask(),gt.now())):u.set(p.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,_)=>u.set(p,_))),n.forEach(((p,_)=>f.set(p,new M4(_,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=ou();let a=new bt(((u,f)=>u-f)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let _=s.get(m)||Qn.empty();_=f.applyToLocalView(p,_),s.set(m,_);const E=(a.get(f.batchId)||Ge()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,_=m.value,E=JR();_.forEach((b=>{if(!l.has(b)){const S=sI(n.get(b),s.get(b));S!==null&&E.set(b,S),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,E))}return ae.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return Pj(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(Ya());let f=yu,m=l;return u.next((p=>ae.forEach(p,((_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next((b=>{m=m.insert(_,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ge()))).next((_=>({batchId:f,changes:XR(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((s=>{let a=Xc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Xc();return this.indexManager.getCollectionParents(e,l).next((f=>ae.forEach(f,(m=>{const p=(function(E,b){return new kl(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((_=>{_.forEach(((E,b)=>{u=u.insert(E,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,_n.newInvalidDocument(_)))}));let f=Xc();return u.forEach(((m,p)=>{const _=l.get(m);_!==void 0&&lu(_.mutation,p,Qn.empty(),gt.now()),Vd(n,p)&&(f=f.insert(m,p))})),f}))}}class V4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:_s(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:A4(a.bundledQuery),readTime:_s(a.readTime)}})(n)),ae.resolve()}}class L4{constructor(){this.overlays=new bt(Ae.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ya();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=Ya(),l=n.length+1,u=new Ae(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new bt(((p,_)=>p-_));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let _=l.get(p.largestBatchId);_===null&&(_=Ya(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const f=Ya(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,_)=>f.set(p,_))),!(f.size()>=a)););return ae.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new e4(n,s));let l=this.Lr.get(n);l===void 0&&(l=Ge(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class k4{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class U_{constructor(){this.kr=new Qt(en.Kr),this.qr=new Qt(en.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new en(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new en(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ae(new ft([])),s=new en(n,e),a=new en(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ae(new ft([])),s=new en(n,e),a=new en(n,e+1);let l=Ge();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new en(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class en{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ae.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}class j4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Qt(en.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Zj(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new en(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?I_:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Qt(qe);return n.forEach((a=>{const l=new en(a,0),u=new en(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),ae.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ae.isDocumentKey(l)||(l=l.child(""));const u=new en(new Ae(l),0);let f=new Qt(qe);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),u),ae.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ae.forEach(n.mutations,(a=>{const l=new en(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new en(n,0),a=this.Jr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class U4{constructor(e){this.ti=e,this.docs=(function(){return new bt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let s=rr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=rr();const u=n.path,f=new Ae(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||uj(cj(_),s)<=0||(a.has(_.key)||Vd(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ie(9500)}ni(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new z4(this)}getSize(e){return ae.resolve(this.size)}}class z4 extends O4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class B4{constructor(e){this.persistence=e,this.ri=new ao((n=>D_(n)),O_),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new U_,this.targetCount=0,this.oi=Sl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class _I{constructor(e,n){this._i={},this.overlays={},this.ai=new Dd(0),this.ui=!1,this.ui=!0,this.ci=new k4,this.referenceDelegate=e(this),this.li=new B4(this),this.indexManager=new S4,this.remoteDocumentCache=(function(a){return new U4(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new x4(n),this.Pi=new V4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new j4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const a=new F4(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ae.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class F4 extends fj{constructor(e){super(),this.currentSequenceNumber=e}}class z_{constructor(e){this.persistence=e,this.Ri=new U_,this.Ai=null}static Vi(e){return new z_(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(s=>{const a=Ae.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class od{constructor(e,n){this.persistence=e,this.fi=new ao((s=>pj(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=D4(this,n)}static Vi(e,n){return new od(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pf(e.data.value)),n}wr(e,n,s){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class B_{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new B_(e,n.fromCache,s,a)}}class H4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class q4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return NL()?8:dj(En())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new H4;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(nl()<=He.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(nl()<=He.DEBUG&&ye("QueryEngine","Query:",il(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(nl()<=He.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(n))):ae.resolve())}gs(e,n){if(Yx(n))return ae.resolve(null);let s=ys(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=by(n,null,"F"),s=ys(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Ge(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,u,m.readTime)?this.gs(e,by(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return Yx(n)||a.isEqual(Ne.min())?ae.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?ae.resolve(null):(nl()<=He.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),il(n)),this.Ds(e,u,n,lj(a,yu)).next((f=>f)))}))}bs(e,n){let s=new Qt(QR(e));return n.forEach(((a,l)=>{Vd(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return nl()<=He.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",il(n)),this.fs.getDocumentsMatchingQuery(e,n,ea.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const F_="LocalStore",G4=3e8;class Y4{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new bt(qe),this.Fs=new ao((l=>D_(l)),O_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function K4(t,e,n,s){return new Y4(t,e,n,s)}async function vI(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=Ge();for(const p of a){u.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){f.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function $4(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,_){const E=p.batch,b=E.keys();let S=ae.resolve();return b.forEach((N=>{S=S.next((()=>_.getEntry(m,N))).next((k=>{const P=p.docVersions.get(N);tt(P!==null,48541),k.version.compareTo(P)<0&&(E.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),_.addEntry(k)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Ge();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function EI(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Q4(t,e){const n=Oe(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((_,E)=>{const b=a.get(E);if(!b)return;f.push(n.li.removeMatchingKeys(l,_.removedDocuments,E).next((()=>n.li.addMatchingKeys(l,_.addedDocuments,E))));let S=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?S=S.withResumeToken(dn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,s)),a=a.insert(E,S),(function(k,P,B){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=G4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(b,S,_)&&f.push(n.li.updateTargetData(l,S))}));let m=rr(),p=Ge();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))})),f.push(W4(l,u,e.documentUpdates).next((_=>{m=_.Bs,p=_.Ls}))),!s.isEqual(Ne.min())){const _=n.li.getLastRemoteSnapshotVersion(l).next((E=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(_)}return ae.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function W4(t,e,n){let s=Ge(),a=Ge();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=rr();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):ye(F_,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function X4(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=I_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function J4(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,ae.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new Kr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Ry(t,e,n){const s=Oe(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Ll(u))throw u;ye(F_,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function rA(t,e,n){const s=Oe(t);let a=Ne.min(),l=Ge();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,_){const E=Oe(m),b=E.Fs.get(_);return b!==void 0?ae.resolve(E.vs.get(b)):E.li.getTargetData(p,_)})(s,u,ys(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Ne.min(),n?l:Ge()))).next((f=>(Z4(s,kj(e),f),{documents:f,ks:l})))))}function Z4(t,e,n){let s=t.Ms.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class aA{constructor(){this.activeTargetIds=Hj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eU{constructor(){this.vo=new aA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new aA,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tU{Mo(e){}shutdown(){}}const oA="ConnectivityMonitor";class lA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ye(oA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ye(oA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Af=null;function Iy(){return Af===null?Af=(function(){return 268435456+Math.round(2147483648*Math.random())})():Af++,"0x"+Af.toString(16)}const Ng="RestConnection",nU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===td?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Iy(),f=this.Qo(e,n.toUriEncodedString());ye(Ng,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),_=io(p);return this.zo(e,f,m,s,_).then((E=>(ye(Ng,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw El(Ng,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",s),E}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=nU[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class sU{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const gn="WebChannelConnection",qc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class fl extends iU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!fl.c_){const e=SR();qc(e,AR.STAT_EVENT,(n=>{n.stat===py.PROXY?ye(gn,"STAT_EVENT: detected buffering proxy"):n.stat===py.NOPROXY&&ye(gn,"STAT_EVENT: detected no buffering proxy")})),fl.c_=!0}}zo(e,n,s,a,l){const u=Iy();return new Promise(((f,m)=>{const p=new bR;p.setWithCredentials(!0),p.listenOnce(xR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const E=p.getResponseJson();ye(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Mf.TIMEOUT:ye(gn,`RPC '${e}' ${u} timed out`),m(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const b=p.getStatus();if(ye(gn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S?.error;if(N&&N.status&&N.message){const k=(function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(q)>=0?q:se.UNKNOWN})(N.status);m(new de(k,N.message))}else m(new de(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(se.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(gn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(a);ye(gn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",_,s,15)}))}T_(e,n,s){const a=Iy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");ye(gn,`Creating RPC '${e}' stream ${a}: ${p}`,f);const _=u.createWebChannel(p,f);this.I_(_);let E=!1,b=!1;const S=new sU({Ho:N=>{b?ye(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(E||(ye(gn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ye(gn,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},Jo:()=>_.close()});return qc(_,Wc.EventType.OPEN,(()=>{b||(ye(gn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),qc(_,Wc.EventType.CLOSE,(()=>{b||(b=!0,ye(gn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(_))})),qc(_,Wc.EventType.ERROR,(N=>{b||(b=!0,El(gn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),S.o_(new de(se.UNAVAILABLE,"The operation could not be completed")))})),qc(_,Wc.EventType.MESSAGE,(N=>{if(!b){const k=N.data[0];tt(!!k,16349);const P=k,B=P?.error||P[0]?.error;if(B){ye(gn,`RPC '${e}' stream ${a} received error:`,B);const q=B.status;let H=(function(le){const C=Ht[le];if(C!==void 0)return aI(C)})(q),oe=B.message;H===void 0&&(H=se.INTERNAL,oe="Unknown error status: "+q+" with message "+B.message),b=!0,S.o_(new de(H,oe)),_.close()}else ye(gn,`RPC '${e}' stream ${a} received:`,k),S.__(k)}})),fl.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wR()}}function rU(t){return new fl(t)}function Dg(){return typeof document<"u"?document:null}function Ud(t){return new c4(t,!0)}fl.c_=!1;class TI{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const cA="PersistentStream";class bI{constructor(e,n,s,a,l,u,f,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new de(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(cA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ye(cA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aU extends bI{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f4(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?_s(u.readTime):Ne.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=wy(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=Ey(m)?{documents:p4(l,m)}:{query:g4(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=cI(l,u.resumeToken);const p=xy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ne.min())>0){f.readTime=ad(l,u.snapshotVersion.toTimestamp());const p=xy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=_4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=wy(this.serializer),n.removeTarget=e,this.K_(n)}}class oU extends bI{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=m4(e.writeResults,e.commitTime),s=_s(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=wy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>d4(this.serializer,s)))};this.K_(n)}}class lU{}class cU extends lU{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Ay(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(se.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,Ay(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function uU(t,e,n,s){return new cU(t,e,n,s)}class hU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xa="RemoteStore";class fU{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{oo(this)&&(ye(Xa,"Restarting streams for network reachability change."),await(async function(m){const p=Oe(m);p.Ea.add(4),await Vu(p),p.Va.set("Unknown"),p.Ea.delete(4),await zd(p)})(this))}))})),this.Va=new hU(s,a)}}async function zd(t){if(oo(t))for(const e of t.Ra)await e(!0)}async function Vu(t){for(const e of t.Ra)await e(!1)}function xI(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Y_(n)?G_(n):jl(n).O_()&&q_(n,e))}function H_(t,e){const n=Oe(t),s=jl(n);n.Ia.delete(e),s.O_()&&AI(n,e),n.Ia.size===0&&(s.O_()?s.L_():oo(n)&&n.Va.set("Unknown"))}function q_(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).Z_(e)}function AI(t,e){t.da.$e(e),jl(t).X_(e)}function G_(t){t.da=new r4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.Va.ua()}function Y_(t){return oo(t)&&!jl(t).x_()&&t.Ia.size>0}function oo(t){return Oe(t).Ea.size===0}function SI(t){t.da=void 0}async function dU(t){t.Va.set("Online")}async function mU(t){t.Ia.forEach(((e,n)=>{q_(t,e)}))}async function pU(t,e){SI(t),Y_(t)?(t.Va.ha(e),G_(t)):t.Va.set("Unknown")}async function gU(t,e,n){if(t.Va.set("Online"),e instanceof lI&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){ye(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ld(t,s)}else if(e instanceof kf?t.da.Xe(e):e instanceof oI?t.da.st(e):t.da.tt(e),!n.isEqual(Ne.min()))try{const s=await EI(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(dn.EMPTY_BYTE_STRING,_.snapshotVersion)),AI(l,m);const E=new Kr(_.target,m,p,_.sequenceNumber);q_(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){ye(Xa,"Failed to raise snapshot:",s),await ld(t,s)}}async function ld(t,e,n){if(!Ll(e))throw e;t.Ea.add(1),await Vu(t),t.Va.set("Offline"),n||(n=()=>EI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(Xa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zd(t)}))}function wI(t,e){return e().catch((n=>ld(t,n,e)))}async function Bd(t){const e=Oe(t),n=sa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:I_;for(;yU(e);)try{const a=await X4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,_U(e,a)}catch(a){await ld(e,a)}RI(e)&&II(e)}function yU(t){return oo(t)&&t.Ta.length<10}function _U(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function RI(t){return oo(t)&&!sa(t).x_()&&t.Ta.length>0}function II(t){sa(t).start()}async function vU(t){sa(t).ra()}async function EU(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function TU(t,e,n){const s=t.Ta.shift(),a=L_.from(s,e,n);await wI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Bd(t)}async function bU(t,e){e&&sa(t).Y_&&await(async function(s,a){if((function(u){return n4(u)&&u!==se.ABORTED})(a.code)){const l=s.Ta.shift();sa(s).B_(),await wI(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Bd(s)}})(t,e),RI(t)&&II(t)}async function uA(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),ye(Xa,"RemoteStore received new credentials");const s=oo(n);n.Ea.add(3),await Vu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function xU(t,e){const n=Oe(t);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await Vu(n),n.Va.set("Unknown"))}function jl(t){return t.ma||(t.ma=(function(n,s,a){const l=Oe(n);return l.sa(),new aU(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:dU.bind(null,t),Yo:mU.bind(null,t),t_:pU.bind(null,t),J_:gU.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Y_(t)?G_(t):t.Va.set("Unknown")):(await t.ma.stop(),SI(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,s,a){const l=Oe(n);return l.sa(),new oU(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vU.bind(null,t),t_:bU.bind(null,t),ta:EU.bind(null,t),na:TU.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Bd(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(Xa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class K_{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new K_(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $_(t,e){if(sr("AsyncQueue",`${e}: ${t}`),Ll(t))return new de(se.UNAVAILABLE,`${e}: ${t}`);throw t}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=Xc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new dl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class hA{constructor(){this.ga=new bt(Ae.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class wl{constructor(e,n,s,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new wl(e,n,dl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class AU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class SU{constructor(){this.queries=fA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Oe(n),l=a.queries;a.queries=fA(),l.forEach(((u,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new de(se.ABORTED,"Firestore shutting down"))}}function fA(){return new ao((t=>$R(t)),Pd)}async function CI(t,e){const n=Oe(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new AU,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=$_(u,`Initialization of query '${il(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Q_(n)}async function NI(t,e){const n=Oe(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wU(t,e){const n=Oe(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&Q_(n)}function RU(t,e,n){const s=Oe(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function Q_(t){t.Ca.forEach((e=>{e.next()}))}var Cy,dA;(dA=Cy||(Cy={})).Ma="default",dA.Cache="cache";class DI{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new wl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}class OI{constructor(e){this.key=e}}class MI{constructor(e){this.key=e}}class IU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=QR(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new hA,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,E)=>{const b=a.get(_),S=Vd(this.query,E)?E:null,N=!!b&&this.mutatedKeys.has(b.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;b&&S?b.data.isEqual(S.data)?N!==k&&(s.track({type:3,doc:S}),P=!0):this.su(b,S)||(s.track({type:2,doc:S}),P=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(f=!0)):!b&&S?(s.track({type:0,doc:S}),P=!0):b&&!S&&(s.track({type:1,doc:b}),P=!0,(m||p)&&(f=!0)),P&&(S?(u=u.add(S),l=k?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,E)=>(function(S,N){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:P})}};return k(S)-k(N)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new wl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new MI(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new OI(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const W_="SyncEngine";class CU{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class NU{constructor(e){this.key=e,this.hu=!1}}class DU{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ao((f=>$R(f)),Pd),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(Ae.comparator),this.Au=new Map,this.Vu=new U_,this.du={},this.mu=new Map,this.fu=Sl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OU(t,e,n=!0){const s=UI(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await PI(s,e,n,!0),a}async function MU(t,e){const n=UI(t);await PI(n,e,!0,!1)}async function PI(t,e,n,s){const a=await J4(t.localStore,ys(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await PU(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&xI(t.remoteStore,a),f}async function PU(t,e,n,s,a){t.pu=(E,b,S)=>(async function(k,P,B,q){let H=P.view.ru(B);H.Ss&&(H=await rA(k.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,H))));const oe=q&&q.targetChanges.get(P.targetId),ee=q&&q.targetMismatches.get(P.targetId)!=null,le=P.view.applyChanges(H,k.isPrimaryClient,oe,ee);return pA(k,P.targetId,le.au),le.snapshot})(t,E,b,S);const l=await rA(t.localStore,e,!0),u=new IU(e,l.ks),f=u.ru(l.documents),m=Pu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);pA(t,n,p.au);const _=new CU(e,n,u);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function VU(t,e,n){const s=Oe(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Pd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ry(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&H_(s.remoteStore,a.targetId),Ny(s,a.targetId)})).catch(Vl)):(Ny(s,a.targetId),await Ry(s.localStore,a.targetId,!0))}async function LU(t,e){const n=Oe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),H_(n.remoteStore,s.targetId))}async function kU(t,e,n){const s=qU(t);try{const a=await(function(u,f){const m=Oe(u),p=gt.now(),_=f.reduce(((S,N)=>S.add(N.key)),Ge());let E,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let N=rr(),k=Ge();return m.xs.getEntries(S,_).next((P=>{N=P,N.forEach(((B,q)=>{q.isValidDocument()||(k=k.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,N))).next((P=>{E=P;const B=[];for(const q of f){const H=Xj(q,E.get(q.key).overlayedDocument);H!=null&&B.push(new ca(q.key,H,zR(H.value.mapValue),_i.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,B,f)})).next((P=>{b=P;const B=P.applyToLocalDocumentSet(E,k);return m.documentOverlayCache.saveOverlays(S,P.batchId,B)}))})).then((()=>({batchId:b.batchId,changes:XR(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.du[u.currentUser.toKey()];p||(p=new bt(qe)),p=p.insert(f,m),u.du[u.currentUser.toKey()]=p})(s,a.batchId,n),await Lu(s,a.changes),await Bd(s.remoteStore)}catch(a){const l=$_(a,"Failed to persist write");n.reject(l)}}async function VI(t,e){const n=Oe(t);try{const s=await Q4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?tt(u.hu,14607):a.removedDocuments.size>0&&(tt(u.hu,42227),u.hu=!1))})),await Lu(n,s,e)}catch(s){await Vl(s)}}function mA(t,e,n){const s=Oe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Oe(u);m.onlineState=f;let p=!1;m.queries.forEach(((_,E)=>{for(const b of E.ba)b.va(f)&&(p=!0)})),p&&Q_(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jU(t,e,n){const s=Oe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new bt(Ae.comparator);u=u.insert(l,_n.newNoDocument(l,Ne.min()));const f=Ge().add(l),m=new jd(Ne.min(),new Map,new bt(qe),u,f);await VI(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),X_(s)}else await Ry(s.localStore,e,!1).then((()=>Ny(s,e,n))).catch(Vl)}async function UU(t,e){const n=Oe(t),s=e.batch.batchId;try{const a=await $4(n.localStore,e);kI(n,s,null),LI(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,a)}catch(a){await Vl(a)}}async function zU(t,e,n){const s=Oe(t);try{const a=await(function(u,f){const m=Oe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return m.mutationQueue.lookupMutationBatch(p,f).next((E=>(tt(E!==null,37113),_=E.keys(),m.mutationQueue.removeMutationBatch(p,E)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>m.localDocuments.getDocuments(p,_)))}))})(s.localStore,e);kI(s,e,n),LI(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Lu(s,a)}catch(a){await Vl(a)}}function LI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function kI(t,e,n){const s=Oe(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||jI(t,s)}))}function jI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(H_(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),X_(t))}function pA(t,e,n){for(const s of n)s instanceof OI?(t.Vu.addReference(s.key,e),BU(t,s)):s instanceof MI?(ye(W_,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||jI(t,s.key)):Ie(19791,{wu:s})}function BU(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(ye(W_,"New document in limbo: "+n),t.Eu.add(s),X_(t))}function X_(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(ft.fromString(e)),s=t.fu.next();t.Au.set(s,new NU(n)),t.Ru=t.Ru.insert(n,s),xI(t.remoteStore,new Kr(ys(M_(n.path)),s,"TargetPurposeLimboResolution",Dd.ce))}}async function Lu(t,e,n){const s=Oe(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=B_.Es(m.targetId,p);l.push(_)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,p){const _=Oe(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ae.forEach(p,(b=>ae.forEach(b.Ts,(S=>_.persistence.referenceDelegate.addReference(E,b.targetId,S))).next((()=>ae.forEach(b.Is,(S=>_.persistence.referenceDelegate.removeReference(E,b.targetId,S)))))))))}catch(E){if(!Ll(E))throw E;ye(F_,"Failed to update sequence numbers: "+E)}for(const E of p){const b=E.targetId;if(!E.fromCache){const S=_.vs.get(b),N=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(N);_.vs=_.vs.insert(b,k)}}})(s.localStore,l))}async function FU(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){ye(W_,"User change. New user:",e.toKey());const s=await vI(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new de(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Ns)}}function HU(t,e){const n=Oe(t),s=n.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function UI(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jU.bind(null,e),e.Pu.J_=wU.bind(null,e.eventManager),e.Pu.yu=RU.bind(null,e.eventManager),e}function qU(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zU.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return K4(this.persistence,new q4,e.initialUser,this.serializer)}Cu(e){return new _I(z_.Vi,this.serializer)}Du(e){return new eU}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class GU extends cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof od,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new C4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new _I((s=>od.Vi(s,n)),this.serializer)}}class Dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SU})()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),s=rU(e.databaseInfo);return uU(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new fU(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>mA(this.syncEngine,n,0)),(function(){return lA.v()?new lA:new tU})())}createSyncEngine(e,n){return(function(a,l,u,f,m,p,_){const E=new DU(a,l,u,f,m,p);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Oe(n);ye(Xa,"RemoteStore shutting down."),s.Ea.add(5),await Vu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dy.provider={build:()=>new Dy};class zI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ra="FirestoreClient";class YU{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ye(ra,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ye(ra,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$_(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Og(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await vI(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function gA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KU(t);ye(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>uA(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>uA(e.remoteStore,a))),t._onlineComponents=e}async function KU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ra,"Using user provided OfflineComponentProvider");try{await Og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await Og(t,new cd)}}else ye(ra,"Using default OfflineComponentProvider"),await Og(t,new GU(void 0));return t._offlineComponents}async function BI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ra,"Using user provided OnlineComponentProvider"),await gA(t,t._uninitializedComponentsProvider._online)):(ye(ra,"Using default OnlineComponentProvider"),await gA(t,new Dy))),t._onlineComponents}function $U(t){return BI(t).then((e=>e.syncEngine))}async function FI(t){const e=await BI(t),n=e.eventManager;return n.onListen=OU.bind(null,e.syncEngine),n.onUnlisten=VU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LU.bind(null,e.syncEngine),n}function QU(t,e,n={}){const s=new Js;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const _=new zI({next:b=>{_.Nu(),u.enqueueAndForget((()=>NI(l,E)));const S=b.docs.has(f);!S&&b.fromCache?p.reject(new de(se.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&m&&m.source==="server"?p.reject(new de(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new DI(M_(f.path),_,{includeMetadataChanges:!0,Ka:!0});return CI(l,E)})(await FI(t),t.asyncQueue,e,n,s))),s.promise}function WU(t,e,n={}){const s=new Js;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const _=new zI({next:b=>{_.Nu(),u.enqueueAndForget((()=>NI(l,E))),b.fromCache&&m.source==="server"?p.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new DI(f,_,{includeMetadataChanges:!0,Ka:!0});return CI(l,E)})(await FI(t),t.asyncQueue,e,n,s))),s.promise}function XU(t,e){const n=new Js;return t.asyncQueue.enqueueAndForget((async()=>kU(await $U(t),e,n))),n.promise}function HI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const JU="ComponentProvider",yA=new Map;function ZU(t,e,n,s,a){return new _j(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,HI(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const qI="firestore.googleapis.com",_A=!0;class vA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qI,this.ssl=_A}else this.host=e.host,this.ssl=e.ssl??_A;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R4)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HI(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Xk;switch(s.type){case"firstParty":return new tj(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=yA.get(n);s&&(ye(JU,"Removing Datastore"),yA.delete(n),s.terminate())})(this),Promise.resolve()}}function e3(t,e,n,s={}){t=Hi(t,Fd);const a=io(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(x_(`https://${f}`),A_("Firestore",!0)),l.host!==qI&&l.host!==f&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!nr(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,_;if(typeof s.mockUserToken=="string")p=s.mockUserToken,_=yn.MOCK_USER;else{p=hR(s.mockUserToken,t._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new yn(E)}t._authCredentials=new Jk(new IR(p,_))}}class lo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ou(n,Pt._jsonSchema))return new Pt(e,s||null,new Ae(ft.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Yt("string",Pt._jsonSchemaVersion),referencePath:Yt("string")};class Xr extends lo{constructor(e,n,s){super(e,n,M_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Ae(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function un(t,e,...n){if(t=It(t),CR("collection","path",e),t instanceof Fd){const s=ft.fromString(e,...n);return Ox(s),new Xr(t,null,s)}{if(!(t instanceof Pt||t instanceof Xr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ft.fromString(e,...n));return Ox(s),new Xr(t.firestore,null,s)}}function Kn(t,e,...n){if(t=It(t),arguments.length===1&&(e=R_.newId()),CR("doc","path",e),t instanceof Fd){const s=ft.fromString(e,...n);return Dx(s),new Pt(t,null,new Ae(s))}{if(!(t instanceof Pt||t instanceof Xr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ft.fromString(e,...n));return Dx(s),new Pt(t.firestore,t instanceof Xr?t.converter:null,new Ae(s))}}const EA="AsyncQueue";class TA{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TI(this,"async_queue_retry"),this._c=()=>{const s=Dg();s&&ye(EA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ll(e))throw e;ye(EA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",bA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=K_.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:bA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class co extends Fd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new TA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TA(e),this._firestoreClient=void 0,await e}}}function t3(t,e){const n=typeof t=="object"?t:Cd(),s=typeof t=="string"?t:td,a=oa(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=lR("firestore");l&&e3(a,...l)}return a}function J_(t){if(t._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n3(t),t._firestoreClient}function n3(t){const e=t._freezeSettings(),n=ZU(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pi(dn.fromBase64String(e))}catch(n){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,pi._jsonSchema))return pi.fromBase64String(e.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:Yt("string",pi._jsonSchemaVersion),bytes:Yt("string")};class Z_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hd{constructor(e){this._methodName=e}}class vs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vs._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,vs._jsonSchema))return new vs(e.latitude,e.longitude)}}vs._jsonSchemaVersion="firestore/geoPoint/1.0",vs._jsonSchema={type:Yt("string",vs._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zi(e.vectorValues);throw new de(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Yt("string",zi._jsonSchemaVersion),vectorValues:Yt("object")};const i3=/^__.*__$/;class s3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class GI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:t})}}class qd{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ud(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(YI(this.dataSource)&&i3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class r3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ud(e)}createContext(e,n,s,a=!1){return new qd({dataSource:e,methodName:n,targetDoc:s,path:fn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(t){const e=t._freezeSettings(),n=Ud(t._databaseId);return new r3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KI(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);tv("Data must be an object, but it was:",u,s);const f=$I(s,u);let m,p;if(l.merge)m=new Qn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const b=Ja(e,E,n);if(!u.contains(b))throw new de(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);XI(_,b)||_.push(b)}m=new Qn(_),p=u.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,p=u.fieldTransforms;return new s3(new Pn(f),m,p)}class Yd extends Hd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function a3(t,e,n){return new qd({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ev extends Hd{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=a3(this,e,!0),s=this.Ac.map((l=>Ul(l,n))),a=new Al(s);return new Kj(e.path,a)}isEqual(e){return e instanceof ev&&nr(this.Ac,e.Ac)}}function o3(t,e,n,s){const a=t.createContext(1,e,n);tv("Data must be an object, but it was:",a,s);const l=[],u=Pn.empty();la(s,((m,p)=>{const _=WI(e,m,n);p=It(p);const E=a.childContextForFieldPath(_);if(p instanceof Yd)l.push(_);else{const b=Ul(p,E);b!=null&&(l.push(_),u.set(_,b))}}));const f=new Qn(l);return new GI(u,f,a.fieldTransforms)}function l3(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[Ja(e,s,n)],m=[a];if(l.length%2!=0)throw new de(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(Ja(e,l[b])),m.push(l[b+1]);const p=[],_=Pn.empty();for(let b=f.length-1;b>=0;--b)if(!XI(p,f[b])){const S=f[b];let N=m[b];N=It(N);const k=u.childContextForFieldPath(S);if(N instanceof Yd)p.push(S);else{const P=Ul(N,k);P!=null&&(p.push(S),_.set(S,P))}}const E=new Qn(p);return new GI(_,E,u.fieldTransforms)}function c3(t,e,n,s=!1){return Ul(n,t.createContext(s?4:3,e))}function Ul(t,e){if(QI(t=It(t)))return tv("Unsupported field value:",e,t),$I(t,e);if(t instanceof Hd)return(function(s,a){if(!YI(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=Ul(f,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qj(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=gt.fromDate(s);return{timestampValue:ad(a.serializer,l)}}if(s instanceof gt){const l=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ad(a.serializer,l)}}if(s instanceof vs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pi)return{bytesValue:cI(a.serializer,s._byteString)};if(s instanceof Pt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:j_(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof zi)return(function(u,f){const m=u instanceof zi?u.toArray():u;return{mapValue:{fields:{[jR]:{stringValue:UR},[nd]:{arrayValue:{values:m.map((_=>{if(typeof _!="number")throw f.createError("VectorValues must only contain numeric values.");return P_(f.serializer,_)}))}}}}}})(s,a);if(gI(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Nd(s)}`)})(t,e)}function $I(t,e){const n={};return OR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,((s,a)=>{const l=Ul(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function QI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof vs||t instanceof pi||t instanceof Pt||t instanceof Hd||t instanceof zi||gI(t))}function tv(t,e,n){if(!QI(n)||!NR(n)){const s=Nd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Ja(t,e,n){if((e=It(e))instanceof Z_)return e._internalPath;if(typeof e=="string")return WI(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const u3=new RegExp("[~\\*/\\[\\]]");function WI(t,e,n){if(e.search(u3)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Z_(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new de(se.INVALID_ARGUMENT,f+t+m)}function XI(t,e){return t.some((n=>n.isEqual(e)))}class h3{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return la(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[nd].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new zi(n)}convertGeoPoint(e){return new vs(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Md(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=ta(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);tt(pI(s),9688,{name:e});const a=new vu(s.get(1),s.get(3)),l=new Ae(s.popFirst(5));return a.isEqual(n)||sr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class JI extends h3{constructor(e){super(),this.firestore=e}convertBytes(e){return new pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function ZI(...t){return new ev("arrayUnion",t)}const xA="@firebase/firestore",AA="4.10.0";class e1{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ja("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f3 extends e1{data(){return super.data()}}function d3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nv{}class t1 extends nv{}function ms(t,e,...n){let s=[];e instanceof nv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof iv)).length,f=l.filter((m=>m instanceof Kd)).length;if(u>1||u>0&&f>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Kd extends t1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Kd(e,n,s)}_apply(e){const n=this._parse(e);return n1(e._query,n),new lo(e.firestore,e.converter,Ty(e._query,n))}_parse(e){const n=Gd(e.firestore);return(function(l,u,f,m,p,_,E){let b;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){wA(E,_);const N=[];for(const k of E)N.push(SA(m,l,k));b={arrayValue:{values:N}}}else b=SA(m,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||wA(E,_),b=c3(f,u,E,_==="in"||_==="not-in");return Gt.create(p,_,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function m3(t,e,n){const s=e,a=Ja("where",t);return Kd._create(a,s,n)}class iv extends nv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)n1(u,m),u=Ty(u,m)})(e._query,n),new lo(e.firestore,e.converter,Ty(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sv extends t1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(l,u)})(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,Lj(e._query,n))}}function Br(t,e="asc"){const n=e,s=Ja("orderBy",t);return sv._create(s,n)}function SA(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KR(e)&&n.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!Ae.isDocumentKey(s))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zx(t,new Ae(s))}if(n instanceof Pt)return zx(t,n._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nd(n)}.`)}function wA(t,e){if(!Array.isArray(t)||t.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n1(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function i1(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends e1{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ja("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:Yt("string",Qa._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class jf extends Qa{data(e={}){return super.data(e)}}class ml{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new jf(this._firestore,this._userDataWriter,s.key,s,new Zc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new jf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Zc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new jf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Zc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:p3(f.type),doc:m,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=R_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:Yt("string",ml._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};function s1(t){t=Hi(t,Pt);const e=Hi(t.firestore,co),n=J_(e);return QU(n,t._key).then((s=>y3(e,t,s)))}function ps(t){t=Hi(t,lo);const e=Hi(t.firestore,co),n=J_(e),s=new JI(e);return d3(t._query),WU(n,t._query).then((a=>new ml(e,s,t,a)))}function g3(t,e,n){t=Hi(t,Pt);const s=Hi(t.firestore,co),a=i1(t.converter,e,n),l=Gd(s);return $d(s,[KI(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,_i.none())])}function Uf(t,e,n,...s){t=Hi(t,Pt);const a=Hi(t.firestore,co),l=Gd(a);let u;return u=typeof(e=It(e))=="string"||e instanceof Z_?l3(l,"updateDoc",t._key,e,n,s):o3(l,"updateDoc",t._key,e),$d(a,[u.toMutation(t._key,_i.exists(!0))])}function Gc(t){return $d(Hi(t.firestore,co),[new V_(t._key,_i.none())])}function Ha(t,e){const n=Hi(t.firestore,co),s=Kn(t),a=i1(t.converter,e),l=Gd(t.firestore);return $d(n,[KI(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,_i.exists(!1))]).then((()=>s))}function $d(t,e){const n=J_(t);return XU(n,e)}function y3(t,e,n){const s=n.docs.get(e._key),a=new JI(t);return new Qa(t,a,e._key,s,new Zc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Wk(ro),Fi(new vi("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new co(new Zk(s.getProvider("auth-internal")),new nj(u,s.getProvider("app-check-internal")),vj(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Vn(xA,AA,e),Vn(xA,AA,"esm2020")})();var _3="firebase",v3="12.8.0";Vn(_3,v3,"app");const r1="@firebase/installations",rv="0.6.19";const a1=1e4,o1=`w:${rv}`,l1="FIS_v2",E3="https://firebaseinstallations.googleapis.com/v1",T3=3600*1e3,b3="installations",x3="Installations";const A3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Za=new so(b3,x3,A3);function c1(t){return t instanceof Ei&&t.code.includes("request-failed")}function u1({projectId:t}){return`${E3}/projects/${t}/installations`}function h1(t){return{token:t.token,requestStatus:2,expiresIn:w3(t.expiresIn),creationTime:Date.now()}}async function f1(t,e){const s=(await e.json()).error;return Za.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function d1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function S3(t,{refreshToken:e}){const n=d1(t);return n.append("Authorization",R3(e)),n}async function m1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function w3(t){return Number(t.replace("s","000"))}function R3(t){return`${l1} ${t}`}async function I3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=u1(t),a=d1(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:l1,appId:t.appId,sdkVersion:o1},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await m1(()=>fetch(s,f));if(m.ok){const p=await m.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:h1(p.authToken)}}else throw await f1("Create Installation",m)}function p1(t){return new Promise(e=>{setTimeout(e,t)})}function C3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const N3=/^[cdef][\w-]{21}$/,Oy="";function D3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O3(t);return N3.test(n)?n:Oy}catch{return Oy}}function O3(t){return C3(t).substr(0,22)}function Qd(t){return`${t.appName}!${t.appId}`}const g1=new Map;function y1(t,e){const n=Qd(t);_1(n,e),M3(n,e)}function _1(t,e){const n=g1.get(t);if(n)for(const s of n)s(e)}function M3(t,e){const n=P3();n&&n.postMessage({key:t,fid:e}),V3()}let Ka=null;function P3(){return!Ka&&"BroadcastChannel"in self&&(Ka=new BroadcastChannel("[Firebase] FID Change"),Ka.onmessage=t=>{_1(t.data.key,t.data.fid)}),Ka}function V3(){g1.size===0&&Ka&&(Ka.close(),Ka=null)}const L3="firebase-installations-database",k3=1,eo="firebase-installations-store";let Mg=null;function av(){return Mg||(Mg=yR(L3,k3,{upgrade:(t,e)=>{e===0&&t.createObjectStore(eo)}})),Mg}async function hd(t,e){const n=Qd(t),a=(await av()).transaction(eo,"readwrite"),l=a.objectStore(eo),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&y1(t,e.fid),e}async function v1(t){const e=Qd(t),s=(await av()).transaction(eo,"readwrite");await s.objectStore(eo).delete(e),await s.done}async function Wd(t,e){const n=Qd(t),a=(await av()).transaction(eo,"readwrite"),l=a.objectStore(eo),u=await l.get(n),f=e(u);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!u||u.fid!==f.fid)&&y1(t,f.fid),f}async function ov(t){let e;const n=await Wd(t.appConfig,s=>{const a=j3(s),l=U3(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Oy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j3(t){const e=t||{fid:D3(),registrationStatus:0};return E1(e)}function U3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Za.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=z3(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:B3(t)}:{installationEntry:e}}async function z3(t,e){try{const n=await I3(t,e);return hd(t.appConfig,n)}catch(n){throw c1(n)&&n.customData.serverCode===409?await v1(t.appConfig):await hd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function B3(t){let e=await RA(t.appConfig);for(;e.registrationStatus===1;)await p1(100),e=await RA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ov(t);return s||n}return e}function RA(t){return Wd(t,e=>{if(!e)throw Za.create("installation-not-found");return E1(e)})}function E1(t){return F3(t)?{fid:t.fid,registrationStatus:0}:t}function F3(t){return t.registrationStatus===1&&t.registrationTime+a1<Date.now()}async function H3({appConfig:t,heartbeatServiceProvider:e},n){const s=q3(t,n),a=S3(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:o1,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await m1(()=>fetch(s,f));if(m.ok){const p=await m.json();return h1(p)}else throw await f1("Generate Auth Token",m)}function q3(t,{fid:e}){return`${u1(t)}/${e}/authTokens:generate`}async function lv(t,e=!1){let n;const s=await Wd(t.appConfig,l=>{if(!T1(l))throw Za.create("not-registered");const u=l.authToken;if(!e&&K3(u))return l;if(u.requestStatus===1)return n=G3(t,e),l;{if(!navigator.onLine)throw Za.create("app-offline");const f=Q3(l);return n=Y3(t,f),f}});return n?await n:s.authToken}async function G3(t,e){let n=await IA(t.appConfig);for(;n.authToken.requestStatus===1;)await p1(100),n=await IA(t.appConfig);const s=n.authToken;return s.requestStatus===0?lv(t,e):s}function IA(t){return Wd(t,e=>{if(!T1(e))throw Za.create("not-registered");const n=e.authToken;return W3(n)?{...e,authToken:{requestStatus:0}}:e})}async function Y3(t,e){try{const n=await H3(t,e),s={...e,authToken:n};return await hd(t.appConfig,s),n}catch(n){if(c1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await v1(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await hd(t.appConfig,s)}throw n}}function T1(t){return t!==void 0&&t.registrationStatus===2}function K3(t){return t.requestStatus===2&&!$3(t)}function $3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+T3}function Q3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function W3(t){return t.requestStatus===1&&t.requestTime+a1<Date.now()}async function X3(t){const e=t,{installationEntry:n,registrationPromise:s}=await ov(e);return s?s.catch(console.error):lv(e).catch(console.error),n.fid}async function J3(t,e=!1){const n=t;return await Z3(n),(await lv(n,e)).token}async function Z3(t){const{registrationPromise:e}=await ov(t);e&&await e}function e6(t){if(!t||!t.options)throw Pg("App Configuration");if(!t.name)throw Pg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Pg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Pg(t){return Za.create("missing-app-config-values",{valueName:t})}const b1="installations",t6="installations-internal",n6=t=>{const e=t.getProvider("app").getImmediate(),n=e6(e),s=oa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},i6=t=>{const e=t.getProvider("app").getImmediate(),n=oa(e,b1).getImmediate();return{getId:()=>X3(n),getToken:a=>J3(n,a)}};function s6(){Fi(new vi(b1,n6,"PUBLIC")),Fi(new vi(t6,i6,"PRIVATE"))}s6();Vn(r1,rv);Vn(r1,rv,"esm2020");const fd="analytics",r6="firebase_id",a6="origin",o6=60*1e3,l6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cv="https://www.googletagmanager.com/gtag/js";const Sn=new Id("@firebase/analytics");const c6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new so("analytics","Analytics",c6);function u6(t){if(!t.startsWith(cv)){const e=Xn.create("invalid-gtag-resource",{gtagURL:t});return Sn.warn(e.message),""}return t}function x1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function h6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function f6(t,e){const n=h6("firebase-js-sdk-policy",{createScriptURL:u6}),s=document.createElement("script"),a=`${cv}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function d6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function m6(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const m=(await x1(n)).find(p=>p.measurementId===a);m&&await e[m.appId]}}catch(f){Sn.error(f)}t("config",a,l)}async function p6(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await x1(n);for(const m of u){const p=f.find(E=>E.measurementId===m),_=p&&e[p.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Sn.error(l)}}function g6(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[f,m]=u;await p6(t,e,n,f,m)}else if(l==="config"){const[f,m]=u;await m6(t,e,n,s,f,m)}else if(l==="consent"){const[f,m]=u;t("consent",f,m)}else if(l==="get"){const[f,m,p]=u;t("get",f,m,p)}else if(l==="set"){const[f]=u;t("set",f)}else t(l,...u)}catch(f){Sn.error(f)}}return a}function y6(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=g6(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function _6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(cv)&&n.src.includes(t))return n;return null}const v6=30,E6=1e3;class T6{constructor(e={},n=E6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const A1=new T6;function b6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function x6(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:b6(n)},a=l6.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const f=await l.json();f.error?.message&&(u=f.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function A6(t,e=A1,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw Xn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Xn.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new R6;return setTimeout(async()=>{f.abort()},o6),S1({appId:s,apiKey:a,measurementId:l},u,f,e)}async function S1(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=A1){const{appId:l,measurementId:u}=t;try{await S6(s,e)}catch(f){if(u)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw f}try{const f=await x6(t);return a.deleteThrottleMetadata(l),f}catch(f){const m=f;if(!w6(m)){if(a.deleteThrottleMetadata(l),u)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw f}const p=Number(m?.customData?.httpStatus)===503?vx(n,a.intervalMillis,v6):vx(n,a.intervalMillis),_={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,_),Sn.debug(`Calling attemptFetch again in ${p} millis`),S1(t,_,s,a)}}function S6(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function w6(t){if(!(t instanceof Ei)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class R6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function I6(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function C6(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function N6(){if(dR())try{await mR()}catch(t){return Sn.warn(Xn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Sn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D6(t,e,n,s,a,l,u){const f=A6(t);f.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Sn.error(b)),e.push(f);const m=N6().then(b=>{if(b)return s.getId()}),[p,_]=await Promise.all([f,m]);_6(l)||f6(l,p.measurementId),a("js",new Date);const E=u?.config??{};return E[a6]="firebase",E.update=!0,_!=null&&(E[r6]=_),a("config",p.measurementId,E),p.measurementId}class O6{constructor(e){this.app=e}_delete(){return delete pl[this.app.options.appId],Promise.resolve()}}let pl={},CA=[];const NA={};let Vg="dataLayer",M6="gtag",DA,uv,OA=!1;function P6(){const t=[];if(fR()&&t.push("This is a browser extension environment."),DL()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Xn.create("invalid-analytics-context",{errorInfo:e});Sn.warn(n.message)}}function V6(t,e,n){P6();const s=t.options.appId;if(!s)throw Xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(pl[s]!=null)throw Xn.create("already-exists",{id:s});if(!OA){d6(Vg);const{wrappedGtag:l,gtagCore:u}=y6(pl,CA,NA,Vg,M6);uv=l,DA=u,OA=!0}return pl[s]=D6(t,CA,NA,e,DA,Vg,n),new O6(t)}function L6(t=Cd()){t=It(t);const e=oa(t,fd);return e.isInitialized()?e.getImmediate():k6(t)}function k6(t,e={}){const n=oa(t,fd);if(n.isInitialized()){const a=n.getImmediate();if(nr(e,n.getOptions()))return a;throw Xn.create("already-initialized")}return n.initialize({options:e})}function j6(t,e,n){t=It(t),C6(uv,pl[t.app.options.appId],e,n).catch(s=>Sn.error(s))}function U6(t,e,n,s){t=It(t),I6(uv,pl[t.app.options.appId],e,n,s).catch(a=>Sn.error(a))}const MA="@firebase/analytics",PA="0.10.19";function z6(){Fi(new vi(fd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return V6(s,a,n)},"PUBLIC")),Fi(new vi("analytics-internal",t,"PRIVATE")),Vn(MA,PA),Vn(MA,PA,"esm2020");function t(e){try{const n=e.getProvider(fd).getImmediate();return{logEvent:(s,a,l)=>U6(n,s,a,l),setUserProperties:(s,a)=>j6(n,s,a)}}catch(n){throw Xn.create("interop-component-reg-failed",{reason:n})}}}z6();function w1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B6=w1,R1=new so("auth","Firebase",w1());const dd=new Id("@firebase/auth");function F6(t,...e){dd.logLevel<=He.WARN&&dd.warn(`Auth (${ro}): ${t}`,...e)}function zf(t,...e){dd.logLevel<=He.ERROR&&dd.error(`Auth (${ro}): ${t}`,...e)}function Gi(t,...e){throw hv(t,...e)}function Es(t,...e){return hv(t,...e)}function I1(t,e,n){const s={...B6(),[e]:n};return new so("auth","Firebase",s).create(e,{appName:t.name})}function Zs(t){return I1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return R1.create(t,...e)}function Re(t,e,...n){if(!t)throw hv(e,...n)}function $s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zf(e),new Error(e)}function ar(t,e){t||$s(e)}function My(){return typeof self<"u"&&self.location?.href||""}function H6(){return VA()==="http:"||VA()==="https:"}function VA(){return typeof self<"u"&&self.location?.protocol||null}function q6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H6()||fR()||"connection"in navigator)?navigator.onLine:!0}function G6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=SL()||IL()}get(){return q6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fv(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class C1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const K6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$6=new ku(3e4,6e4);function ua(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ha(t,e,n,s,a={}){return N1(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Du({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return RL()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&io(t.emulatorConfig.host)&&(p.credentials="include"),C1.fetch()(await D1(t,t.config.apiHost,n,f),p)})}async function N1(t,e,n){t._canInitEmulator=!1;const s={...Y6,...e};try{const a=new W6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Sf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Sf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Sf(t,"user-disabled",u);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw I1(t,_,p);Gi(t,_)}}catch(a){if(a instanceof Ei)throw a;Gi(t,"network-request-failed",{message:String(a)})}}async function ju(t,e,n,s,a={}){const l=await ha(t,e,n,s,a);return"mfaPendingCredential"in l&&Gi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function D1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?fv(t.config,a):`${t.config.apiScheme}://${a}`;return K6.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Q6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Es(this.auth,"network-request-failed")),$6.get())})}}function Sf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Es(t,e,s);return a.customData._tokenResponse=n,a}function LA(t){return t!==void 0&&t.enterprise!==void 0}class X6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Q6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J6(t,e){return ha(t,"GET","/v2/recaptchaConfig",ua(t,e))}async function Z6(t,e){return ha(t,"POST","/v1/accounts:delete",e)}async function md(t,e){return ha(t,"POST","/v1/accounts:lookup",e)}function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e5(t,e=!1){const n=It(t),s=await n.getIdToken(e),a=dv(s);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:cu(Lg(a.auth_time)),issuedAtTime:cu(Lg(a.iat)),expirationTime:cu(Lg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Lg(t){return Number(t)*1e3}function dv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const a=aR(n);return a?JSON.parse(a):(zf("Failed to decode base64 JWT payload"),null)}catch(a){return zf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function kA(t){const e=dv(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ei&&t5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function t5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class n5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pd(t){const e=t.auth,n=await t.getIdToken(),s=await xu(t,md(e,{idToken:n}));Re(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?O1(a.providerUserInfo):[],u=s5(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=f?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Py(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,_)}async function i5(t){const e=It(t);await pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s5(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function O1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function r5(t,e){const n=await N1(t,{},async()=>{const s=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await D1(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&io(t.emulatorConfig.host)&&(m.credentials="include"),C1.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a5(t,e){return ha(t,"POST","/v2/accounts:revokeToken",ua(t,e))}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=kA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await r5(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new gl;return s&&(Re(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return $s("not implemented")}}function Ur(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new n5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Py(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e5(this,e)}reload(){return i5(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await pd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await xu(this,Z6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:S,providerData:N,stsTokenManager:k}=n;Re(E&&k,e,"internal-error");const P=gl.fromJSON(this.name,k);Re(typeof E=="string",e,"internal-error"),Ur(s,e.name),Ur(a,e.name),Re(typeof b=="boolean",e,"internal-error"),Re(typeof S=="boolean",e,"internal-error"),Ur(l,e.name),Ur(u,e.name),Ur(f,e.name),Ur(m,e.name),Ur(p,e.name),Ur(_,e.name);const B=new ki({uid:E,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:P,createdAt:p,lastLoginAt:_});return N&&Array.isArray(N)&&(B.providerData=N.map(q=>({...q}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new gl;a.updateFromServerResponse(n);const l=new ki({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await pd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?O1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new gl;f.updateFromIdToken(s);const m=new ki({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Py(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const jA=new Map;function Qs(t){ar(t instanceof Function,"Expected a class definition");let e=jA.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jA.set(t,e),e)}class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M1.type="NONE";const UA=M1;function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}class yl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await md(this.auth,{idToken:e}).catch(()=>{});return n?ki._fromGetAccountInfoResponse(this.auth,n,e):null}return ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yl(Qs(UA),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Qs(UA);const u=Bf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const _=await p._get(u);if(_){let E;if(typeof _=="string"){const b=await md(e,{idToken:_}).catch(()=>{});if(!b)break;E=await ki._fromGetAccountInfoResponse(e,b,_)}else E=ki._fromJSON(e,_);p!==l&&(f=E),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new yl(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new yl(l,e,s))}}function zA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U1(e))return"Blackberry";if(z1(e))return"Webos";if(V1(e))return"Safari";if((e.includes("chrome/")||L1(e))&&!e.includes("edge/"))return"Chrome";if(j1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function P1(t=En()){return/firefox\//i.test(t)}function V1(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L1(t=En()){return/crios\//i.test(t)}function k1(t=En()){return/iemobile/i.test(t)}function j1(t=En()){return/android/i.test(t)}function U1(t=En()){return/blackberry/i.test(t)}function z1(t=En()){return/webos/i.test(t)}function mv(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o5(t=En()){return mv(t)&&!!window.navigator?.standalone}function l5(){return CL()&&document.documentMode===10}function B1(t=En()){return mv(t)||j1(t)||z1(t)||U1(t)||/windows phone/i.test(t)||k1(t)}function F1(t,e=[]){let n;switch(t){case"Browser":n=zA(En());break;case"Worker":n=`${zA(En())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${s}`}class c5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function u5(t,e={}){return ha(t,"GET","/v2/passwordPolicy",ua(t,e))}const h5=6;class f5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??h5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class d5{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BA(this),this.idTokenSubscription=new BA(this),this.beforeStateQueue=new c5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await md(this,{idToken:e}),s=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Zs(this));const n=e?It(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u5(this),n=new f5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new so("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await a5(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[Qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&F6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uo(t){return It(t)}class BA{constructor(e){this.auth=e,this.observer=null,this.addObserver=LL(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m5(t){Xd=t}function H1(t){return Xd.loadJS(t)}function p5(){return Xd.recaptchaEnterpriseScript}function g5(){return Xd.gapiScript}function y5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _5{constructor(){this.enterprise=new v5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const E5="recaptcha-enterprise",q1="NO_RECAPTCHA";class T5{constructor(e){this.type=E5,this.auth=uo(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{J6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new X6(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;LA(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(q1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _5().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&LA(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=p5();m.length!==0&&(m+=f),H1(m).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function FA(t,e,n,s=!1,a=!1){const l=new T5(t);let u;if(a)u=q1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Vy(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await FA(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await FA(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function b5(t,e){const n=oa(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(nr(l,e??{}))return a;Gi(a,"already-initialized")}return n.initialize({options:e})}function x5(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Qs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function A5(t,e,n){const s=uo(t);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=G1(e),{host:u,port:f}=S5(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},_=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(nr(p,s.config.emulator)&&nr(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,io(u)?(x_(`${l}//${u}${m}`),A_("Auth",!0)):w5()}function G1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S5(t){const e=G1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:HA(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:HA(u)}}}function HA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class pv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $s("not implemented")}_getIdTokenResponse(e){return $s("not implemented")}_linkToIdToken(e,n){return $s("not implemented")}_getReauthenticationResolver(e){return $s("not implemented")}}async function R5(t,e){return ha(t,"POST","/v1/accounts:signUp",e)}async function I5(t,e){return ju(t,"POST","/v1/accounts:signInWithPassword",ua(t,e))}async function C5(t,e){return ju(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}async function N5(t,e){return ju(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}class Au extends pv{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,n,"signInWithPassword",I5);case"emailLink":return C5(e,{email:this._email,oobCode:this._password});default:Gi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,s,"signUpPassword",R5);case"emailLink":return N5(e,{idToken:n,email:this._email,oobCode:this._password});default:Gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _l(t,e){return ju(t,"POST","/v1/accounts:signInWithIdp",ua(t,e))}const D5="http://localhost";class to extends pv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new to(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_l(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:D5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}function O5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M5(t){const e=$c(Qc(t)).link,n=e?$c(Qc(e)).deep_link_id:null,s=$c(Qc(t)).deep_link_id;return(s?$c(Qc(s)).link:null)||s||n||e||t}class gv{constructor(e){const n=$c(Qc(e)),s=n.apiKey??null,a=n.oobCode??null,l=O5(n.mode??null);Re(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=M5(e);try{return new gv(n)}catch{return null}}}class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,n){return Au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=gv.parseLink(n);return Re(s,"argument-error"),Au._fromEmailAndCode(e,s.code,s.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uu extends Y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fr extends Uu{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class Hr extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class qr extends Uu{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Gr extends Uu{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function P5(t,e){return ju(t,"POST","/v1/accounts:signUp",ua(t,e))}class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await ki._fromIdTokenResponse(e,s,a),u=qA(s);return new no({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=qA(s);return new no({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function qA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class gd extends Ei{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new gd(e,n,s,a)}}function K1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,l,e,s):l})}async function V5(t,e,n=!1){const s=await xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",s)}async function L5(t,e,n=!1){const{auth:s}=t;if($n(s.app))return Promise.reject(Zs(s));const a="reauthenticate";try{const l=await xu(t,K1(s,a,e,t),n);Re(l.idToken,s,"internal-error");const u=dv(l.idToken);Re(u,s,"internal-error");const{sub:f}=u;return Re(t.uid===f,s,"user-mismatch"),no._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Gi(s,"user-mismatch"),l}}async function $1(t,e,n=!1){if($n(t.app))return Promise.reject(Zs(t));const s="signIn",a=await K1(t,s,e),l=await no._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function k5(t,e){return $1(uo(t),e)}async function Q1(t){const e=uo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j5(t,e,n){if($n(t.app))return Promise.reject(Zs(t));const s=uo(t),u=await Vy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P5).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Q1(t),m}),f=await no._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function W1(t,e,n){return $n(t.app)?Promise.reject(Zs(t)):k5(It(t),zl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Q1(t),s})}function U5(t,e,n,s){return It(t).onIdTokenChanged(e,n,s)}function z5(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function yv(t,e,n,s){return It(t).onAuthStateChanged(e,n,s)}function X1(t){return It(t).signOut()}const yd="__sak";class J1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const B5=1e3,F5=10;class Z1 extends J1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);l5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,F5):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},B5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z1.type="LOCAL";const H5=Z1;class eC extends J1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eC.type="SESSION";const tC=eC;function q5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Jd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await q5(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];function _v(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class G5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=_v("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ts(){return window}function Y5(t){Ts().location.href=t}function nC(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function K5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $5(){return navigator?.serviceWorker?.controller||null}function Q5(){return nC()?self:null}const iC="firebaseLocalStorageDb",W5=1,_d="firebaseLocalStorage",sC="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function X5(){const t=indexedDB.deleteDatabase(iC);return new zu(t).toPromise()}function Ly(){const t=indexedDB.open(iC,W5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(_d,{keyPath:sC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(_d)?e(s):(s.close(),await X5(),e(await Ly()))})})}async function GA(t,e,n){const s=Zd(t,!0).put({[sC]:e,value:n});return new zu(s).toPromise()}async function J5(t,e){const n=Zd(t,!1).get(e),s=await new zu(n).toPromise();return s===void 0?null:s.value}function YA(t,e){const n=Zd(t,!0).delete(e);return new zu(n).toPromise()}const Z5=800,ez=3;class rC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ez)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(Q5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await K5(),!this.activeServiceWorker)return;this.sender=new G5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ly();return await GA(e,yd,"1"),await YA(e,yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>GA(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>J5(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Zd(a,!1).getAll();return new zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rC.type="LOCAL";const tz=rC;new ku(3e4,6e4);function nz(t,e){return e?Qs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class vv extends pv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iz(t){return $1(t.auth,new vv(t),t.bypassAuthState)}function sz(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),L5(n,new vv(t),t.bypassAuthState)}async function rz(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),V5(n,new vv(t),t.bypassAuthState)}class aC{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iz;case"linkViaPopup":case"linkViaRedirect":return rz;case"reauthViaPopup":case"reauthViaRedirect":return sz;default:Gi(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const az=new ku(2e3,1e4);class ul extends aC{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=_v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,az.get())};e()}}ul.currentPopupAction=null;const oz="pendingRedirect",Ff=new Map;class lz extends aC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const s=await cz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cz(t,e){const n=fz(e),s=hz(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function uz(t,e){Ff.set(t._key(),e)}function hz(t){return Qs(t._redirectPersistence)}function fz(t){return Bf(oz,t.config.apiKey,t.name)}async function dz(t,e,n=!1){if($n(t.app))return Promise.reject(Zs(t));const s=uo(t),a=nz(s,e),u=await new lz(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const mz=600*1e3;class pz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Es(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mz&&this.cachedEventUids.clear(),this.cachedEventUids.has(KA(e))}saveEventToCache(e){this.cachedEventUids.add(KA(e)),this.lastProcessedEventTime=Date.now()}}function KA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oC(t);default:return!1}}async function yz(t,e={}){return ha(t,"GET","/v1/projects",e)}const _z=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vz=/^https?/;async function Ez(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yz(t);for(const n of e)try{if(Tz(n))return}catch{}Gi(t,"unauthorized-domain")}function Tz(t){const e=My(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!vz.test(n))return!1;if(_z.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const bz=new ku(3e4,6e4);function $A(){const t=Ts().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xz(t){return new Promise((e,n)=>{function s(){$A(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$A(),n(Es(t,"network-request-failed"))},timeout:bz.get()})}if(Ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ts().gapi?.load)s();else{const a=y5("iframefcb");return Ts()[a]=()=>{gapi.load?s():n(Es(t,"network-request-failed"))},H1(`${g5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hf=null,e})}let Hf=null;function Az(t){return Hf=Hf||xz(t),Hf}const Sz=new ku(5e3,15e3),wz="__/auth/iframe",Rz="emulator/auth/iframe",Iz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nz(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fv(e,Rz):`https://${t.config.authDomain}/${wz}`,s={apiKey:e.apiKey,appName:t.name,v:ro},a=Cz.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Du(s).slice(1)}`}async function Dz(t){const e=await Az(t),n=Ts().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:Nz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iz,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Es(t,"network-request-failed"),f=Ts().setTimeout(()=>{l(u)},Sz.get());function m(){Ts().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const Oz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mz=500,Pz=600,Vz="_blank",Lz="http://localhost";class QA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kz(t,e,n,s=Mz,a=Pz){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...Oz,width:s.toString(),height:a.toString(),top:l,left:u},p=En().toLowerCase();n&&(f=L1(p)?Vz:n),P1(p)&&(e=e||Lz,m.scrollbars="yes");const _=Object.entries(m).reduce((b,[S,N])=>`${b}${S}=${N},`,"");if(o5(p)&&f!=="_self")return jz(e||"",f),new QA(null);const E=window.open(e||"",f,_);Re(E,t,"popup-blocked");try{E.focus()}catch{}return new QA(E)}function jz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Uz="__/auth/handler",zz="emulator/auth/handler",Bz=encodeURIComponent("fac");async function WA(t,e,n,s,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ro,eventId:a};if(e instanceof Y1){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",VL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof Uu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const m=await t._getAppCheckToken(),p=m?`#${Bz}=${encodeURIComponent(m)}`:"";return`${Fz(t)}?${Du(f).slice(1)}${p}`}function Fz({config:t}){return t.emulator?fv(t,zz):`https://${t.authDomain}/${Uz}`}const kg="webStorageSupport";class Hz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tC,this._completeRedirectFn=dz,this._overrideRedirectResult=uz}async _openPopup(e,n,s,a){ar(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await WA(e,n,s,My(),a);return kz(e,l,_v())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await WA(e,n,s,My(),a);return Y5(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ar(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Dz(e),s=new pz(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kg,{type:kg},a=>{const l=a?.[0]?.[kg];l!==void 0&&n(!!l),Gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ez(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B1()||V1()||mv()}}const qz=Hz;var XA="@firebase/auth",JA="1.12.0";class Gz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kz(t){Fi(new vi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F1(t)},p=new d5(s,a,l,m);return x5(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Fi(new vi("auth-internal",e=>{const n=uo(e.getProvider("auth").getImmediate());return(s=>new Gz(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(XA,JA,Yz(t)),Vn(XA,JA,"esm2020")}const $z=300,Qz=uR("authIdTokenMaxAge")||$z;let ZA=null;const Wz=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Qz)return;const a=n?.token;ZA!==a&&(ZA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Xz(t=Cd()){const e=oa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b5(t,{popupRedirectResolver:qz,persistence:[tz,H5,tC]}),s=uR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=Wz(l.toString());z5(n,u,()=>u(n.currentUser)),U5(n,f=>u(f))}}const a=oR("auth");return a&&A5(n,`http://${a}`),n}function Jz(){return document.getElementsByTagName("head")?.[0]??document}m5({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Es("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Jz().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kz("Browser");const lC="firebasestorage.googleapis.com",Zz="storageBucket",e9=120*1e3,t9=600*1e3;class ws extends Ei{constructor(e,n,s=0){super(jg(e),`Firebase Storage: ${n} (${jg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ws.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var As;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(As||(As={}));function jg(t){return"storage/"+t}function n9(){const t="An unknown error occurred, please check the error payload for server response.";return new ws(As.UNKNOWN,t)}function i9(){return new ws(As.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s9(){return new ws(As.CANCELED,"User canceled the upload/download.")}function r9(t){return new ws(As.INVALID_URL,"Invalid URL '"+t+"'.")}function a9(t){return new ws(As.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eS(t){return new ws(As.INVALID_ARGUMENT,t)}function cC(){return new ws(As.APP_DELETED,"The Firebase app was deleted.")}function o9(t){return new ws(As.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ji{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ji.makeFromUrl(e,n)}catch{return new ji(e,"")}if(s.path==="")return s;throw a9(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(oe){oe.path_=decodeURIComponent(oe.path)}const _="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",S=new RegExp(`^https?://${E}/${_}/b/${a}/o${b}`,"i"),N={bucket:1,path:3},k=n===lC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",B=new RegExp(`^https?://${k}/${a}/${P}`,"i"),H=[{regex:f,indices:m,postModify:l},{regex:S,indices:N,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<H.length;oe++){const ee=H[oe],le=ee.regex.exec(e);if(le){const C=le[ee.indices.bucket];let R=le[ee.indices.path];R||(R=""),s=new ji(C,R),ee.postModify(s);break}}if(s==null)throw r9(e);return s}}class l9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function c9(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let p=!1;function _(...P){p||(p=!0,e.apply(null,P))}function E(P){a=setTimeout(()=>{a=null,t(S,m())},P)}function b(){l&&clearTimeout(l)}function S(P,...B){if(p){b();return}if(P){b(),_.call(null,P,...B);return}if(m()||u){b(),_.call(null,P,...B);return}s<64&&(s*=2);let H;f===1?(f=2,H=0):H=(s+Math.random())*1e3,E(H)}let N=!1;function k(P){N||(N=!0,b(),!p&&(a!==null?(P||(f=2),clearTimeout(a),E(0)):P||(f=1)))}return E(0),l=setTimeout(()=>{u=!0,k(!0)},n),k}function u9(t){t(!1)}function h9(t){return t!==void 0}function tS(t,e,n,s){if(s<e)throw eS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw eS(`Invalid value for '${t}'. Expected ${n} or less.`)}function f9(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var vd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vd||(vd={}));function d9(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class m9{constructor(e,n,s,a,l,u,f,m,p,_,E,b=!0,S=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,k)=>{this.resolve_=N,this.reject_=k,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new wf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===vd.NO_ERROR,m=l.getStatus();if(!f||d9(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===vd.ABORT;s(!1,new wf(!1,null,_));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new wf(p,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());h9(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=n9();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?cC():s9();u(m)}else{const m=i9();u(m)}};this.canceled_?n(!1,new wf(!1,null,!0)):this.backoffId_=c9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function p9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function g9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v9(t,e,n,s,a,l,u=!0,f=!1){const m=f9(t.urlParams),p=t.url+m,_=Object.assign({},t.headers);return y9(_,e),p9(_,n),g9(_,l),_9(_,s),new m9(p,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function E9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Ed{constructor(e,n){this._service=e,n instanceof ji?this._location=n:this._location=ji.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ed(e,n)}get root(){const e=new ji(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T9(this._location.path)}get storage(){return this._service}get parent(){const e=E9(this._location.path);if(e===null)return null;const n=new ji(this._location.bucket,e);return new Ed(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw o9(e)}}function nS(t,e){const n=e?.[Zz];return n==null?null:ji.makeFromBucketSpec(n,t)}function b9(t,e,n,s={}){t.host=`${e}:${n}`;const a=io(e);a&&(x_(`https://${t.host}/b`),A_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:hR(l,t.app.options.projectId))}class x9{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=lC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e9,this._maxUploadRetryTime=t9,this._requests=new Set,a!=null?this._bucket=ji.makeFromBucketSpec(a,this._host):this._bucket=nS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ji.makeFromBucketSpec(this._url,e):this._bucket=nS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ed(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new l9(cC());{const u=v9(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const iS="@firebase/storage",sS="0.14.0";const uC="storage";function A9(t=Cd(),e){t=It(t);const s=oa(t,uC).getImmediate({identifier:e}),a=lR("storage");return a&&S9(s,...a),s}function S9(t,e,n,s={}){b9(t,e,n,s)}function w9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new x9(n,s,a,e,ro)}function R9(){Fi(new vi(uC,w9,"PUBLIC").setMultipleInstances(!0)),Vn(iS,sS,""),Vn(iS,sS,"esm2020")}R9();const I9={apiKey:"AIzaSyANZRlyzKDXsnB8QP6dTrKsq5-WFaZTJDY",authDomain:"bookofgrit.firebaseapp.com",projectId:"bookofgrit",storageBucket:"bookofgrit.firebasestorage.app",messagingSenderId:"416633269965",appId:"1:416633269965:web:8e82d613d1b9f004590384",measurementId:"G-WKRTDR23SF"},em=_R(I9);typeof window<"u"&&L6(em);const rt=t3(em),Wn=Xz(em);A9(em);function C9({isOpen:t,onClose:e,item:n,onComplete:s}){const[a,l]=O.useState("idle"),[u,f]=O.useState(""),[m,p]=O.useState({callsign:"",mission:""});Nl(),O.useEffect(()=>{t&&(l("idle"),f(""))},[t]);const _=()=>{l("preform")},E=async S=>{S&&S.preventDefault(),l("processing"),f("");try{m.callsign&&console.log("LOGGING_PRE_FLIGHT_INTEL:",m);const N=await fetch("/create-checkout-session.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:n.id,name:n.name,price:n.price,img:n.img||"https://thebookofgrit.com/bookofgrit_logo_v3.png",uid:Wn.currentUser?.uid||"anonymous",metadata:{callsign:m.callsign,mission:m.mission}})}),k=N.headers.get("content-type");if(!k||!k.includes("application/json")){const B=await N.text();throw console.error("Non-JSON response:",B),new Error("SERVER_CONFIGURATION_ERROR")}const P=await N.json();if(P.error)throw new Error(P.error);if(P.url)window.location.href=P.url;else throw new Error("SECURE_LINK_GENERATION_FAILED")}catch(N){console.error("Payment Error:",N),f(N.message||"FAILED_TO_INITIALIZE_GATEWAY"),l("error")}};if(!t)return null;const b=n?.id==="SUB_MONTHLY";return y.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 sm:p-6 md:p-12",children:[y.jsx(Rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/95 backdrop-blur-xl"}),y.jsxs(Rt.div,{initial:{scale:.95,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:30},className:`relative w-full ${b?"max-w-4xl":"max-w-2xl"} bg-black border-2 ${b?"border-neon-magenta shadow-[0_0_80px_rgba(255,0,255,0.15)]":"border-primary shadow-[0_0_80px_rgba(0,240,255,0.15)]"} overflow-hidden h-fit max-h-[90vh] flex flex-col`,children:[y.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent ${b?"via-neon-magenta":"via-primary"} to-transparent opacity-50`}),y.jsxs("div",{className:"p-8 md:p-12 relative z-10 flex-1 overflow-y-auto custom-scrollbar",children:[y.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-zinc-600 hover:text-white transition-colors material-symbols-outlined text-4xl",children:"close"}),y.jsxs(oV,{mode:"wait",children:[a==="idle"&&y.jsx(Rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-10",children:y.jsxs("div",{className:"text-center md:text-left",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8 border-b border-zinc-900 pb-8",children:[y.jsxs("div",{children:[y.jsx("h3",{className:`text-4xl md:text-6xl font-bombed text-white mb-2 uppercase tracking-tighter ${b?"text-neon-magenta":""}`,children:b?"ELITE_ENLISTMENT":"SECURE_ACCESS"}),y.jsx("p",{className:`${b?"text-neon-magenta":"text-primary"} font-technical text-xs md:text-sm tracking-[0.4em] uppercase`,children:b?"OPERATIONAL FREQUENCY ACCESS":`ASSET_ID: ${n?.id||"AUTH_REQUIRED"}`})]}),y.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[y.jsx("span",{className:"text-zinc-600 font-technical text-[10px] uppercase mb-1 tracking-widest",children:"COST"}),y.jsx("span",{className:"text-white text-5xl font-bombed leading-none",children:n?.price||"$0.00"})]})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"bg-zinc-900/40 border border-zinc-800 p-8 relative",children:[y.jsx("div",{className:`absolute -top-3 -left-3 w-8 h-8 border-l-2 border-t-2 ${b?"border-neon-magenta/40":"border-primary/40"}`}),y.jsx("div",{className:`absolute -bottom-3 -right-3 w-8 h-8 border-r-2 border-b-2 ${b?"border-neon-magenta/40":"border-primary/40"}`}),y.jsx("p",{className:`text-white font-graffiti text-3xl mb-4 italic ${b?"text-neon-magenta":""}`,children:n?.name||"UNKNOWN_ITEM"}),y.jsx("p",{className:"text-zinc-400 font-technical text-xs leading-relaxed",children:n?.description||"Decryption sequence for operational manifests. Includes full tactical orientation and implementation protocols."})]}),b&&y.jsxs("div",{className:"space-y-6",children:[y.jsx("h4",{className:"text-neon-magenta font-stencil text-lg uppercase underline underline-offset-8 decoration-neon-magenta/30",children:"WHY_JOIN_THE_MOVEMENT?"}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{icon:"hub",label:"THE NETWORK",desc:"Direct connection to a global collective of elite performers. No noise. Pure signal."},{icon:"deployed_code",label:"TACTICAL DRILLS",desc:"Weekly operational procedures designed to push your limit and rebuild your discipline."},{icon:"shield_with_heart",label:"PRIVATE ARCHIVE",desc:"Unrestricted access to the classified manifestos and unreleased grit protocols."}].map((S,N)=>y.jsxs("div",{className:"flex gap-4 group",children:[y.jsx("span",{className:"material-symbols-outlined text-neon-magenta text-3xl opacity-50 group-hover:opacity-100 transition-opacity",children:S.icon}),y.jsxs("div",{children:[y.jsx("p",{className:"text-white font-bombed text-[10px] mb-1",children:S.label}),y.jsx("p",{className:"text-zinc-500 font-technical text-[9px] leading-tight",children:S.desc})]})]},N))})]})]}),y.jsxs("div",{className:"flex flex-col justify-between space-y-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-black/80 border border-zinc-800 p-6 font-technical text-[10px] text-zinc-500 space-y-2 leading-relaxed",children:[y.jsx("p",{className:"text-zinc-400 font-bold uppercase",children:"MISSION_PROTOCOL_2.0:"}),y.jsx("p",{children:"By proceeding, you acknowledge that progress is only possible through consistent, uncomfortable work. The assets provided are tools, not solutions. No refunds will be issued for Lack of discipline."})]}),y.jsxs("ul",{className:"space-y-3",children:[y.jsxs("li",{className:"flex items-center gap-3 text-zinc-400 font-technical text-[10px]",children:[y.jsx("span",{className:`material-symbols-outlined text-sm ${b?"text-neon-magenta":"text-primary"}`,children:"verified"}),"INSTANT DIGITAL DEPLOYMENT"]}),y.jsxs("li",{className:"flex items-center gap-3 text-zinc-400 font-technical text-[10px]",children:[y.jsx("span",{className:`material-symbols-outlined text-sm ${b?"text-neon-magenta":"text-primary"}`,children:"security"}),"ENCRYPTED_SESSION_KEY_INCLUDED"]})]})]}),y.jsxs("div",{className:"space-y-4 pt-8 border-t border-zinc-900",children:[y.jsxs("button",{onClick:_,className:`w-full py-6 font-stencil text-2xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-2xl flex items-center justify-center gap-4 ${b?"bg-neon-magenta text-black shadow-neon-magenta/20":"bg-primary text-black shadow-primary/20"} hover:bg-white`,children:[y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"terminal"}),"INITIALIZE CHECKOUT"]}),y.jsxs("div",{className:"flex items-center justify-center gap-6 opacity-30 invert pointer-events-none",children:[y.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg",alt:"Stripe",className:"h-6"}),y.jsx("div",{className:"w-px h-6 bg-white"}),y.jsx("span",{className:"text-[10px] font-technical text-white tracking-widest uppercase",children:"SSL_SECURE"})]})]})]})]})]})},"idle"),a==="preform"&&y.jsxs(Rt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:[y.jsxs("div",{className:"border-b border-zinc-900 pb-8",children:[y.jsx("h3",{className:`text-3xl font-bombed uppercase italic ${b?"text-neon-magenta":"text-primary"}`,children:"OPERATIONAL_INTEL_REQUIRED"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase mt-2 tracking-widest",children:"SUBMIT IDENTITY PARAMS BEFORE SECURE CONNECTION"})]}),y.jsxs("form",{onSubmit:E,className:"space-y-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-600 uppercase",children:"CONFIRM_CALLSIGN"}),y.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"EX: VANTAGE_POINT",className:`w-full bg-zinc-900/50 border border-zinc-800 p-4 font-technical text-white focus:border-${b?"neon-magenta":"primary"} outline-none text-xs`,value:m.callsign,onChange:S=>p({...m,callsign:S.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-600 uppercase",children:"MISSION_OBJECTIVE"}),y.jsx("textarea",{required:!0,rows:"3",placeholder:"BRIEF_SUMMARY_OF_WHY_YOU_ARE_PURCHASING",className:`w-full bg-zinc-900/50 border border-zinc-800 p-4 font-technical text-white focus:border-${b?"neon-magenta":"primary"} outline-none text-xs`,value:m.mission,onChange:S=>p({...m,mission:S.target.value})})]})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{type:"button",onClick:()=>l("idle"),className:"px-8 py-4 border border-zinc-800 text-zinc-600 font-technical text-xs hover:text-white uppercase transition-colors",children:"BACK"}),y.jsx("button",{type:"submit",className:`flex-1 py-4 font-stencil text-xl transition-all ${b?"bg-neon-magenta text-black":"bg-primary text-black"} hover:bg-white`,children:"SECURE_ENCRYPT_AND_PAY"})]}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-800 uppercase text-center tracking-widest leading-relaxed",children:"INTEL_WILL_BE_INJECTED_INTO_STRIPE_METADATA_FOR_ORDER_FULFILLMENT."})]})]},"preform"),a==="processing"&&y.jsxs(Rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-24 text-center space-y-10",children:[y.jsxs("div",{className:"relative inline-block scale-150",children:[y.jsx("div",{className:`w-24 h-24 border-2 ${b?"border-neon-magenta/10":"border-primary/10"} rounded-full`}),y.jsx("div",{className:`absolute top-0 left-0 w-24 h-24 border-t-2 ${b?"border-neon-magenta":"border-primary"} rounded-full animate-spin`}),y.jsx("span",{className:`absolute inset-0 flex items-center justify-center material-symbols-outlined text-4xl ${b?"text-neon-magenta":"text-primary"} animate-pulse`,children:"sensors"})]}),y.jsxs("div",{children:[y.jsx("p",{className:`font-bombed ${b?"text-neon-magenta":"text-primary"} text-2xl tracking-[0.2em] animate-pulse`,children:"AUTHORIZING_LINK..."}),y.jsx("p",{className:"font-technical text-xs text-zinc-600 mt-4 uppercase tracking-widest",children:"Handshaking with secure payment node"})]})]},"processing"),a==="error"&&y.jsxs(Rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-24 text-center space-y-10",children:[y.jsx("span",{className:"material-symbols-outlined text-7xl text-fire",children:"warning"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bombed text-fire text-2xl tracking-[0.2em]",children:"CONNECTION_REJECTED"}),y.jsx("p",{className:"font-technical text-xs text-zinc-600 mt-4 uppercase tracking-widest",children:u})]}),y.jsx("button",{onClick:()=>l("idle"),className:"px-8 py-2 border border-zinc-800 text-zinc-500 font-technical text-[10px] hover:text-white hover:border-white transition-all uppercase",children:"Retry Connection"})]},"error")]})]}),y.jsxs("div",{className:"bg-zinc-950 px-12 py-6 border-t border-zinc-900/50 flex justify-between items-center opacity-40",children:[y.jsxs("span",{className:"text-[10px] font-technical text-zinc-600 tracking-tighter",children:["SESSION_SIG: ",Math.random().toString(36).substring(2,15).toUpperCase()]}),y.jsxs("div",{className:"flex gap-8",children:[y.jsx("span",{className:"text-[10px] font-technical text-zinc-600 tracking-tighter uppercase",children:"Protocol: Grit_v3.2"}),y.jsx("span",{className:"text-[10px] font-technical text-zinc-600 tracking-tighter uppercase",children:"Loc: Global_Net"})]})]})]})]})}function N9(){const[t,e]=O.useState([]),[n,s]=O.useState([]),[a,l]=O.useState(!1),[u,f]=O.useState(null),[m,p]=O.useState(!0),[_,E]=O.useState(null),[b,S]=O.useState(!1),[N,k]=O.useState(""),[P,B]=O.useState([]),[q,H]=O.useState(""),[oe,ee]=O.useState(!1),[le,C]=O.useState({motivation:"",specialty:"TACTICAL",experience:""}),[R,I]=O.useState(!1),L=Nl();O.useEffect(()=>{const ue=yv(Wn,async be=>{if(E(be),be){const ht=Kn(rt,"users",be.uid),Wt=await s1(ht);if(Wt.exists()){const mn=Wt.data();k(mn.callsign||""),mn.purchased&&s(mn.purchased),S(mn.isSubscriber||mn.purchased?.includes("SUB_MONTHLY"))}}else k(""),s([]),S(!1)});return z(),V(),()=>ue()},[]);const V=async()=>{try{const ue=ms(un(rt,"drills"),Br("timestamp","desc")),ht=(await ps(ue)).docs.map(Wt=>({id:Wt.id,...Wt.data()}));B(ht)}catch(ue){console.error("Failed to fetch drills:",ue)}},z=async()=>{try{console.log("FETCHING chapters from FIRESTORE");const ue=ms(un(rt,"chapters"),Br("id","asc")),ht=(await ps(ue)).docs.map(Wt=>({...Wt.data(),firestoreId:Wt.id}));e(ht)}catch(ue){console.error("Failed to fetch chapters:",ue)}finally{p(!1)}},[D,Me]=O.useState(""),[Je,J]=O.useState(""),[$,ce]=O.useState("google"),[me,ge]=O.useState(null),j=async ue=>{try{ge(null),ue?await j5(Wn,D,Je):await W1(Wn,D,Je)}catch(be){console.error("Email Auth Error:",be),ge(be.message.replace("Firebase: ",""))}},ie=async()=>{await X1(Wn)},fe=async ue=>{if(!(!_||!ue))try{const be=Kn(rt,"users",_.uid);await g3(be,{callsign:ue.toUpperCase(),email:_.email,purchased:n,isSubscriber:b},{merge:!0}),k(ue.toUpperCase())}catch(be){console.error("Failed to init callsign:",be)}},pe=()=>{document.getElementById("archive-section")?.scrollIntoView({behavior:"smooth"})},we=ue=>{n.includes(ue.id)?Ze(ue):(f(ue),l(!0))},Ce=()=>{f({id:"SUB_MONTHLY",name:"THE MOVEMENT",price:"$10/MO",description:"Elite access to the global collective. Includes weekly drills, private discord connectivity, and full archive decryption. No excuses allowed."}),l(!0)},je=ue=>{ue.id.startsWith("CH_")?(s(be=>[...be,ue.id]),Ze(ue)):ue.id==="SUB_MONTHLY"&&alert("ENLISTMENT SUCCESSFUL. CHECK DISCORD FOR DRILL SCHEDULE.")},yt=()=>{L("/admin")},Ze=ue=>{if(ue.pdfUrl){const Z=`/download.php?file=${ue.pdfUrl.split("/").pop()}&uid=${_?.uid||"anonymous"}`;window.open(Z,"_blank");return}const be=new jsPDF;be.setFillColor(0,0,0),be.rect(0,0,210,297,"F"),be.setTextColor(255,77,0),be.setFont("courier","bold"),be.setFontSize(22),be.text("CLASSIFIED ASSET",105,40,null,null,"center"),be.setTextColor(255,255,255),be.setFontSize(30),be.text(ue.name.toUpperCase(),105,120,null,null,"center"),be.setFontSize(10),be.setTextColor(150,150,150),be.text(`ID: ${ue.id}`,105,135,null,null,"center"),be.text("AUTHORIZATION: GRIT_MASTER",105,140,null,null,"center"),be.addPage(),be.setTextColor(0,0,0),be.setFont("times","normal"),be.setFontSize(12);const ht=ue.content||`NO CONTENT FOUND.

STAY HARD.`,Wt=be.splitTextToSize(ht,180);be.text(Wt,15,20),be.save(`${ue.id}_${ue.name.replace(/\s/g,"_")}_DECRYPTED.pdf`)},Ti=async ue=>{ue.preventDefault();try{await Ha(un(rt,"enlistments"),{email:q,timestamp:new Date,status:"PENDING"}),ee(!0),H("")}catch(be){console.error("Enlistment failed",be),alert("CONNECTION_STRENGTH_LOW: ENLISTMENT_FAILED")}},bi=async ue=>{if(ue.preventDefault(),!_){alert("UNAUTHORIZED: OPERATOR_MUST_LOG_IN_TO_APPLY");return}try{await Ha(un(rt,"applications"),{uid:_.uid,email:_.email,callsign:N||"ANONYMOUS",...le,timestamp:new Date,status:"PENDING_REVIEW"}),I(!0)}catch(be){console.error("Application failed",be),alert("CRITICAL_ERROR: UPLOAD_FAILED")}};return y.jsxs("div",{className:"concrete-texture font-display text-white selection:bg-primary selection:text-black min-h-screen",children:[y.jsxs("div",{className:"relative flex min-h-screen w-full flex-col max-w-md mx-auto bg-black",children:[y.jsx(Rt.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative pt-6 pb-12 px-6 border-b-4 border-black",children:y.jsxs("div",{className:"relative z-10 text-center",children:[y.jsx("div",{className:"mb-2 flex justify-center",children:y.jsx("img",{src:"/bookofgrit_logo_v3.png",alt:"BOOK OF GRIT LOGO",className:"w-64 md:w-80 h-auto drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]"})}),y.jsxs("div",{className:"relative inline-block mb-8",children:[y.jsxs("h2",{className:"text-4xl font-bombed text-white tracking-tighter leading-none drip bg-white bg-clip-text text-transparent uppercase",children:["No comfort.",y.jsx("br",{}),"Just grit."]}),y.jsx("div",{className:"absolute -bottom-4 left-0 w-full h-1 bg-fire"})]}),y.jsx("button",{onClick:pe,className:"w-full bg-primary text-black font-stencil text-xl py-5 stencil-cutout shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-[0.98] transition-all duration-100 cursor-pointer",children:"ACQUIRE MANUALS"}),b?y.jsx(Ui,{to:"/dashboard",className:"block w-full mt-4",children:y.jsx("button",{className:"w-full bg-neon-magenta text-black font-stencil text-xl py-5 stencil-cutout shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-[0.98] transition-all duration-100 cursor-pointer",children:"ENTER THE DEEP WEB"})}):y.jsx("button",{onClick:()=>document.getElementById("subs-section")?.scrollIntoView({behavior:"smooth"}),className:"w-full mt-4 bg-neon-magenta text-black font-stencil text-xl py-5 stencil-cutout shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-[0.98] transition-all duration-100 cursor-pointer",children:"ENTER TO GRIT"})]})}),y.jsx("div",{className:"bg-neon-yellow py-2 ticker-wrap border-y-2 border-black overflow-hidden",children:y.jsxs(Rt.div,{animate:{x:[0,-1e3]},transition:{repeat:1/0,duration:30,ease:"linear"},className:"ticker-content flex gap-8 items-center whitespace-nowrap",children:[P.length>0?P.map((ue,be)=>y.jsxs("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:["SIGNAL_REVEALED: ",ue.title," // TYPE: ",ue.type," // MISSION_START: ",ue.timestamp?.toDate().toLocaleTimeString()," //"]},be)):y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:"8,400+ OPERATORS ACTIVE // MISSION LOGGED 2m AGO // SECURE_LINE_ACTIVE //"}),y.jsx("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:"8,400+ OPERATORS ACTIVE // MISSION LOGGED 2m AGO // SECURE_LINE_ACTIVE //"})]}),P.length>0&&P.map((ue,be)=>y.jsxs("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:["SIGNAL_REVEALED: ",ue.title," // TYPE: ",ue.type," // MISSION_START: ",ue.timestamp?.toDate().toLocaleTimeString()," //"]},`dup-${be}`))]})}),y.jsx(Rt.section,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"p-8 border-b-2 border-white/10 relative bg-black",children:y.jsxs("div",{className:"relative z-10",children:[y.jsx("h3",{className:"font-stencil text-fire text-sm mb-2 tracking-[0.2em] uppercase",children:"Phase_01"}),y.jsx("h2",{className:"text-4xl font-bombed mb-6 leading-none",children:"TRUTH OVER COMFORT"}),y.jsxs("p",{className:"text-zinc-400 font-medium leading-relaxed mb-4",children:["The world doesn't care about your potential. It only cares about what you've endured.",y.jsx("span",{className:"text-white",children:" The Book of Grit is the manual for those who refuse to be forgotten."})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("div",{className:"h-1 w-12 bg-fire"}),y.jsx("div",{className:"h-1 w-4 bg-zinc-800"}),y.jsx("div",{className:"h-1 w-4 bg-zinc-800"})]})]})}),y.jsx(Rt.section,{initial:{opacity:0},whileInView:{opacity:1},className:"p-8 bg-black border-b-2 border-white/5",children:_?N?y.jsxs("div",{className:"flex justify-between items-center bg-zinc-900/30 p-4 border border-zinc-800",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-500 uppercase",children:"Authenticated_Operator:"}),y.jsx("p",{className:"text-xs font-bombed text-white tracking-widest",children:N})]})]}),y.jsx("button",{onClick:ie,className:"text-[8px] font-technical text-zinc-700 hover:text-fire uppercase underline",children:"Terminate_Session"})]}):y.jsxs("div",{className:"space-y-6",children:[y.jsx("h3",{className:"font-technical text-[10px] text-zinc-500 mb-4 uppercase tracking-widest text-center",children:"ENCRYPT_OPERATOR_IDENTITY"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"ENTER_CALLSIGN",id:"callsign-input",className:"flex-1 bg-black border border-zinc-800 p-3 font-technical text-white focus:border-primary outline-none text-xs",onKeyDown:ue=>{ue.key==="Enter"&&fe(ue.target.value)}}),y.jsx("button",{onClick:()=>{const ue=document.getElementById("callsign-input").value;fe(ue)},className:"bg-primary text-black font-stencil px-4 text-xs",children:"ENCRYPT"})]})]}):y.jsxs("div",{className:"space-y-6",children:[y.jsx("h3",{className:"font-technical text-[10px] text-zinc-500 mb-4 uppercase tracking-widest text-center",children:"INITIALIZE_OPERATOR_ENLISTMENT"}),y.jsxs("div",{className:"w-full space-y-4",children:[$==="google"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>ce("signup"),className:"w-full py-4 px-6 bg-primary text-black font-stencil hover:bg-white transition-colors flex items-center justify-center gap-3 shadow-[4px_4px_0px_#333] uppercase",children:"CREATE_NEW_IDENTITY"}),y.jsx("div",{className:"text-center mt-4",children:y.jsx("button",{onClick:()=>ce("login"),className:"text-[10px] font-technical text-zinc-600 hover:text-white uppercase transition-colors",children:"Authorized_Personnel_Login"})})]}),($==="login"||$==="signup")&&y.jsxs("div",{className:"space-y-3 animate-fade-in",children:[y.jsx("input",{type:"email",placeholder:"OPERATOR_EMAIL",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white text-xs placeholder-zinc-600 focus:border-primary outline-none uppercase",value:D,onChange:ue=>Me(ue.target.value)}),y.jsx("input",{type:"password",placeholder:"ACCESS_CODE",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white text-xs placeholder-zinc-600 focus:border-primary outline-none uppercase",value:Je,onChange:ue=>J(ue.target.value)}),me&&y.jsx("p",{className:"text-fire text-[10px] font-technical",children:me}),y.jsx("button",{onClick:()=>j($==="signup"),className:"w-full py-3 bg-primary text-black font-stencil hover:bg-white transition-colors uppercase",children:$==="signup"?"ESTABLISH_IDENTITY":"AUTHENTICATE"}),y.jsx("button",{onClick:()=>{ce("google"),ge(null)},className:"w-full text-[10px] font-technical text-zinc-500 hover:text-white uppercase",children:"ABORT_MANUAL_OVERRIDE"})]})]})]})}),y.jsxs("section",{id:"archive-section",className:"p-6 bg-black",children:[y.jsxs("div",{className:"my-20 p-10 bg-zinc-950 border-2 border-zinc-900 relative overflow-hidden group hover:border-primary/30 transition-colors",children:[y.jsxs("div",{className:"max-w-xl mx-auto text-center space-y-8 relative z-10",children:[y.jsx("div",{className:"inline-block border border-primary/30 px-4 py-1.5 bg-primary/5",children:y.jsx("span",{className:"text-[10px] font-technical text-primary uppercase tracking-[0.3em]",children:"SECURE_ENLISTMENT_LINE_OPEN"})}),oe?y.jsxs("div",{className:"space-y-4 animate-reveal",children:[y.jsx("span",{className:"material-symbols-outlined text-primary text-5xl",children:"check_circle"}),y.jsx("h3",{className:"text-2xl font-bombed text-white uppercase italic",children:"IDENTITY_LOGGED"}),y.jsx("p",{className:"text-xs font-technical text-zinc-500 uppercase tracking-widest",children:"YOU_ARE_NOW_ON_THE_GRID. WATCH_FOR_SIGNALS."})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-bombed uppercase italic text-white tracking-widest",children:"JOIN_THE_MOVEMENT"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-600 uppercase tracking-widest leading-relaxed mt-4",children:"RESERVE YOUR ACCESS TO THE DEEP WEB. BE THE FIRST TO RECEIVE OMEGA_PROTOCOL ALERTS, PROMOTIONAL CODES, AND REDACTED INTEL."})]}),y.jsxs("form",{onSubmit:Ti,className:"mt-8 space-y-4",children:[y.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[y.jsx("input",{type:"email",required:!0,placeholder:"ENTER_SECURE_EMAIL",className:"flex-1 bg-black border border-zinc-800 p-4 font-technical text-white focus:border-primary outline-none text-xs",value:q,onChange:ue=>H(ue.target.value)}),y.jsx("button",{type:"submit",className:"bg-primary text-black font-stencil px-8 py-4 text-sm hover:bg-white transition-all transform hover:scale-[1.02]",children:"ENLIST_NOW"})]}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-800 uppercase",children:"SIGNAL_ENCRYPTION_ACTIVE // WE_ONLY_SEND_TRUTH."})]})]})]}),y.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",children:y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent h-1 w-full animate-scan",style:{top:"30%"}})})]}),y.jsxs("div",{id:"application-section",className:"my-20 p-10 bg-black border-2 border-fire relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 font-technical text-[8px] text-fire animate-pulse uppercase",children:"HIGH_CLEARANCE_REQUIRED"}),y.jsxs("div",{className:"max-w-2xl mx-auto space-y-10",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-4xl font-bombed text-white uppercase italic tracking-widest",children:"CLEARANCE_APPLICATION"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest mt-4",children:"TERMINAL_REF: 404-APPLICATION_PROTOCOL"})]}),R?y.jsxs("div",{className:"p-12 border border-fire/30 bg-fire/5 text-center space-y-6 animate-reveal",children:[y.jsx("span",{className:"material-symbols-outlined text-fire text-6xl",children:"shield_with_heart"}),y.jsx("h3",{className:"text-2xl font-bombed text-white uppercase italic",children:"INTEL_RECEIVED"}),y.jsxs("p",{className:"text-[10px] font-technical text-zinc-400 uppercase tracking-widest leading-relaxed",children:["// YOUR_APPLICATION_HAS_BEEN_ENCRYPTED_AND_STORED_IN_THE_OMEGA_VAULT.",y.jsx("br",{}),"// CURRENT_QUEUE_POSITION: CALCULATING...",y.jsx("br",{}),"// EXPECT_CONTACT_IF_INTEREST_IS_RECIPROCATED."]})]}):y.jsxs("form",{onSubmit:bi,className:"space-y-6",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"OPERATOR_SPECIALTY"}),y.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-800 p-4 font-technical text-white focus:border-fire outline-none text-xs",value:le.specialty,onChange:ue=>C({...le,specialty:ue.target.value}),children:[y.jsx("option",{value:"TACTICAL",children:"TACTICAL_COMBAT"}),y.jsx("option",{value:"INTELLIGENCE",children:"INTELLIGENCE_GATHERING"}),y.jsx("option",{value:"LOGISTICS",children:"RESOURCE_LOGISTICS"}),y.jsx("option",{value:"PROPAGANDA",children:"INFORMATION_WARFARE"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"FIELD_EXPERIENCE (Short)"}),y.jsx("input",{type:"text",required:!0,placeholder:"EX: 3_YEARS_IN_THE_VOID",className:"w-full bg-zinc-900 border border-zinc-800 p-4 font-technical text-white focus:border-fire outline-none text-xs",value:le.experience,onChange:ue=>C({...le,experience:ue.target.value})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"MISSION_STATEMENT / MOTIVATION"}),y.jsx("textarea",{required:!0,rows:"4",placeholder:"WHY_DO_YOU_WISH_TO_JOIN_THE_MOVEMENT?",className:"w-full bg-zinc-900 border border-zinc-800 p-4 font-technical text-white focus:border-fire outline-none text-xs",value:le.motivation,onChange:ue=>C({...le,motivation:ue.target.value})})]}),y.jsx("button",{type:"submit",className:"w-full bg-fire text-black font-stencil py-6 text-lg hover:bg-white transition-all transform hover:scale-[1.01] shadow-[0_5px_15px_rgba(255,100,0,0.2)]",children:"SUBMIT_FOR_REVIEW"}),!_&&y.jsx("p",{className:"text-[8px] font-technical text-fire uppercase text-center animate-pulse",children:"// ERROR: AUTHENTICATION_REQUIRED_TO_APPLY //"})]})]})]}),y.jsxs("div",{className:"flex justify-between items-end mb-8",children:[y.jsx("h2",{className:"text-3xl font-graffiti text-white uppercase tracking-tighter",children:"FIELD MANUALS"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[n.length," / ",t.length," UNLOCKED"]})]}),m?y.jsx("div",{className:"py-20 text-center font-technical text-primary animate-pulse uppercase",children:"decrypting_archive..."}):t.length===0?y.jsx("div",{className:"py-20 text-center font-technical text-zinc-700 uppercase",children:"archive_empty // connection_lost"}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-10",children:t.map((ue,be)=>y.jsxs("div",{onClick:()=>we(ue),className:`relative group cursor-pointer ${be%2!==0?"md:translate-y-6":""}`,children:[y.jsxs("div",{className:`aspect-[3/4] bg-zinc-900 border-2 relative overflow-hidden transition-transform duration-300 group-hover:scale-[1.02] animate-scan ${n.includes(ue.id)?"border-neon-yellow shadow-[0_0_15px_rgba(204,255,0,0.3)]":`${ue.borderClass} ${ue.glow}`}`,children:[y.jsx("img",{alt:ue.name,className:`w-full h-full object-cover transition-all duration-500 ${n.includes(ue.id)?"grayscale-0":"grayscale group-hover:grayscale-0"}`,src:ue.img}),y.jsx("div",{className:`absolute top-2 right-2 sticker-peel px-2 py-1.5 text-[10px] font-bold z-20 leading-none ${n.includes(ue.id)?"bg-neon-yellow text-black":"bg-white text-black"}`,children:n.includes(ue.id)?"ACCESS_DATA":"ACQUIRE_TARGET"})]}),y.jsxs("div",{className:"mt-2 text-center",children:[y.jsx("p",{className:`text-[10px] font-technical ${n.includes(ue.id)?"text-neon-yellow":ue.colorClass}`,children:ue.id}),y.jsx("p",{className:"text-xs font-graffiti uppercase",children:ue.name})]})]},ue.firestoreId||ue.id))}),y.jsx("div",{className:"h-12"})]}),y.jsx(Rt.section,{id:"subs-section",whileInView:{scale:[.95,1],opacity:[0,1]},viewport:{once:!0},className:"p-6 mb-12",children:y.jsxs("div",{className:"border-4 border-neon-magenta p-10 relative bg-black shadow-[0_0_40px_rgba(255,0,255,0.1)] animate-scan magenta-scan",children:[y.jsx("div",{className:"absolute -top-4 left-6 bg-neon-magenta text-black px-4 py-1 text-xs font-bold font-technical tracking-widest uppercase z-20",children:"ENLIST_NOW"}),y.jsxs("div",{className:"mb-10 text-center",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-bombed mb-4 leading-none text-white italic drop-shadow-[0_0_10px_rgba(255,0,255,0.3)]",children:"REWRITE YOUR REALITY"}),y.jsx("div",{className:"h-0.5 w-16 bg-neon-magenta mx-auto mb-6"}),y.jsx("p",{className:"font-technical text-zinc-400 text-xs leading-relaxed max-w-sm mx-auto uppercase tracking-tighter",children:"Individuality is a weakness. The collective is an accelerator. Most people fail because they lack the network to hold them accountable."})]}),y.jsx("div",{className:"grid grid-cols-1 gap-8 mb-12",children:[{title:"TACTICAL_DRILLS",color:"primary",desc:"Custom tailored physical and mental protocols delivered weekly to ensure exponential growth."},{title:"DIRECT_SIGNAL",color:"neon-magenta",desc:"Bypass the noise of public socials. Direct access to the inner circle and decentralized discord backbone."},{title:"RESOURCE_DUMP",color:"fire",desc:"Immediate unlocking of the full grit archive, including classified strategy decks and behavioral templates."}].map((ue,be)=>y.jsxs("div",{className:"flex gap-6 items-start border-l-2 border-zinc-900 pl-6 hover:border-neon-magenta transition-colors group",children:[y.jsx("div",{className:"pt-1",children:y.jsx("span",{className:"material-symbols-outlined text-neon-magenta opacity-50 group-hover:opacity-100 transition-all font-bold",children:"bolt"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bombed text-[12px] mb-2 tracking-widest underline decoration-zinc-800",children:ue.title}),y.jsx("p",{className:"text-zinc-500 font-technical text-[10px] leading-snug",children:ue.desc})]})]},be))}),b?y.jsx("div",{className:"w-full py-6 bg-green-500/20 border border-green-500/50 text-green-500 font-stencil text-2xl text-center uppercase tracking-widest",children:"OPERATIONAL_CLEARANCE_ACTIVE"}):y.jsx("button",{onClick:Ce,className:"w-full py-6 bg-neon-magenta text-black font-stencil text-2xl hover:bg-white active:scale-[0.98] transition-all cursor-pointer shadow-[0_10px_30px_rgba(255,0,255,0.2)]",children:"$10/MONTH // JOIN THE 8,400+"}),y.jsx("p",{className:"text-center mt-6 text-zinc-700 font-technical text-[8px] uppercase tracking-[0.4em]",children:"NO_REFUNDS // NO_EXCUSES // NO_RETREAT"})]})}),y.jsxs(Rt.section,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"red-alert p-10 flex flex-col items-center justify-center text-center min-h-[400px] border-y-4 border-black",children:[y.jsx("h2",{className:"text-6xl font-bombed text-white leading-none tracking-tighter mb-4 drop-shadow-[4px_4px_0px_#000]",children:"NO ONE IS COMING TO SAVE YOU"}),y.jsx("div",{className:"w-20 h-1 bg-white mb-8"}),y.jsx("p",{className:"text-white font-stencil text-lg",children:"DO THE WORK."})]}),y.jsx("footer",{className:"p-8 bg-black border-t-4 border-zinc-900",children:y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("div",{className:"text-[10px] font-technical text-zinc-600",children:"AUTH: CLASSIFIED_04"}),y.jsx("button",{onClick:yt,className:"text-[10px] font-technical text-zinc-600 text-left hover:text-fire transition-colors",children:"SYS_ADMIN_LOGIN"})]}),y.jsx("div",{className:"flex gap-4",children:y.jsx("span",{className:"material-symbols-outlined text-zinc-700",children:"lock"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[10px] font-technical text-zinc-400",children:[y.jsx(Ui,{className:"hover:text-primary underline",to:"/terms",children:"TERMS_OF_GRIT"}),y.jsx(Ui,{className:"hover:text-primary underline",to:"/privacy",children:"SECURE_DECRYPT"})]}),y.jsx("div",{className:"pt-6 flex justify-center opacity-20",children:y.jsx("h1",{className:"text-2xl graffiti-logo",children:"BOOK OF GRIT"})})]})}),y.jsx("div",{className:"h-8"})]}),y.jsx(C9,{isOpen:a,onClose:()=>l(!1),item:u,onComplete:je})]})}function D9(){const t=or(),[e,n]=O.useState(t.state?.item||null),[s,a]=O.useState(!e);O.useEffect(()=>{const p=new URLSearchParams(t.search),_=p.get("item_id"),E=p.get("session_id");E?l(E,_):a(!1)},[]);const l=async(p,_)=>{a(!0);try{const b=await(await fetch(`/verify-session.php?session_id=${p}`)).json();if(b.status==="paid"){const S=b.itemId||_;Wn.currentUser&&await u(Wn.currentUser.uid,S),S&&f(S)}else console.error("SECURE_VERIFICATION_FAILED"),a(!1)}catch(E){console.error("VERIFICATION_UNSTABLE:",E),a(!1)}},u=async(p,_)=>{try{const E=Kn(rt,"users",p),b={purchased:ZI(_)};_==="SUB_MONTHLY"&&(b.isSubscriber=!0),await Uf(E,b),console.log("CLOUDSYNC_COMPLETE:",_)}catch(E){console.error("CLOUDSYNC_FAILED:",E)}},f=async p=>{try{console.log("FETCHING item for success:",p);const _=ms(un(rt,"chapters"),m3("id","==",p)),E=await ps(_);if(E.empty)console.error("No item found for ID:",p);else{const b=E.docs[0].data();n(b),m(b)}}catch(_){console.error("Failed to fetch item for success download:",_)}finally{a(!1)}},m=p=>{if(p.pdfUrl){const k=`/download.php?file=${p.pdfUrl.split("/").pop()}&uid=${Wn.currentUser?.uid||"anonymous"}`;window.open(k,"_blank");return}const _=p.content||`MANIFESSTO - ${p.name}

NO ONE IS COMING TO SAVE YOU.
DO THE WORK.`,E=new Blob([_],{type:"text/plain"}),b=URL.createObjectURL(E),S=document.createElement("a");S.href=b,S.download=`${p.id}_${p.name.replace(/\s/g,"_")}.txt`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(b)};return y.jsx("div",{className:"concrete-texture min-h-screen bg-black flex flex-col items-center justify-center p-6 text-white text-center",children:y.jsxs(Rt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 max-w-md w-full border-4 border-primary glow-cyan bg-black p-12 shadow-[0_0_100px_rgba(0,255,255,0.1)]",children:[y.jsx(Rt.div,{initial:{y:20},animate:{y:0},className:"mb-8",children:y.jsx("span",{className:"material-symbols-outlined text-8xl text-primary drop-shadow-[0_0_20px_rgba(0,255,255,0.5)]",children:"task_alt"})}),y.jsxs("h1",{className:"text-5xl font-bombed mb-4 leading-none italic",children:["TRANSACTION",y.jsx("br",{}),"CONFIRMED"]}),y.jsx("div",{className:"h-1 w-20 bg-primary mx-auto mb-8"}),s?y.jsx("div",{className:"mb-8 p-4 border border-zinc-900 bg-black animate-pulse text-center",children:y.jsx("p",{className:"text-[10px] font-technical text-zinc-600 uppercase",children:"IDENTIFYING_ASSET..."})}):e?y.jsxs("div",{className:"mb-8 p-4 border border-zinc-800 bg-black text-center",children:[y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase mb-1",children:"Decrypted_Asset:"}),y.jsx("p",{className:"text-xl font-bombed text-white uppercase",children:e.name}),y.jsx("p",{className:"text-[8px] font-technical text-primary mt-2",children:"DOWNLOAD_STARTED..."})]}):y.jsx("div",{className:"mb-8 p-4 border border-fire/20 bg-black text-center",children:y.jsx("p",{className:"text-fire text-[10px] font-technical uppercase",children:"ASSET_NOT_FOUND_IN_ARCHIVE"})}),y.jsxs("p",{className:"font-technical text-zinc-400 text-[10px] mb-12 leading-relaxed uppercase tracking-tighter",children:["Operator credentials verified. Digital manifests have been decrypted and linked to your session.",y.jsx("span",{className:"text-white block mt-4 italic font-bold",children:'"THE ONLY EASY DAY WAS YESTERDAY."'})]}),y.jsx(Ui,{to:"/",children:y.jsx("button",{className:"w-full bg-primary text-black font-stencil text-xl py-6 hover:bg-white hover:scale-[1.02] active:scale-[0.98] transition-all cursor-pointer shadow-[8px_8px_0px_#000]",children:"RETURN TO ARCHIVE"})}),y.jsx("div",{className:"mt-8 text-[8px] font-technical text-zinc-700 uppercase tracking-widest",children:"SECURE_LINE_TERMINATED // IP_LOGGED"})]})})}function O9(){return y.jsx("div",{className:"concrete-texture min-h-screen bg-black flex flex-col items-center justify-center p-6 text-white text-center",children:y.jsxs(Rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"relative z-10 max-w-md w-full border-4 border-fire glow-orange bg-black p-12 shadow-[0_0_100px_rgba(255,80,0,0.1)]",children:[y.jsx("div",{className:"mb-8",children:y.jsx("span",{className:"material-symbols-outlined text-8xl text-fire animate-pulse",children:"warning"})}),y.jsxs("h1",{className:"text-5xl font-bombed mb-4 leading-none text-fire",children:["MISSION",y.jsx("br",{}),"ABORTED"]}),y.jsx("div",{className:"h-1 w-20 bg-fire mx-auto mb-8"}),y.jsxs("p",{className:"font-technical text-zinc-500 text-sm mb-12 leading-relaxed uppercase tracking-tighter",children:["Authorization sequence interrupted. The deployment has been halted. No assets were moved.",y.jsx("span",{className:"text-zinc-300 block mt-4 italic font-bold",children:'"FAILURE IS NOT AN OPTION, BUT PAYMENTS ARE."'})]}),y.jsx(Ui,{to:"/",children:y.jsx("button",{className:"w-full bg-zinc-800 text-white font-stencil text-xl py-6 hover:bg-fire hover:scale-[1.02] active:scale-[0.98] transition-all cursor-pointer",children:"RETRY DEPLOYMENT"})}),y.jsx("div",{className:"mt-8 text-[8px] font-technical text-zinc-800 uppercase tracking-widest",children:"ERROR_CODE: PAYMENT_CANCELLED_BY_OPERATOR"})]})})}const M9="PiA69d9PK7WzdnKRJIrwgV8hCSr1";function P9(t){const{chapters:e,users:n,subs:s,drills:a,enlistments:l,applications:u,onAdd:f,onUpdate:m,onDelete:p,onSeed:_,onClose:E,onAddDrill:b,onDeleteDrill:S,onGrantAccess:N,onResetProtocols:k,onDeleteUser:P,onDeleteEnlistment:B,onDeleteApplication:q}=t,[H,oe]=O.useState(null),[ee,le]=O.useState({id:"",name:"",img:"",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"",content:"",pdfFile:null,imgFile:null}),[C,R]=O.useState({title:"",content:"",type:"PROTOCOL"}),[I,L]=O.useState({email:"",password:""}),[V,z]=O.useState(null),[D,Me]=O.useState(!1),[Je,J]=O.useState(!1),[$,ce]=O.useState(null),[me,ge]=O.useState("BOOKS");O.useEffect(()=>{const Z=yv(Wn,Te=>{ce(Te),Te&&Te.uid===M9&&J(!0)});return()=>Z()},[]);const j=async Z=>{if(Z.preventDefault(),Me(!0),z(null),I.email.toLowerCase()==="commander")if(I.password==="protocol_omega_99"){console.log("HARDCODED_ADMIN_BYPASS_ACTIVE"),J(!0),Me(!1);return}else{z("INVALID_COMMAND_KEY"),Me(!1);return}try{await W1(Wn,I.email.includes("@")?I.email:`${I.email}@bookofgrit.com`,I.password)}catch(Te){console.error("Auth Error:",Te);let Pe="ACCESS_DENIED";(Te.code==="auth/user-not-found"||Te.code==="auth/invalid-credential")&&(Pe="OPERATOR_NOT_FOUND"),Te.code==="auth/wrong-password"&&(Pe="INVALID_ACCESS_KEY"),Te.code==="auth/invalid-email"&&(Pe="MALFORMED_ID"),Te.code==="auth/network-request-failed"&&(Pe="CONNECTION_LOST"),Te.code==="auth/too-many-requests"&&(Pe="RATE_LIMIT_EXCEEDED"),z(Pe)}finally{Me(!1)}},ie=()=>{J(!1),X1(Wn)},fe=(Z,Te=800,Pe=800)=>new Promise((et,tn)=>{const Zn=new FileReader;Zn.onerror=()=>tn(new Error("FAILED_TO_READ_FILE")),Zn.readAsDataURL(Z),Zn.onload=ho=>{const xt=new Image;xt.onerror=()=>tn(new Error("FAILED_TO_LOAD_IMAGE_DATA")),xt.src=ho.target.result,xt.onload=()=>{const ei=document.createElement("canvas");let Ln=xt.width,kn=xt.height;Ln>kn?Ln>Te&&(kn*=Te/Ln,Ln=Te):kn>Pe&&(Ln*=Pe/kn,kn=Pe),ei.width=Ln,ei.height=kn,ei.getContext("2d").drawImage(xt,0,0,Ln,kn),ei.toBlob(fo=>{if(!fo){tn(new Error("CANVAS_TO_BLOB_FAILED"));return}const mo=new File([fo],Z.name,{type:"image/jpeg"});et(mo)},"image/jpeg",.8)}},setTimeout(()=>tn(new Error("RESIZE_PROTOCOL_TIMEOUT")),1e4)}),pe=Z=>{oe(Z),le({id:Z.id||"",name:Z.name||"",img:Z.img||"",price:Z.price||"$3",borderClass:Z.borderClass||"border-primary",colorClass:Z.colorClass||"text-primary",glow:Z.glow||"glow-cyan",description:Z.description||"",content:Z.content||"",pdfFile:null,imgFile:null}),ge("BOOKS")},we=()=>{oe(null),le({id:"",name:"",img:"",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"",content:"",pdfFile:null,imgFile:null})},[Ce,je]=O.useState("PEER_NETWORK_LOGS_PENDING..."),[yt,Ze]=O.useState(!1),Ti=async()=>{Ze(!0);try{const Te=await(await fetch("/api/generate-drill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({difficulty:"OPERATOR"})})).json();Te.title&&(R({title:Te.title,type:Te.type||"PROTOCOL",content:Te.content}),alert("AI_SIGNAL_INTERCEPTED_AND_DECODED"))}catch(Z){console.error("AI Generation Failed",Z),alert("SIGNAL_CORRUPT: AI_HANDSHAKE_FAILED")}finally{Ze(!1)}},bi=async()=>{try{const Te=await(await fetch(`/ops.php?action=read_logs&t=${Date.now()}`,{headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"}})).json();Te.status==="success"&&je(Te.logs)}catch(Z){console.error("Logs Fetch Error",Z)}};O.useEffect(()=>{me==="LOGS"&&bi()},[me]);const ue=async Z=>{const Te=new FormData;Te.append("file",Z),Te.append("action","upload");const et=await(await fetch(`/ops.php?t=${Date.now()}`,{method:"POST",headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"},body:Te})).json();if(et.status==="success")return et.url;throw new Error(et.message||"UPLOAD_FAILED")},[be,ht]=O.useState(""),Wt=async Z=>{Z.preventDefault(),Me(!0),z(null),ht("INITIALIZING...");try{let Te=H?.pdfUrl||"";ee.pdfFile&&(ht(`UPLOADING_MANUSCRIPT: ${ee.pdfFile.name}...`),Te=await ue(ee.pdfFile));let Pe=ee.img;if(ee.imgFile){ht(`OPTIMIZING_COVER: ${ee.imgFile.name}...`);const tn=await fe(ee.imgFile);ht("UPLOADING_COVER..."),Pe=await ue(tn)}Pe||(Pe="https://thebookofgrit.com/bookofgrit_logo_v3.png"),ht("SYNCHRONIZING_WITH_FIRESTORE...");const et={id:ee.id,name:ee.name,img:Pe,price:ee.price||"$3",borderClass:ee.borderClass||"border-primary",colorClass:ee.colorClass||"text-primary",glow:ee.glow||"glow-cyan",description:ee.description||"",content:ee.content||"",pdfUrl:Te||""};H?await m(H.firestoreId,et):await f(et),oe(null),le({id:"",name:"",img:"",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"",content:"",pdfFile:null,imgFile:null}),ht(""),alert(H?"ASSET_UPDATED_SUCCESSFULLY":"ASSET_DEPLOYED_SUCCESSFULLY")}catch(Te){console.error("Upload Error",Te),z("DEPLOYMENT_FAILED: "+Te.message),ht("")}finally{Me(!1)}},mn=async Z=>{Z.preventDefault(),Me(!0);try{await b({...C,timestamp:new Date}),R({title:"",content:"",type:"PROTOCOL"})}catch(Te){console.error("Drill Upload Error",Te)}finally{Me(!1)}};return!$&&!Je?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/95 animate-scan",children:y.jsxs("div",{className:"w-full max-w-[90vw] md:max-w-md bg-black border-2 border-fire p-6 md:p-8 shadow-[0_0_50px_rgba(255,77,0,0.2)] relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-fire animate-pulse"}),y.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-zinc-800 pb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-fire animate-pulse",children:"terminal"}),y.jsx("h2",{className:"text-xl md:text-2xl font-bombed text-white uppercase tracking-widest",children:"AUTHENTICATION_REQUIRED"})]}),y.jsx("button",{onClick:E,className:"text-zinc-500 hover:text-fire material-symbols-outlined text-2xl leading-none transition-colors",children:"close"})]}),y.jsxs("form",{onSubmit:j,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest",children:"ID_CREDENTIAL"}),y.jsx("input",{type:"text",placeholder:"admin",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none text-sm",value:I.email,onChange:Z=>L({...I,email:Z.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest",children:"VRS_ACCESS_KEY"}),y.jsx("input",{type:"password",placeholder:"",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none text-sm",value:I.password,onChange:Z=>L({...I,password:Z.target.value})})]}),V&&y.jsx("div",{className:"bg-fire/10 border border-fire/30 p-3",children:y.jsxs("p",{className:"text-fire text-[10px] font-technical uppercase leading-tight",children:["ERROR // ",V]})}),y.jsxs("button",{disabled:D,className:"w-full bg-fire text-white font-stencil py-4 hover:bg-white hover:text-black transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock_open"}),D?"DECRYPTING...":"AUTHORIZE_SYSTEM"]})]}),y.jsx("div",{className:"mt-8 pt-4 border-t border-zinc-800 text-center",children:y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"Warning: Unauthorized access is logged and prosecuted."})})]})}):y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-4 bg-black/95 overflow-hidden",children:y.jsxs("div",{className:"w-full max-w-6xl bg-black border-2 border-fire p-4 md:p-8 shadow-2xl h-full md:h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 border-b border-zinc-800 pb-4 shrink-0 gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("h2",{className:"text-2xl md:text-3xl font-bombed text-white uppercase tracking-widest",children:"COMMAND CENTER"}),y.jsx("span",{className:"bg-fire text-black px-2 py-0.5 text-[10px] font-bold font-technical",children:"SECURE_SESSION"})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center w-full md:w-auto",children:[y.jsx("div",{className:"flex bg-zinc-900 border border-zinc-700 rounded-sm overflow-hidden flex-1 md:flex-none",children:["BOOKS","DRILLS","USERS","SUBS","ENLISTMENTS","APPLICATIONS","LOGS"].map(Z=>y.jsx("button",{onClick:()=>ge(Z),className:`flex-1 md:flex-none px-3 md:px-4 py-2 text-[10px] font-technical uppercase transition-all ${me===Z?"bg-fire text-white":"text-zinc-500 hover:text-white hover:bg-zinc-800"}`,children:Z},Z))}),y.jsx("div",{className:"hidden md:block w-px h-6 bg-zinc-800 mx-2"}),y.jsxs("div",{className:"flex gap-4 ml-auto md:ml-0",children:[y.jsx("button",{onClick:ie,className:"text-[10px] font-technical text-zinc-500 hover:text-fire uppercase underline",children:"Logout"}),y.jsx("button",{onClick:E,className:"text-zinc-500 hover:text-fire material-symbols-outlined text-4xl leading-none",children:"cancel"})]})]})]}),y.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[me==="BOOKS"&&y.jsxs("div",{className:"grid md:grid-cols-2 gap-12 h-full overflow-hidden",children:[y.jsxs("div",{className:"overflow-y-auto pr-2 custom-scrollbar",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-technical text-fire uppercase tracking-tighter underline",children:H?"MODIFY_ARCHIVE_DATA":"ENLIST_NEW_DOC"}),H&&y.jsx("button",{onClick:we,className:"text-[10px] font-technical bg-zinc-800 text-zinc-400 px-3 py-1 hover:bg-white hover:text-black transition-colors",children:"CANCEL_EDIT"})]}),y.jsxs("form",{onSubmit:Wt,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"ASSET_IDENTIFIER"}),y.jsx("input",{type:"text",placeholder:"ID (e.g. CH_05)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none",value:ee.id,onChange:Z=>le({...ee,id:Z.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"MARKET_VALUATION"}),y.jsx("input",{type:"text",placeholder:"PRICE (e.g. $10)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-fire focus:border-white outline-none",value:ee.price,onChange:Z=>le({...ee,price:Z.target.value})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"CODENAME"}),y.jsx("input",{type:"text",placeholder:"NAME",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none",value:ee.name,onChange:Z=>le({...ee,name:Z.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"border border-zinc-700 p-3 flex flex-col gap-2 bg-zinc-900/20",children:[y.jsxs("label",{className:"text-[10px] font-technical text-zinc-500 uppercase flex justify-between",children:[y.jsx("span",{children:"COVER_ASSET"}),y.jsx("span",{className:"material-symbols-outlined text-xs",children:"image"})]}),y.jsx("input",{type:"file",accept:"image/*",className:"text-xs text-zinc-400 file:bg-zinc-800 file:text-white file:border-0 file:px-2 file:py-1 file:font-technical file:uppercase hover:file:bg-fire hover:file:text-black cursor-pointer",onChange:Z=>le({...ee,imgFile:Z.target.files[0]})}),ee.imgFile?y.jsxs("div",{className:"mt-2 text-[8px] font-technical text-fire flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"image_search"}),"COVER_STAGED: ",ee.imgFile.name," (AUTO_OPTIMIZING)"]}):ee.img&&y.jsxs("div",{className:"mt-2 flex items-center gap-2 border border-zinc-800 p-1 bg-black/40",children:[y.jsx("img",{src:ee.img,alt:"Preview",className:"w-8 h-8 object-cover border border-zinc-700"}),y.jsx("p",{className:"text-[8px] text-zinc-600 truncate uppercase tracking-tighter",children:"Existing_Cover_Linked"})]})]}),y.jsxs("div",{className:"border border-zinc-700 p-3 flex flex-col gap-2 bg-zinc-900/20",children:[y.jsxs("label",{className:"text-[10px] font-technical text-zinc-500 uppercase flex justify-between",children:[y.jsx("span",{children:"PDF_MANUSCRIPT"}),y.jsx("span",{className:"material-symbols-outlined text-xs",children:"picture_as_pdf"})]}),y.jsx("input",{type:"file",accept:"application/pdf",className:"text-xs text-zinc-400 file:bg-zinc-800 file:text-white file:border-0 file:px-2 file:py-1 file:font-technical file:uppercase hover:file:bg-fire hover:file:text-black cursor-pointer",onChange:Z=>le({...ee,pdfFile:Z.target.files[0]})}),ee.pdfFile?y.jsxs("div",{className:"mt-2 text-[8px] font-technical text-primary flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"check_circle"}),"FILE_STAGED: ",ee.pdfFile.name]}):y.jsx("p",{className:"text-[8px] text-zinc-600 mt-2 uppercase tracking-tighter",children:"No_File_Selected"})]})]}),y.jsx("textarea",{placeholder:"BRIEFING_DESCRIPTION (TEASER)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none h-20",value:ee.description,onChange:Z=>le({...ee,description:Z.target.value})}),y.jsx("textarea",{placeholder:"MANIFESTO_CONTENT",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none h-32",value:ee.content,onChange:Z=>le({...ee,content:Z.target.value})}),y.jsx("button",{disabled:D,className:`w-full ${H?"bg-white text-black":"bg-fire text-white"} font-stencil py-4 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed uppercase`,children:D?be:H?"UPDATE_ARCHIVE":"DEPLOY_TO_ARCHIVE"})]})]}),y.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-technical text-primary uppercase tracking-tighter underline",children:"ACTIVE_ARCHIVE"}),y.jsx("button",{onClick:_,className:"text-[10px] font-technical bg-zinc-800 text-zinc-400 px-3 py-1 hover:bg-fire hover:text-white transition-colors",children:"RESEED"})]}),y.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:e.map(Z=>y.jsxs("div",{className:`bg-black p-4 border flex justify-between items-center group transition-colors ${H?.id===Z.id?"border-white":"border-zinc-900 hover:border-zinc-700"}`,children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("p",{className:"text-xs font-technical text-zinc-500",children:Z.id}),y.jsx("span",{className:"w-1 h-1 bg-zinc-700 rounded-full"}),y.jsx("p",{className:"text-[10px] font-technical text-fire",children:Z.price}),Z.pdfUrl?y.jsx("span",{className:"text-[8px] bg-green-900/30 text-green-500 px-1 border border-green-900 font-technical",children:"PDF_READY"}):y.jsx("span",{className:"text-[8px] bg-red-900/30 text-red-500 px-1 border border-red-900 font-technical",children:"NO_PDF"})]}),y.jsx("p",{className:"font-bombed text-white uppercase tracking-wider",children:Z.name})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>pe(Z),className:"text-zinc-700 hover:text-white material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"edit"}),y.jsx("button",{onClick:async()=>{if(window.confirm(`PERMANENTLY_DELETE_ASSET: ${Z.name}?`)){Me(!0);try{if(Z.pdfUrl){const Te=new FormData;Te.append("action","delete"),Te.append("fileUrl",Z.pdfUrl),await fetch(`/ops.php?t=${Date.now()}`,{method:"POST",headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"},body:Te})}if(Z.img){const Te=new FormData;Te.append("action","delete"),Te.append("fileUrl",Z.img),await fetch(`/ops.php?t=${Date.now()}`,{method:"POST",headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"},body:Te})}await p(Z.firestoreId),alert("ASSET_WIPED_FROM_EXISTENCE")}catch(Te){console.error("Deletion Failed",Te),alert("DELETION_ERROR_CHECK_LOGS")}finally{Me(!1)}}},className:"text-zinc-700 hover:text-red-500 material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"delete_forever"})]})]},Z.id))})]})]}),me==="DRILLS"&&y.jsxs("div",{className:"grid md:grid-cols-2 gap-12 h-full overflow-hidden",children:[y.jsxs("div",{className:"overflow-y-auto pr-2 custom-scrollbar",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-technical text-neon-magenta uppercase tracking-tighter underline",children:"DEPLOY_DRILL"}),y.jsxs("button",{type:"button",onClick:Ti,disabled:yt,className:"text-[10px] font-technical text-white border border-neon-magenta px-3 py-1 hover:bg-neon-magenta hover:text-black transition-all flex items-center gap-2 animate-pulse",children:[y.jsx("span",{className:"material-symbols-outlined text-xs",children:"psychology"}),yt?"DECODING_AI_SIGNAL...":"GENERATE_VIA_AI"]})]}),y.jsxs("form",{onSubmit:mn,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"DRILL_TITLE",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-neon-magenta outline-none",value:C.title,onChange:Z=>R({...C,title:Z.target.value})}),y.jsxs("select",{className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-neon-magenta outline-none",value:C.type,onChange:Z=>R({...C,type:Z.target.value}),children:[y.jsx("option",{value:"PROTOCOL",children:"PROTOCOL"}),y.jsx("option",{value:"MANIFESTO",children:"MANIFESTO"}),y.jsx("option",{value:"TACTICAL",children:"TACTICAL"}),y.jsx("option",{value:"CLEARANCE",children:"CLEARANCE"})]}),y.jsx("textarea",{placeholder:"DRILL_CONTENT (TECHNICAL_BREIFING)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-neon-magenta outline-none h-64",value:C.content,onChange:Z=>R({...C,content:Z.target.value})}),y.jsx("button",{disabled:D,className:"w-full bg-neon-magenta text-black font-stencil py-4 hover:bg-white transition-all disabled:opacity-50",children:D?"BROADCASTING...":"INITIALIZE_BROADCAST"})]})]}),y.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[y.jsx("h3",{className:"text-xl font-technical text-zinc-500 mb-6 uppercase tracking-tighter underline",children:"ACTIVE_SIGNALS"}),y.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:a&&a.map(Z=>y.jsxs("div",{className:"bg-black p-4 border border-zinc-900 flex justify-between items-center group hover:border-neon-magenta/30 transition-colors",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 mb-1",children:Z.timestamp?.toDate().toLocaleDateString()}),y.jsx("p",{className:"font-bombed text-white uppercase tracking-widest",children:Z.title})]}),y.jsx("button",{onClick:()=>S(Z.id),className:"text-zinc-700 hover:text-fire material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"delete_sweep"})]},Z.id))})]})]}),me==="USERS"&&y.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[y.jsx("h3",{className:"text-xl font-technical text-neon-magenta mb-6 uppercase tracking-tighter underline",children:"OPERATIVE_ROSTER"}),y.jsx("div",{className:"w-full overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"border-b border-zinc-800",children:[y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"ID"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"EMAIL"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"ROLE"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"STATUS"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"JOINED"}),y.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"ACTIONS"})]})}),y.jsx("tbody",{children:n&&n.map(Z=>y.jsxs("tr",{className:"border-b border-zinc-900 hover:bg-zinc-900/30 transition-colors",children:[y.jsx("td",{className:"p-4 text-xs font-mono text-zinc-400",children:Z.id}),y.jsx("td",{className:"p-4 text-sm text-white font-bold",children:Z.email}),y.jsx("td",{className:"p-4 text-xs font-technical text-primary",children:Z.role}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:`px-2 py-0.5 text-[8px] font-bold ${Z.status==="ACTIVE"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:Z.status})}),y.jsx("td",{className:"p-4 text-xs text-zinc-600",children:Z.joined}),y.jsxs("td",{className:"p-4 flex gap-2",children:[y.jsx("button",{onClick:()=>N(Z.id),className:"text-[10px] bg-primary/10 text-primary border border-primary/30 px-2 py-1 hover:bg-primary hover:text-black transition-all font-technical",children:"GRANT_ACCESS"}),y.jsx("button",{onClick:()=>k(Z.id),className:"text-[10px] bg-zinc-900 text-zinc-600 border border-zinc-800 px-2 py-1 hover:text-white transition-all font-technical",children:"RESET_PROTOCOLS"}),y.jsx("button",{onClick:()=>P(Z.id),className:"text-[10px] bg-fire/10 text-fire border border-fire/30 px-2 py-1 hover:bg-fire hover:text-white transition-all font-technical",children:"TERMINATE"})]})]},Z.id))})]})})]}),me==="SUBS"&&y.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[y.jsx("h3",{className:"text-xl font-technical text-neon-yellow mb-6 uppercase tracking-tighter underline",children:"ACTIVE_SUBSCRIPTIONS"}),y.jsx("div",{className:"grid grid-cols-1 gap-2",children:s&&s.map(Z=>y.jsxs("div",{className:"bg-black p-4 border border-zinc-900 flex justify-between items-center hover:border-neon-yellow/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("div",{className:"w-10 h-10 bg-zinc-900 flex items-center justify-center border border-zinc-800",children:y.jsx("span",{className:"material-symbols-outlined text-zinc-600",children:"badge"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-technical text-neon-yellow mb-1",children:Z.plan}),y.jsx("p",{className:"text-white text-sm",children:Z.user})]})]}),y.jsxs("div",{className:"flex items-center gap-8 text-right",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"STATUS"}),y.jsx("p",{className:`text-xs font-bold ${Z.status==="ACTIVE"?"text-green-500":"text-zinc-500"}`,children:Z.status})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"RENEWAL"}),y.jsx("p",{className:"text-xs text-white",children:Z.nextBilling})]}),y.jsx("button",{onClick:()=>alert(`OPERATOR_QUERY: ${Z.user}
TARGET_PLAN: ${Z.plan}
CURRENT_STATUS: ${Z.status}

Manual status overrides must be performed via Stripe Dashboard.`),className:"text-zinc-600 hover:text-white text-[10px] border border-zinc-800 px-3 py-1 hover:border-white transition-colors",children:"MANAGE"})]})]},Z.id))})]}),me==="ENLISTMENTS"&&y.jsxs("div",{className:"space-y-6 h-full overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{className:"text-xl font-technical text-primary uppercase underline italic",children:"PRE_ENLISTMENT_DATABASE"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[l?.length||0,"_ENTRIES_FOUND"]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:y.jsxs("div",{className:"grid gap-4",children:[l&&l.map((Z,Te)=>y.jsxs("div",{className:"bg-zinc-950 border border-zinc-900 p-6 flex justify-between items-center group hover:border-primary/30 transition-all",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("span",{className:"text-zinc-800 font-technical text-sm",children:String(Te+1).padStart(3,"0")}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bombed text-white tracking-widest uppercase",children:Z.email}),y.jsxs("p",{className:"text-[8px] font-technical text-zinc-600 uppercase mt-1",children:["HANDSHAKE: ",Z.timestamp?.toDate().toLocaleString()," // STATUS: ",Z.status]})]})]}),y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsxs("button",{onClick:()=>{const Pe=prompt("ENTER_PROMO_CODE:");Pe&&alert(`SIGNAL_SENT: Promo ${Pe} transmitted to ${Z.email}`)},className:"text-[10px] font-technical text-zinc-500 hover:text-primary transition-colors flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"send"}),"SEND_SIGNAL"]}),y.jsx("button",{onClick:()=>B(Z.id),className:"text-zinc-800 hover:text-fire material-symbols-outlined transition-colors",children:"delete_forever"})]})]},Z.id)),(!l||l.length===0)&&y.jsxs("div",{className:"p-20 border border-dashed border-zinc-900 text-center space-y-4",children:[y.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-5xl",children:"person_search"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-700 uppercase",children:"NO_RECRUITS_IN_QUEUE"})]})]})})]}),me==="APPLICATIONS"&&y.jsxs("div",{className:"space-y-6 h-full overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{className:"text-xl font-technical text-neon-magenta uppercase underline italic",children:"CLEARANCE_REQUEST_QUEUE"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[u?.length||0,"_PENDING_REVIEWS"]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:y.jsxs("div",{className:"grid gap-6",children:[u&&u.map((Z,Te)=>y.jsxs("div",{className:"bg-zinc-950 border border-zinc-900 overflow-hidden group hover:border-neon-magenta/30 transition-all",children:[y.jsxs("div",{className:"bg-zinc-900/50 p-4 border-b border-zinc-800 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"text-zinc-700 font-technical text-xs",children:String(Te+1).padStart(3,"0")}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-xs font-bombed text-white tracking-widest uppercase",children:[Z.callsign," // ",Z.email]}),y.jsxs("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:["RECEIVED: ",Z.timestamp?.toDate().toLocaleString()]})]})]}),y.jsx("span",{className:"px-2 py-0.5 bg-neon-magenta/10 border border-neon-magenta/30 text-[8px] font-technical text-neon-magenta uppercase tracking-tighter",children:Z.specialty})]}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase mb-1",children:"XP_SUMMARY:"}),y.jsxs("p",{className:"text-xs font-technical text-zinc-300 italic",children:['"',Z.experience,'"']})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase mb-1",children:"MISSION_MOTIVATION:"}),y.jsxs("p",{className:"text-xs font-technical text-zinc-400 leading-relaxed bg-black/40 p-3 border-l border-zinc-800 italic",children:['"',Z.motivation,'"']})]})]}),y.jsxs("div",{className:"bg-black/60 p-4 border-t border-zinc-900 flex justify-between items-center",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("button",{onClick:()=>alert(`Reviewing status for operator ${Z.callsign}...`),className:"px-3 py-1 bg-zinc-900 border border-zinc-800 text-[8px] font-technical text-zinc-400 hover:text-white transition-colors uppercase",children:"MARK_AS_REVIEWED"})}),y.jsx("button",{onClick:()=>q(Z.id),className:"text-zinc-800 hover:text-fire material-symbols-outlined transition-colors",children:"delete_sweep"})]})]},Z.id)),(!u||u.length===0)&&y.jsxs("div",{className:"p-20 border border-dashed border-zinc-900 text-center space-y-4",children:[y.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-5xl",children:"folder_shared"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-700 uppercase",children:"QUEUE_EMPTY // NO_ACTIVE_APPLICATIONS"})]})]})})]}),me==="LOGS"&&y.jsxs("div",{className:"h-full flex flex-col gap-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bombed text-white uppercase tracking-tighter italic",children:"FULFILLMENT_AUDIT_TRAIL"}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-500 uppercase tracking-widest",children:"LIVE_SERVER_DATA // SECURE_FETCH_ACTIVE"})]}),y.jsxs("button",{onClick:bi,className:"bg-zinc-900 border border-zinc-800 px-4 py-2 text-[10px] font-technical text-zinc-400 hover:text-white hover:border-white transition-all flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"terminal"}),"RE-SYNC_TERMINAL"]})]}),y.jsxs("div",{className:"flex-1 bg-black border-2 border-zinc-900 p-0 font-mono text-[10px] overflow-hidden flex flex-col shadow-2xl",children:[y.jsxs("div",{className:"bg-zinc-900/50 px-4 py-2 border-b border-zinc-800 flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/20"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500/20"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/20"})]}),y.jsx("span",{className:"text-[8px] text-zinc-500 uppercase tracking-widest",children:"AUDIT_PROTOCOL_v4.2.0"})]}),y.jsx("div",{className:"flex-1 p-6 overflow-y-auto custom-scrollbar space-y-2",children:Ce==="NO_LOGS_ON_DISK_CURRENTLY"?y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-700 animate-pulse",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl mb-4",children:"folder_open"}),y.jsx("p",{className:"font-technical tracking-widest",children:"ARCHIVE_TEMPORARILY_EMPTY"})]}):Ce.split(`
`).filter(Z=>Z.trim()).map((Z,Te)=>{const Pe=Z.includes("SUCCESS")||Z.includes("GRANTED"),et=Z.includes("ERROR")||Z.includes("FAILED"),tn=Z.includes("RECEIVED")||Z.includes("FETCHED");let Zn="text-zinc-500";return Pe&&(Zn="text-green-500"),et&&(Zn="text-red-500"),tn&&(Zn="text-primary"),y.jsxs("div",{className:"flex gap-4 group hover:bg-zinc-900/50 p-1 -ml-1 transition-colors",children:[y.jsx("span",{className:"text-zinc-800 select-none",children:String(Te+1).padStart(3,"0")}),y.jsx("span",{className:`${Zn} leading-relaxed`,children:Z})]},Te)})}),y.jsxs("div",{className:"bg-zinc-950 px-4 py-2 border-t border-zinc-900 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_5px_#22c55e]"}),y.jsx("span",{className:"text-[8px] text-zinc-500 uppercase",children:"System_Online"})]}),y.jsx("span",{className:"text-zinc-800",children:"|"}),y.jsxs("span",{className:"text-[8px] text-zinc-600 uppercase",children:["Last_Update: ",new Date().toLocaleTimeString()]})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{className:"text-[8px] text-zinc-700 uppercase",children:"Root@GRIT_SERVER_NODE"})})]})]})]})]})]})})}class V9 extends rS.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error",e,n),this.setState({errorInfo:n})}render(){return this.state.hasError?y.jsxs("div",{className:"min-h-screen bg-black text-red-500 p-10 font-mono flex flex-col items-center justify-center",children:[y.jsx("h1",{className:"text-4xl mb-6 font-bold border-b border-red-500 pb-2",children:"CRITICAL SYSTEM FAILURE"}),y.jsxs("div",{className:"w-full max-w-4xl bg-zinc-900/50 p-6 rounded border border-red-900/50 overflow-auto",children:[y.jsxs("p",{className:"text-xl mb-4 text-white",children:["Error: ",this.state.error&&this.state.error.toString()]}),y.jsxs("details",{className:"text-sm text-zinc-400",children:[y.jsx("summary",{className:"cursor-pointer hover:text-white mb-2",children:"Stack Trace"}),y.jsx("pre",{className:"whitespace-pre-wrap",children:this.state.error&&this.state.error.stack}),y.jsx("pre",{className:"whitespace-pre-wrap mt-4",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}),y.jsx("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-3 bg-red-600 text-white font-bold hover:bg-red-500 transition-colors",children:"REBOOT SYSTEM"})]}):this.props.children}}function L9(){const[t,e]=O.useState([]),[n,s]=O.useState([]),[a,l]=O.useState([]),[u,f]=O.useState([]),[m,p]=O.useState([]),[_,E]=O.useState([]),[b,S]=O.useState(!0),N=Nl();O.useEffect(()=>{k();const $=Wn.onAuthStateChanged(ce=>{});return()=>$()},[]);const k=async()=>{S(!0),await Promise.all([P(),B(),q(),H(),oe(),ee()]),S(!1)},P=async()=>{try{const $=ms(un(rt,"chapters"),Br("id","asc")),me=(await ps($)).docs.map(ge=>({...ge.data(),firestoreId:ge.id}));e(me)}catch($){console.error("Fetch chapters failed:",$)}},B=async()=>{try{const $=ms(un(rt,"users"),Br("createdAt","desc")),me=(await ps($)).docs.map(ge=>{const j=ge.data();return{...j,id:ge.id,firestoreId:ge.id,joined:j.createdAt?.toDate().toLocaleDateString()||"N/A"}});s(me)}catch($){console.error("Fetch users failed:",$)}},q=async()=>{try{const $=ms(un(rt,"subscriptions")),me=(await ps($)).docs.map(ge=>{const j=ge.data();return{...j,id:ge.id,firestoreId:ge.id,nextBilling:j.current_period_end?new Date(j.current_period_end*1e3).toLocaleDateString():"N/A"}});l(me)}catch($){console.error("Fetch subs failed:",$)}},H=async()=>{try{const $=ms(un(rt,"drills"),Br("timestamp","desc")),me=(await ps($)).docs.map(ge=>({...ge.data(),id:ge.id}));f(me)}catch($){console.error("Fetch drills failed:",$)}},oe=async()=>{try{const $=ms(un(rt,"enlistments"),Br("timestamp","desc")),me=(await ps($)).docs.map(ge=>({...ge.data(),id:ge.id}));p(me)}catch($){console.error("Fetch enlistments failed:",$)}},ee=async()=>{try{const $=ms(un(rt,"applications"),Br("timestamp","desc")),me=(await ps($)).docs.map(ge=>({...ge.data(),id:ge.id}));E(me)}catch($){console.error("Fetch applications failed:",$)}},le=async $=>{try{await Ha(un(rt,"chapters"),$),P()}catch(ce){console.error("Add failed:",ce)}},C=async $=>{try{const ce=prompt("ENTER_ASSET_ID_TO_GRANT (e.g. CH_01):");if(!ce)return;await Uf(Kn(rt,"users",$),{purchased:ZI(ce)}),alert("ACCESS_GRANTED_SUCCESSFULLY"),B()}catch(ce){console.error("Grant failed:",ce)}},R=async $=>{try{if(!confirm("WIPE_USER_CLEARANCE? THIS WILL REMOVE ALL PURCHASES AND SUBS STATUS."))return;await Uf(Kn(rt,"users",$),{purchased:[],isSubscriber:!1}),alert("PROTOCOL_RESET_COMPLETE"),B()}catch(ce){console.error("Reset failed:",ce)}},I=async $=>{try{if(!confirm("DELETE_OPERATOR_PERMANENTLY?"))return;await Gc(Kn(rt,"users",$)),alert("OPERATOR_TERMINATED"),B()}catch(ce){console.error("Deletion failed:",ce)}},L=async $=>{await Gc(Kn(rt,"chapters",$)),P()},V=async($,ce)=>{try{await Uf(Kn(rt,"chapters",$),ce),P()}catch(me){console.error("Update failed:",me)}},z=async $=>{try{await Ha(un(rt,"drills"),$),H()}catch(ce){console.error("Add drill failed:",ce)}},D=async $=>{await Gc(Kn(rt,"drills",$)),H()},Me=async $=>{await Gc(Kn(rt,"enlistments",$)),oe()},Je=async $=>{await Gc(Kn(rt,"applications",$)),ee()},J=async()=>{try{if(!confirm("WARNING: THIS WILL DUPLICATE DATA IF NOT EMPTY. PROCEED?"))return;const $=[{id:"CH_01",name:"MANIFESTO",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"The founding principles of the grit mindset. Discomfort is not an obstacle; it is the path.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuAsY68-HDaa2jNGV0f03uraeN1eAqz_z6KJdGELGwpfgV_IyaDsmNm2pUIj2CJopuOyrHLGHBhzaFEW4bSg7IwJ-h7tCXv37K4bHeQQNu4xjbR-Z7sIK3rK5CxFi1R4dufN5xFBtACCgXrI4cTbdlMCQMU9S-bVS557EShmVJerHO1WPZR8ZJdEu9rTI-YyCwg2-jTyA3K3D-k0fp3EWETdZu_8J9UFV0AU1nD4uKrflSJ-QCIsg1NLfo7rxfr-nITIal9-FpkOniZB",content:"MANIFESTO_PROTOCOL: THE ONLY EASY DAY WAS YESTERDAY."},{id:"CH_02",name:"The Void",price:"$3",borderClass:"border-fire",colorClass:"text-fire",glow:"glow-orange",description:"Embracing the emptiness where growth happens. When you have nothing, you have everything to gain.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuAuh9yajP2K2UokzC7ClDOOXipnj6G6thi0OzOv94tkXWtGDVl0dEnviC-6576FdKLS31wC_yPy4-nVxK2fqIAhvbecAFRogwdBnmndq16MPdnNr5_abVr8mAfJNY9JZHqNwSr244rPrC4nMj65BOa6xQIBuDDtGkH2yCqKygfBgMDTJsIjfNAVQHU7Gh9tNg-rDao62BLMbp1JKCQsqxqcwcfGZ23gyH72_j5q9Wdnbknj01wxnD0YLK8oDr32VUBlUqCNDB_1xgY0",content:"VOID_PROTOCOL: START_WITH_NOTHING."},{id:"CH_03",name:"Pain Tolerance",price:"$3",borderClass:"border-neon-magenta",colorClass:"text-neon-magenta",glow:"glow-magenta",description:"Pain is the only yardstick of progress. Understanding the difference between discomfort and damage.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuC56kH_70TDlN9SyKgcd-f4074AztZff3B4A2Y04L_KrjaZF8QLytUNtIUD8Kg6a3WO04zeBGmLNAnw2T5tHnlrl2eTF3TzAmiimbqOAWPqYgFWtqkYuilGoC9YSeiixfAMX-L03LY1CIdwk7g_5GLKIyTi6dnsTqO1Uq9KqDKtfu8BqEAOcE66Eg4-tOz1rcDqsF197HDbUfR3v8h3TT-btXDZh8a98tx7-OzEzEReZGr40rMhqOWrQFUQE9u44NT25wi4j_CzHEYw",content:"PAIN_PROTOCOL: EMBRACE_THE_BURN."},{id:"CH_04",name:"Legacy War",price:"$3",borderClass:"border-zinc-500",colorClass:"text-zinc-500",glow:"border-white/50",description:"What will they say when you are gone? Building something that outlasts your biological existence.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuAmffZph4QDexI5jYr49CCmsRxz_ynZIQPdmfDkbLEgj4y7Yi5iVymxj3UTjJp9-N6J_qM7lfY0MaExbUGpf2Y_VveR4yXRoXdmk_S6TI1Bt7y3IFPyPhulf42xH4aFv45FuijLtWH3F7vF8hnHHWYIr5jSAC-IBQVyqhpazomWHorUpw14GC2KAibvKiLoZQxghokSfOqcqvR6K4x24N-YDYp-1U-ERYvjhtf9R_7G6hwrvO_pzoefIDFMy-acsOR2puoWlGsQsxup",content:"LEGACY_PROTOCOL: BUILD_TO_LAST."}];for(const ge of $)await Ha(un(rt,"chapters"),ge);const ce=[{id:"USR_01",email:"operator@bookofgrit.com",status:"ACTIVE",role:"COMMANDER",joined:"2023-10-15"},{id:"USR_02",email:"recruit@bookofgrit.com",status:"PENDING",role:"RECRUIT",joined:"2023-11-02"}];for(const ge of ce)await Ha(un(rt,"users"),ge);const me=[{id:"SUB_001",user:"operator@bookofgrit.com",plan:"THE MOVEMENT",status:"ACTIVE",nextBilling:"2023-12-15"},{id:"SUB_002",user:"recruit@bookofgrit.com",plan:"THE MOVEMENT",status:"PAUSED",nextBilling:"2023-12-02"}];for(const ge of me)await Ha(un(rt,"subscriptions"),ge);k()}catch($){console.error("Seed failed:",$)}};return y.jsx("div",{className:"min-h-screen bg-black",children:y.jsx(V9,{children:y.jsx(P9,{chapters:t,users:n,subs:a,drills:u,onAdd:le,onUpdate:V,onDelete:L,onGrantAccess:C,onAddDrill:z,onDeleteDrill:D,onResetProtocols:R,onDeleteUser:I,enlistments:m,applications:_,onDeleteEnlistment:Me,onDeleteApplication:Je,onSeed:J,onClose:()=>N("/")})})})}function k9(){const[t,e]=O.useState(null),[n,s]=O.useState(null),[a,l]=O.useState(!0),[u,f]=O.useState([]),m=Nl();O.useEffect(()=>{const E=yv(Wn,async b=>{if(!b){m("/");return}e(b);const S=Kn(rt,"users",b.uid),N=await s1(S);if(N.exists()){const k=N.data();!k.isSubscriber&&!k.purchased?.includes("SUB_MONTHLY")?s(k):(s(k),p())}l(!1)});return()=>E()},[m]);const p=async()=>{try{const E=ms(un(rt,"drills"),Br("timestamp","desc")),S=(await ps(E)).docs.map(N=>({id:N.id,...N.data()}));f(S)}catch(E){console.error("Fetch drills failed:",E)}};return a?y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center font-technical text-primary uppercase tracking-[0.4em]",children:y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx("div",{className:"w-16 h-1 w-full bg-zinc-900 overflow-hidden relative",children:y.jsx(Rt.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"absolute inset-0 bg-primary"})}),"AUTHENTICATING_OPERATOR..."]})}):n?.isSubscriber||n?.purchased?.includes("SUB_MONTHLY")?y.jsxs("div",{className:"min-h-screen bg-black concrete-texture text-white selection:bg-neon-magenta selection:text-black overflow-x-hidden relative",children:[y.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 opacity-[0.03]",children:[y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#888_1px,transparent_1px),linear-gradient(to_bottom,#888_1px,transparent_1px)] bg-[size:40px_40px]"}),y.jsx(Rt.div,{animate:{y:["0%","100%"]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-b from-transparent via-neon-magenta/30 to-transparent h-[20%] w-full"})]}),y.jsxs("header",{className:"p-8 border-b-2 border-neon-magenta/10 flex justify-between items-center bg-black/80 backdrop-blur-xl sticky top-0 z-50",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx(Ui,{to:"/",className:"w-12 h-12 flex items-center justify-center border border-neon-magenta/20 hover:border-neon-magenta hover:bg-neon-magenta/10 transition-all group",children:y.jsx("span",{className:"material-symbols-outlined text-neon-magenta group-hover:scale-110 transition-transform",children:"arrow_back"})}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-neon-magenta animate-pulse shadow-[0_0_10px_#ff00ff]"}),y.jsx("h1",{className:"text-xl md:text-3xl font-bombed uppercase tracking-widest text-white italic",children:"WAR_ROOM_ACCESS"})]}),y.jsxs("p",{className:"text-[8px] font-technical text-neon-magenta/40 uppercase tracking-[0.4em] mt-1 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"sensors"}),"SIGNAL_STRENGTH: 98% // ENCRYPTION: OMEGA_IV"]})]})]}),y.jsxs("div",{className:"hidden md:flex flex-col items-end border-r-2 border-neon-magenta/30 pr-6",children:[y.jsx("span",{className:"text-[8px] font-technical text-zinc-600 uppercase tracking-widest",children:"CURRENT_LOGGED_OPERATOR"}),y.jsxs("span",{className:"text-sm font-bombed text-white tracking-widest flex items-center gap-2 italic",children:[n?.callsign||"OPERATOR_X",y.jsx("span",{className:"material-symbols-outlined text-neon-magenta text-xs",children:"verified"})]})]})]}),y.jsx("main",{className:"max-w-6xl mx-auto p-8 py-16",children:y.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[y.jsx("div",{className:"flex items-center gap-4 mb-4 border-l-4 border-neon-magenta pl-6",children:y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-bombed uppercase italic",children:"TACTICAL_DRILLS"}),y.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest",children:"WEEKLY_OPERATIONAL_PROCEDURES"})]})}),y.jsx("div",{className:"space-y-8",children:u.length===0?y.jsxs("div",{className:"p-20 border border-zinc-900 text-center space-y-6 bg-zinc-950/20 backdrop-blur-sm relative overflow-hidden group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neon-magenta/5 to-transparent"}),y.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-6xl group-hover:text-neon-magenta/20 transition-colors",children:"radar"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-technical text-[10px] text-zinc-600 uppercase tracking-[0.5em] mb-2",children:"SCANNING_FOR_ACTIVE_SIGNALS..."}),y.jsx("div",{className:"w-32 h-[1px] bg-zinc-900 mx-auto relative overflow-hidden",children:y.jsx(Rt.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-neon-magenta/50"})})]})]}):u.map((E,b)=>y.jsxs(Rt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:b*.1,duration:.6},className:"group relative border border-zinc-900 hover:border-neon-magenta/40 bg-zinc-950/40 backdrop-blur-sm transition-all overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 inset-x-0 h-[1px] bg-gradient-to-r from-transparent via-neon-magenta/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-500"}),y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsx("span",{className:"w-10 h-10 flex items-center justify-center bg-zinc-900 border border-zinc-800 text-neon-magenta material-symbols-outlined",children:E.type==="PROTOCOL"?"terminal":E.type==="MANIFESTO"?"contract":"description"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bombed uppercase group-hover:text-neon-magenta transition-colors italic",children:E.title}),y.jsxs("p",{className:"text-[8px] font-technical text-zinc-600 uppercase tracking-widest underline decoration-zinc-800 underline-offset-4",children:["REF_ID: DRILL_",E.id.substring(0,6).toUpperCase()," // TYPE: ",E.type||"RAW_INTEL"]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-[10px] font-bombed text-white underline decoration-neon-magenta/50",children:"DECODED"}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:E.timestamp?.toDate().toLocaleDateString()})]})]}),y.jsx("div",{className:"prose prose-invert prose-xs font-technical text-zinc-400 leading-relaxed mb-8 pl-6 border-l-2 border-zinc-900 group-hover:border-neon-magenta/30 transition-colors whitespace-pre-wrap",children:E.content}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx("span",{className:"px-3 py-1 bg-neon-magenta/10 border border-neon-magenta/20 text-[8px] font-technical text-neon-magenta uppercase",children:"CLEARANCE: OPERATOR"}),y.jsx("span",{className:"px-3 py-1 bg-zinc-900 border border-zinc-800 text-[8px] font-technical text-zinc-500 uppercase",children:"STATUS: VERIFIED"})]}),y.jsxs("button",{className:"text-[10px] font-bombed uppercase text-zinc-700 hover:text-white transition-colors flex items-center gap-2",children:["MARK_AS_COMPLETE ",y.jsx("span",{className:"material-symbols-outlined text-xs",children:"radio_button_unchecked"})]})]})]})]},E.id))})]}),y.jsxs("div",{className:"space-y-12",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx("h4",{className:"text-neon-magenta font-stencil text-lg uppercase underline underline-offset-8 decoration-neon-magenta/30",children:"MEMBER_ASSETS"}),y.jsx("div",{className:"grid gap-4",children:[{icon:"description",label:"THE CORE MANIFESTO",sub:"Foundational Doc V3.2"},{icon:"shield",label:"OPERATOR PROTOCOLS",sub:"Conduct & Discipline"},{icon:"database",label:"THE RAW ARCHIVE",sub:"Unreleased Dumps"}].map((E,b)=>y.jsxs("div",{className:"p-4 border border-zinc-900 bg-zinc-950/30 hover:bg-zinc-900/50 transition-all cursor-pointer group flex items-center gap-4",children:[y.jsx("span",{className:"material-symbols-outlined text-zinc-500 group-hover:text-neon-magenta",children:E.icon}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bombed text-white uppercase",children:E.label}),y.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase tracking-tighter",children:E.sub})]})]},b))})]}),y.jsxs("div",{className:"p-8 bg-neon-magenta/5 border border-neon-magenta/10 space-y-6 relative overflow-hidden",children:[y.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-neon-magenta/10 rounded-full blur-3xl animate-pulse"}),y.jsx("h4",{className:"font-stencil text-neon-magenta text-sm uppercase",children:"OPERATOR_STATUS"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-end border-b border-zinc-900 pb-2",children:[y.jsx("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"TIER"}),y.jsx("span",{className:"text-xs font-bombed text-neon-magenta uppercase tracking-widest italic",children:"MOVEMENT_ELITE"})]}),y.jsxs("div",{className:"flex justify-between items-end border-b border-zinc-900 pb-2",children:[y.jsx("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"NETWORK_ID"}),y.jsxs("span",{className:"text-[10px] font-technical text-zinc-300 uppercase",children:["G_NODE_",t?.uid.substring(0,8).toUpperCase()]})]}),y.jsxs("div",{className:"flex justify-between items-end border-b border-zinc-900 pb-2",children:[y.jsx("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"SESSION_KEY"}),y.jsx("span",{className:"text-[10px] font-technical text-zinc-300 uppercase",children:"ENC_VERIFIED"})]})]})]}),y.jsx("div",{className:"text-[8px] font-technical text-zinc-700 leading-relaxed uppercase",children:"Warning: Unauthorized distribution of Deep Web assets will result in permanent termination of operational status and network blacklisting."})]})]})}),y.jsxs("div",{className:"fixed bottom-0 inset-x-0 h-10 bg-black/90 backdrop-blur-xl border-t-2 border-neon-magenta/20 flex items-center z-[100] overflow-hidden",children:[y.jsxs("div",{className:"bg-neon-magenta px-4 h-full flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-black text-sm animate-spin-slow",children:"settings"}),y.jsx("span",{className:"text-[10px] font-technical font-bold text-black uppercase tracking-widest whitespace-nowrap",children:"GLOBAL_LIVE_FEED:"})]}),y.jsx("div",{className:"flex-1 px-8 overflow-hidden",children:y.jsx(Rt.div,{initial:{x:"0%"},animate:{x:"-50%"},transition:{duration:40,repeat:1/0,ease:"linear"},className:"flex gap-16 whitespace-nowrap",children:[...Array(2)].map((E,b)=>y.jsxs("div",{className:"flex gap-16 uppercase text-[9px] font-technical text-neon-magenta tracking-[0.2em] font-bold",children:[y.jsx("span",{children:"LATENCY: 12ms // SERVER: OMEGA_SOUTH // STATUS: DEEP_FETCH_ACTIVE"}),y.jsx("span",{children:"OPERATORS_ACTIVE: 1,402 // DRILLS_SYNCED: 100% // NOCOMING_SAVE_YOU"}),y.jsx("span",{children:"SIGNAL_LOCK: SECURE // VOID_PROTOCOL: INITIALIZED // GRIT_ORACLE_LIVE"}),y.jsx("span",{children:"LATENCY: 12ms // SERVER: OMEGA_SOUTH // STATUS: DEEP_FETCH_ACTIVE"})]},b))})}),y.jsxs("div",{className:"hidden md:flex bg-zinc-900 px-6 h-full items-center gap-4 text-[9px] font-technical text-zinc-500 tracking-[0.2em]",children:[y.jsx("p",{children:"FREQ: 44.9KHZ"}),y.jsx("p",{className:"text-neon-magenta",children:"STATUS: CLEAR"})]})]}),y.jsx("div",{className:"h-10"})]}):y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:y.jsxs("div",{className:"max-w-md w-full border-2 border-fire/50 bg-black/80 backdrop-blur-xl p-10 text-center space-y-8 shadow-[0_0_50px_rgba(255,100,0,0.1)]",children:[y.jsx("span",{className:"material-symbols-outlined text-fire text-7xl",children:"lock_open"}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-bombed text-white mb-4 uppercase italic",children:"ACCESS_DENIED"}),y.jsx("p",{className:"font-technical text-[10px] text-zinc-500 uppercase tracking-widest leading-relaxed",children:`Terminal 4.1.0: "THE DEEP WEB" requires an active 'MOVEMENT' enlistment. Your clearance does not meet the minimum operational threshold.`})]}),y.jsx(Ui,{to:"/",children:y.jsx("button",{className:"w-full bg-fire text-black font-stencil text-lg py-4 hover:bg-white transition-all cursor-pointer",children:"ENLIST_NOW"})})]})})}function j9(){return y.jsx("div",{className:"concrete-texture min-h-screen bg-black text-zinc-400 font-technical p-8 md:p-24 selection:bg-primary selection:text-black",children:y.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto border border-zinc-900 bg-zinc-950/50 p-8 md:p-16 relative",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),y.jsx(Ui,{to:"/",className:"text-primary hover:text-white mb-12 inline-block uppercase tracking-[0.2em] text-[10px]",children:" RETURN_TO_BASE"}),y.jsx("h1",{className:"text-4xl md:text-6xl font-bombed text-white mb-12 leading-none uppercase italic",children:"PRIVACY_PROTOCOL"}),y.jsxs("div",{className:"space-y-12 text-sm leading-relaxed",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"01. DATA_COLLECTION"}),y.jsx("p",{children:"The Book of Grit collects minimal operator data required for session persistence and asset delivery. This includes email addresses provided via Google Auth and custom Callsigns initialized during operator setup."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"02. TRANSACTION_SECURITY"}),y.jsx("p",{children:"All financial transactions are handled by Stripe. We do not store credit card details or sensitive billing information on our servers. Verification is performed via secure server-to-server handshakes."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"03. TRACKING_LOGS"}),y.jsx("p",{children:"Access to the archive is logged. IP addresses and session timestamps are recorded to prevent unauthorized distribution of classified assets."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"04. DATA_RETENTION"}),y.jsx("p",{children:"Operators may terminate their session and request data deletion via the support channel. Upon termination, all linked assets will be purged from the active session."})]})]}),y.jsxs("div",{className:"mt-24 pt-8 border-t border-zinc-900 flex justify-between items-center text-[10px] text-zinc-600",children:[y.jsx("span",{children:"DOC_ID: PRIV_GRIT_v1.0"}),y.jsx("span",{children:"LAST_MOD: 2024.02.12"})]})]})})}function U9(){return y.jsx("div",{className:"concrete-texture min-h-screen bg-black text-zinc-400 font-technical p-8 md:p-24 selection:bg-fire selection:text-black",children:y.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto border border-zinc-900 bg-zinc-950/50 p-8 md:p-16 relative",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-fire"}),y.jsx(Ui,{to:"/",className:"text-fire hover:text-white mb-12 inline-block uppercase tracking-[0.2em] text-[10px]",children:" RETURN_TO_BASE"}),y.jsx("h1",{className:"text-4xl md:text-6xl font-bombed text-white mb-12 leading-none uppercase italic",children:"TERMS_OF_GRIT"}),y.jsxs("div",{className:"space-y-12 text-sm leading-relaxed",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"01. NO_REFUNDS"}),y.jsx("p",{children:"All assets acquired through the Book of Grit are digital and non-refundable. Discomfort is part of the process. Requesting a refund due to lack of discipline is a violation of the grit code."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"02. ASSET_USAGE"}),y.jsx("p",{children:"Manuals are for individual use only. Redistribution, resale, or public broadcasting of classified manifests is strictly prohibited and will result in permanent session termination."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"03. MEMBERSHIP_ENLISTMENT"}),y.jsx("p",{children:"The Movement subscription provides recurring access to the archive and drills. Operators may cancel their enlistment at any time, but access to elite channels will be revoked at the end of the billing cycle."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"04. OPERATOR_CONDUCT"}),y.jsx("p",{children:"Disrespecting the collective or sharing information from the private signal channels will result in immediate discharge without warning."})]})]}),y.jsxs("div",{className:"mt-24 pt-8 border-t border-zinc-900 flex justify-between items-center text-[10px] text-zinc-600",children:[y.jsx("span",{children:"DOC_ID: TERMS_GRIT_v1.0"}),y.jsx("span",{children:"LAST_MOD: 2024.02.12"})]})]})})}function z9(){return y.jsx(vO,{children:y.jsxs(QD,{children:[y.jsx(Ks,{path:"/",element:y.jsx(N9,{})}),y.jsx(Ks,{path:"/success",element:y.jsx(D9,{})}),y.jsx(Ks,{path:"/cancel",element:y.jsx(O9,{})}),y.jsx(Ks,{path:"/admin",element:y.jsx(L9,{})}),y.jsx(Ks,{path:"/dashboard",element:y.jsx(k9,{})}),y.jsx(Ks,{path:"/privacy",element:y.jsx(j9,{})}),y.jsx(Ks,{path:"/terms",element:y.jsx(U9,{})}),y.jsx(Ks,{path:"*",element:y.jsx(KD,{to:"/",replace:!0})})]})})}class B9 extends rS.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Global Error:",e,n)}render(){return this.state.hasError?y.jsxs("div",{style:{padding:20,background:"#111",color:"#f00",minHeight:"100vh",fontFamily:"monospace"},children:[y.jsx("h1",{children:"GLOBAL APP CRASH"}),y.jsx("p",{children:this.state.error&&this.state.error.toString()}),y.jsx("pre",{children:this.state.error&&this.state.error.stack})]}):this.props.children}}XN.createRoot(document.getElementById("root")).render(y.jsx(O.StrictMode,{children:y.jsx(B9,{children:y.jsx(z9,{})})}));
