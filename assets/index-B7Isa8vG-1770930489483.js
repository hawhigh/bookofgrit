(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function BN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wp={exports:{}},jc={};var zT;function FN(){if(zT)return jc;zT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return jc.Fragment=e,jc.jsx=n,jc.jsxs=n,jc}var BT;function HN(){return BT||(BT=1,Wp.exports=FN()),Wp.exports}var v=HN(),Jp={exports:{}},De={};var FT;function qN(){if(FT)return De;FT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,k={};function F(j,te,he){this.props=j,this.context=te,this.refs=k,this.updater=he||D}F.prototype.isReactComponent={},F.prototype.setState=function(j,te){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,te,"setState")},F.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=F.prototype;function z(j,te,he){this.props=j,this.context=te,this.refs=k,this.updater=he||D}var ie=z.prototype=new q;ie.constructor=z,L(ie,F.prototype),ie.isPureReactComponent=!0;var le=Array.isArray;function ce(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(j,te,he){var de=he.ref;return{$$typeof:t,type:j,key:te,ref:de!==void 0?de:null,props:he}}function P(j,te){return C(j.type,te,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function B(j){var te={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(he){return te[he]})}var I=/\/+/g;function Ee(j,te){return typeof j=="object"&&j!==null&&j.key!=null?B(""+j.key):te.toString(36)}function Pe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ce,ce):(j.status="pending",j.then(function(te){j.status==="pending"&&(j.status="fulfilled",j.value=te)},function(te){j.status==="pending"&&(j.status="rejected",j.reason=te)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $(j,te,he,de,Se){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var oe=!1;if(j===null)oe=!0;else switch(Ce){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(j.$$typeof){case t:case e:oe=!0;break;case y:return oe=j._init,$(oe(j._payload),te,he,de,Se)}}if(oe)return Se=Se(j),oe=de===""?"."+Ee(j,0):de,le(Se)?(he="",oe!=null&&(he=oe.replace(I,"$&/")+"/"),$(Se,te,he,"",function(wt){return wt})):Se!=null&&(V(Se)&&(Se=P(Se,he+(Se.key==null||j&&j.key===Se.key?"":(""+Se.key).replace(I,"$&/")+"/")+oe)),te.push(Se)),1;oe=0;var ge=de===""?".":de+":";if(le(j))for(var Ge=0;Ge<j.length;Ge++)de=j[Ge],Ce=ge+Ee(de,Ge),oe+=$(de,te,he,Ce,Se);else if(Ge=w(j),typeof Ge=="function")for(j=Ge.call(j),Ge=0;!(de=j.next()).done;)de=de.value,Ce=ge+Ee(de,Ge++),oe+=$(de,te,he,Ce,Se);else if(Ce==="object"){if(typeof j.then=="function")return $(Pe(j),te,he,de,Se);throw te=String(j),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return oe}function re(j,te,he){if(j==null)return j;var de=[],Se=0;return $(j,de,"","",function(Ce){return te.call(he,Ce,Se++)}),de}function me(j){if(j._status===-1){var te=j._result;te=te(),te.then(function(he){(j._status===0||j._status===-1)&&(j._status=1,j._result=he)},function(he){(j._status===0||j._status===-1)&&(j._status=2,j._result=he)}),j._status===-1&&(j._status=0,j._result=te)}if(j._status===1)return j._result.default;throw j._result}var Ie=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Le={map:re,forEach:function(j,te,he){re(j,function(){te.apply(this,arguments)},he)},count:function(j){var te=0;return re(j,function(){te++}),te},toArray:function(j){return re(j,function(te){return te})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return De.Activity=E,De.Children=Le,De.Component=F,De.Fragment=n,De.Profiler=a,De.PureComponent=z,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,De.__COMPILER_RUNTIME={__proto__:null,c:function(j){return N.H.useMemoCache(j)}},De.cache=function(j){return function(){return j.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(j,te,he){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var de=L({},j.props),Se=j.key;if(te!=null)for(Ce in te.key!==void 0&&(Se=""+te.key),te)!R.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(de[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)de.children=he;else if(1<Ce){for(var oe=Array(Ce),ge=0;ge<Ce;ge++)oe[ge]=arguments[ge+2];de.children=oe}return C(j.type,Se,de)},De.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},De.createElement=function(j,te,he){var de,Se={},Ce=null;if(te!=null)for(de in te.key!==void 0&&(Ce=""+te.key),te)R.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Se[de]=te[de]);var oe=arguments.length-2;if(oe===1)Se.children=he;else if(1<oe){for(var ge=Array(oe),Ge=0;Ge<oe;Ge++)ge[Ge]=arguments[Ge+2];Se.children=ge}if(j&&j.defaultProps)for(de in oe=j.defaultProps,oe)Se[de]===void 0&&(Se[de]=oe[de]);return C(j,Ce,Se)},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:f,render:j}},De.isValidElement=V,De.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:me}},De.memo=function(j,te){return{$$typeof:p,type:j,compare:te===void 0?null:te}},De.startTransition=function(j){var te=N.T,he={};N.T=he;try{var de=j(),Se=N.S;Se!==null&&Se(he,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ce,Ie)}catch(Ce){Ie(Ce)}finally{te!==null&&he.types!==null&&(te.types=he.types),N.T=te}},De.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},De.use=function(j){return N.H.use(j)},De.useActionState=function(j,te,he){return N.H.useActionState(j,te,he)},De.useCallback=function(j,te){return N.H.useCallback(j,te)},De.useContext=function(j){return N.H.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j,te){return N.H.useDeferredValue(j,te)},De.useEffect=function(j,te){return N.H.useEffect(j,te)},De.useEffectEvent=function(j){return N.H.useEffectEvent(j)},De.useId=function(){return N.H.useId()},De.useImperativeHandle=function(j,te,he){return N.H.useImperativeHandle(j,te,he)},De.useInsertionEffect=function(j,te){return N.H.useInsertionEffect(j,te)},De.useLayoutEffect=function(j,te){return N.H.useLayoutEffect(j,te)},De.useMemo=function(j,te){return N.H.useMemo(j,te)},De.useOptimistic=function(j,te){return N.H.useOptimistic(j,te)},De.useReducer=function(j,te,he){return N.H.useReducer(j,te,he)},De.useRef=function(j){return N.H.useRef(j)},De.useState=function(j){return N.H.useState(j)},De.useSyncExternalStore=function(j,te,he){return N.H.useSyncExternalStore(j,te,he)},De.useTransition=function(){return N.H.useTransition()},De.version="19.2.4",De}var HT;function Ly(){return HT||(HT=1,Jp.exports=qN()),Jp.exports}var O=Ly();const rA=BN(O);var Zp={exports:{}},Uc={},eg={exports:{}},tg={};var qT;function GN(){return qT||(qT=1,(function(t){function e($,re){var me=$.length;$.push(re);e:for(;0<me;){var Ie=me-1>>>1,Le=$[Ie];if(0<a(Le,re))$[Ie]=re,$[me]=Le,me=Ie;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var re=$[0],me=$.pop();if(me!==re){$[0]=me;e:for(var Ie=0,Le=$.length,j=Le>>>1;Ie<j;){var te=2*(Ie+1)-1,he=$[te],de=te+1,Se=$[de];if(0>a(he,me))de<Le&&0>a(Se,he)?($[Ie]=Se,$[de]=me,Ie=de):($[Ie]=he,$[te]=me,Ie=te);else if(de<Le&&0>a(Se,me))$[Ie]=Se,$[de]=me,Ie=de;else break e}}return re}function a($,re){var me=$.sortIndex-re.sortIndex;return me!==0?me:$.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,E=null,b=3,w=!1,D=!1,L=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ie($){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=$)s(p),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(p)}}function le($){if(L=!1,ie($),!D)if(n(m)!==null)D=!0,ce||(ce=!0,B());else{var re=n(p);re!==null&&Pe(le,re.startTime-$)}}var ce=!1,N=-1,R=5,C=-1;function P(){return k?!0:!(t.unstable_now()-C<R)}function V(){if(k=!1,ce){var $=t.unstable_now();C=$;var re=!0;try{e:{D=!1,L&&(L=!1,q(N),N=-1),w=!0;var me=b;try{t:{for(ie($),E=n(m);E!==null&&!(E.expirationTime>$&&P());){var Ie=E.callback;if(typeof Ie=="function"){E.callback=null,b=E.priorityLevel;var Le=Ie(E.expirationTime<=$);if($=t.unstable_now(),typeof Le=="function"){E.callback=Le,ie($),re=!0;break t}E===n(m)&&s(m),ie($)}else s(m);E=n(m)}if(E!==null)re=!0;else{var j=n(p);j!==null&&Pe(le,j.startTime-$),re=!1}}break e}finally{E=null,b=me,w=!1}re=void 0}}finally{re?B():ce=!1}}}var B;if(typeof z=="function")B=function(){z(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ee=I.port2;I.port1.onmessage=V,B=function(){Ee.postMessage(null)}}else B=function(){F(V,0)};function Pe($,re){N=F(function(){$(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function($){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var me=b;b=re;try{return $()}finally{b=me}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=b;b=$;try{return re()}finally{b=me}},t.unstable_scheduleCallback=function($,re,me){var Ie=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ie+me:Ie):me=Ie,$){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=me+Le,$={id:y++,callback:re,priorityLevel:$,startTime:me,expirationTime:Le,sortIndex:-1},me>Ie?($.sortIndex=me,e(p,$),n(m)===null&&$===n(p)&&(L?(q(N),N=-1):L=!0,Pe(le,me-Ie))):($.sortIndex=Le,e(m,$),D||w||(D=!0,ce||(ce=!0,B()))),$},t.unstable_shouldYield=P,t.unstable_wrapCallback=function($){var re=b;return function(){var me=b;b=re;try{return $.apply(this,arguments)}finally{b=me}}}})(tg)),tg}var GT;function KN(){return GT||(GT=1,eg.exports=GN()),eg.exports}var ng={exports:{}},fn={};var KT;function YN(){if(KT)return fn;KT=1;var t=Ly();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},fn.flushSync=function(m){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=y,s.d.f()}},fn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},fn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},fn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,E=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:w}):y==="script"&&s.d.X(m,{crossOrigin:E,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},fn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,E=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},fn.requestFormReset=function(m){s.d.r(m)},fn.unstable_batchedUpdates=function(m,p){return m(p)},fn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var YT;function $N(){if(YT)return ng.exports;YT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=YN(),ng.exports}var $T;function QN(){if($T)return Uc;$T=1;var t=KN(),e=Ly(),n=$N();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=g;else{for(var T=!1,S=d.child;S;){if(S===o){T=!0,o=d,c=g;break}if(S===c){T=!0,c=d,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=d;break}if(S===c){T=!0,c=g,o=d;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),z=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function Ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case z:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case ie:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:Ee(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return Ee(i(r))}catch{}}return null}var Pe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ie=[],Le=-1;function j(i){return{current:i}}function te(i){0>Le||(i.current=Ie[Le],Ie[Le]=null,Le--)}function he(i,r){Le++,Ie[Le]=i.current,i.current=r}var de=j(null),Se=j(null),Ce=j(null),oe=j(null);function ge(i,r){switch(he(Ce,r),he(Se,i),he(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?cT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=cT(r),i=uT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(de),he(de,i)}function Ge(){te(de),te(Se),te(Ce)}function wt(i){i.memoizedState!==null&&he(oe,i);var r=de.current,o=uT(r,i.type);r!==o&&(he(Se,i),he(de,o))}function vn(i){Se.current===i&&(te(de),te(Se)),oe.current===i&&(te(oe),Vc._currentValue=me)}var un,ar;function Xn(i){if(un===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);un=r&&r[1]||"",ar=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+i+ar}var Z=!1;function Te(i,r){if(!i||Z)return"";Z=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Q=W}Reflect.construct(i,[],se)}else{try{se.call()}catch(W){Q=W}i.call(se.prototype)}}else{try{throw Error()}catch(W){Q=W}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var M=T.split(`
`),Y=S.split(`
`);for(d=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(c===M.length||d===Y.length)for(c=M.length-1,d=Y.length-1;1<=c&&0<=d&&M[c]!==Y[d];)d--;for(;1<=c&&0<=d;c--,d--)if(M[c]!==Y[d]){if(c!==1||d!==1)do if(c--,d--,0>d||M[c]!==Y[d]){var J=`
`+M[c].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=c&&0<=d);break}}}finally{Z=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Xn(o):""}function lt(i,r){switch(i.tag){case 26:case 27:case 5:return Xn(i.type);case 16:return Xn("Lazy");case 13:return i.child!==r&&r!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Te(i.type,!1);case 11:return Te(i.type.render,!1);case 1:return Te(i.type,!0);case 31:return Xn("Activity");default:return""}}function hn(i){try{var r="",o=null;do r+=lt(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ze=Object.prototype.hasOwnProperty,it=t.unstable_scheduleCallback,Bi=t.unstable_cancelCallback,Fi=t.unstable_shouldYield,xs=t.unstable_requestPaint,_t=t.unstable_now,_n=t.unstable_getCurrentPriorityLevel,uo=t.unstable_ImmediatePriority,or=t.unstable_UserBlockingPriority,Hi=t.unstable_NormalPriority,em=t.unstable_LowPriority,ju=t.unstable_IdlePriority,Uu=t.log,zu=t.unstable_setDisableYieldValue,vi=null,Zt=null;function Wn(i){if(typeof Uu=="function"&&zu(i),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(vi,i)}catch{}}var Rt=Math.clz32?Math.clz32:Fu,Bu=Math.log,ho=Math.LN2;function Fu(i){return i>>>=0,i===0?32:31-(Bu(i)/ho|0)|0}var qi=256,ha=262144,Vt=4194304;function Gi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ki(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?d=Gi(c):(T&=S,T!==0?d=Gi(T):o||(o=S&~i,o!==0&&(d=Gi(o))))):(S=c&~g,S!==0?d=Gi(S):T!==0?d=Gi(T):o||(o=c&~i,o!==0&&(d=Gi(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function _i(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function tm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hu(){var i=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),i}function Yi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function fa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nm(i,r,o,c,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,M=i.expirationTimes,Y=i.hiddenUpdates;for(o=T&~o;0<o;){var J=31-Rt(o),se=1<<J;S[J]=0,M[J]=-1;var Q=Y[J];if(Q!==null)for(Y[J]=null,J=0;J<Q.length;J++){var W=Q[J];W!==null&&(W.lane&=-536870913)}o&=~se}c!==0&&da(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function da(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Rt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Ul(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Rt(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function zl(i,r){var o=r&-r;return o=(o&42)!==0?1:ma(o),(o&(i.suspendedLanes|r))!==0?0:o}function ma(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ss(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qu(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:MT(i.type))}function Ei(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var Ti=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Ti,Qt="__reactProps$"+Ti,$i="__reactContainer$"+Ti,fo="__reactEvents$"+Ti,im="__reactListeners$"+Ti,Gu="__reactHandles$"+Ti,Ku="__reactResources$"+Ti,Qi="__reactMarker$"+Ti;function mo(i){delete i[Pt],delete i[Qt],delete i[fo],delete i[im],delete i[Gu]}function Xi(i){var r=i[Pt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[$i]||o[Pt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=yT(i);i!==null;){if(o=i[Pt])return o;i=yT(i)}return r}i=o,o=i.parentNode}return null}function Jn(i){if(i=i[Pt]||i[$i]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function kn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Wi(i){var r=i[Ku];return r||(r=i[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function kt(i){i[Qi]=!0}var Bl=new Set,Fl={};function Ji(i,r){Zi(i,r),Zi(i+"Capture",r)}function Zi(i,r){for(Fl[i]=r,i=0;i<r.length;i++)Bl.add(r[i])}var Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Gl={};function Yu(i){return Ze.call(Gl,i)?!0:Ze.call(ql,i)?!1:Hl.test(i)?Gl[i]=!0:(ql[i]=!0,!1)}function po(i,r,o){if(Yu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ln(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Lt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Xt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function lr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Kl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function et(i){if(!i._valueTracker){var r=lr(i)?"checked":"value";i._valueTracker=Kl(i,r,""+i[r])}}function pa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=lr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function es(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ga=/[\n"\\]/g;function wn(i){return i.replace(ga,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function go(i,r,o,c,d,g,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Xt(r)):i.value!==""+Xt(r)&&(i.value=""+Xt(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Yl(i,T,Xt(r)):o!=null?Yl(i,T,Xt(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Xt(S):i.removeAttribute("name")}function $u(i,r,o,c,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){et(i);return}o=o!=null?""+Xt(o):"",r=r!=null?""+Xt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),et(i)}function Yl(i,r,o){r==="number"&&es(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function cr(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Xt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Qu(i,r,o){if(r!=null&&(r=""+Xt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Xt(o):""}function ur(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Pe(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Xt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),et(i)}function Rn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Xu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Ql(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&$l(i,d,c)}else for(var g in r)r.hasOwnProperty(g)&&$l(i,g,r[g])}function yo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(i){return hr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function bi(){}var Xl=null;function Zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fr=null,ts=null;function ya(i){var r=Jn(i);if(r&&(i=r.stateNode)){var o=i[Qt]||null;e:switch(i=r.stateNode,r.type){case"input":if(go(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[Qt]||null;if(!d)throw Error(s(90));go(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&pa(c)}break e;case"textarea":Qu(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&cr(i,!!o.multiple,r,!1)}}}var _o=!1;function dr(i,r,o){if(_o)return i(r,o);_o=!0;try{var c=i(r);return c}finally{if(_o=!1,(fr!==null||ts!==null)&&(qh(),fr&&(r=fr,i=ts,ts=fr=null,ya(r),i)))for(r=0;r<i.length;r++)ya(i[r])}}function xi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Qt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(ei)try{var st={};Object.defineProperty(st,"passive",{get:function(){va=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{va=!1}var ns=null,Wl=null,_a=null;function Jl(){if(_a)return _a;var i,r=Wl,o=r.length,c,d="value"in ns?ns.value:ns.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(c=1;c<=T&&r[o-c]===d[g-c];c++);return _a=d.slice(i,1<c?1-c:void 0)}function Ea(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function As(){return!0}function Si(){return!1}function en(i){function r(o,c,d,g,T){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?As:Si,this.isPropagationStopped=Si,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),r}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=en(ws),mr=E({},ws,{view:0,detail:0}),Zl=en(mr),pr,Eo,ss,To=E({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ss&&(ss&&i.type==="mousemove"?(pr=i.screenX-ss.screenX,Eo=i.screenY-ss.screenY):Eo=pr=0,ss=i),pr)},movementY:function(i){return"movementY"in i?i.movementY:Eo}}),ec=en(To),Ta=E({},To,{dataTransfer:0}),Ju=en(Ta),Zu=E({},mr,{relatedTarget:0}),ba=en(Zu),tc=E({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),eh=en(tc),bo=E({},ws,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),th=en(bo),nh=E({},ws,{data:0}),rs=en(nh),ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=rh[i])?!!r[i]:!1}function gr(){return ah}var En=E({},mr,{key:function(i){if(i.key){var r=ih[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ea(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(i){return i.type==="keypress"?Ea(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ea(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),oh=en(En),lh=E({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=en(lh),h=E({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),_=en(h),x=E({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=en(x),G=E({},To,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=en(G),ue=E({},ws,{newState:0,oldState:0}),Me=en(ue),It=[9,13,27,32],Xe=ei&&"CompositionEvent"in window,gt=null;ei&&"documentMode"in document&&(gt=document.documentMode);var ti=ei&&"TextEvent"in window&&!gt,as=ei&&(!Xe||gt&&8<gt&&11>=gt),Ai=" ",wi=!1;function xa(i,r){switch(i){case"keyup":return It.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var So=!1;function hC(i,r){switch(i){case"compositionend":return xo(r);case"keypress":return r.which!==32?null:(wi=!0,Ai);case"textInput":return i=r.data,i===Ai&&wi?null:i;default:return null}}function fC(i,r){if(So)return i==="compositionend"||!Xe&&xa(i,r)?(i=Jl(),_a=Wl=ns=null,So=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return as&&r.locale!=="ko"?null:r.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!dC[i.type]:r==="textarea"}function T_(i,r,o,c){fr?ts?ts.push(c):ts=[c]:fr=c,r=Wh(r,"onChange"),0<r.length&&(o=new is("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var nc=null,ic=null;function mC(i){iT(i,0)}function ch(i){var r=kn(i);if(pa(r))return i}function b_(i,r){if(i==="change")return r}var x_=!1;if(ei){var sm;if(ei){var rm="oninput"in document;if(!rm){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),rm=typeof S_.oninput=="function"}sm=rm}else sm=!1;x_=sm&&(!document.documentMode||9<document.documentMode)}function A_(){nc&&(nc.detachEvent("onpropertychange",w_),ic=nc=null)}function w_(i){if(i.propertyName==="value"&&ch(ic)){var r=[];T_(r,ic,i,Zn(i)),dr(mC,r)}}function pC(i,r,o){i==="focusin"?(A_(),nc=r,ic=o,nc.attachEvent("onpropertychange",w_)):i==="focusout"&&A_()}function gC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ch(ic)}function yC(i,r){if(i==="click")return ch(r)}function vC(i,r){if(i==="input"||i==="change")return ch(r)}function _C(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var jn=typeof Object.is=="function"?Object.is:_C;function sc(i,r){if(jn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Ze.call(r,d)||!jn(i[d],r[d]))return!1}return!0}function R_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function I_(i,r){var o=R_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=R_(o)}}function C_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?C_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function N_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=es(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=es(i.document)}return r}function am(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var EC=ei&&"documentMode"in document&&11>=document.documentMode,Ao=null,om=null,rc=null,lm=!1;function D_(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lm||Ao==null||Ao!==es(c)||(c=Ao,"selectionStart"in c&&am(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),rc&&sc(rc,c)||(rc=c,c=Wh(om,"onSelect"),0<c.length&&(r=new is("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Ao)))}function Sa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var wo={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},cm={},O_={};ei&&(O_=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Aa(i){if(cm[i])return cm[i];if(!wo[i])return i;var r=wo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in O_)return cm[i]=r[o];return i}var M_=Aa("animationend"),V_=Aa("animationiteration"),P_=Aa("animationstart"),TC=Aa("transitionrun"),bC=Aa("transitionstart"),xC=Aa("transitioncancel"),k_=Aa("transitionend"),L_=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function Ri(i,r){L_.set(i,r),Ji(r,[i])}var uh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ni=[],Ro=0,hm=0;function hh(){for(var i=Ro,r=hm=Ro=0;r<i;){var o=ni[r];ni[r++]=null;var c=ni[r];ni[r++]=null;var d=ni[r];ni[r++]=null;var g=ni[r];if(ni[r++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&j_(o,d,g)}}function fh(i,r,o,c){ni[Ro++]=i,ni[Ro++]=r,ni[Ro++]=o,ni[Ro++]=c,hm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function fm(i,r,o,c){return fh(i,r,o,c),dh(i)}function wa(i,r){return fh(i,null,null,r),dh(i)}function j_(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Rt(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),g):null}function dh(i){if(50<Rc)throw Rc=0,Tp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Io={};function SC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,r,o,c){return new SC(i,r,o,c)}function dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Is(i,r){var o=i.alternate;return o===null?(o=Un(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function U_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function mh(i,r,o,c,d,g){var T=0;if(c=i,typeof i=="function")dm(i)&&(T=1);else if(typeof i=="string")T=CN(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Un(31,o,r,d),i.elementType=C,i.lanes=g,i;case L:return Ra(o.children,d,g,r);case k:T=8,d|=24;break;case F:return i=Un(12,o,r,d|2),i.elementType=F,i.lanes=g,i;case le:return i=Un(13,o,r,d),i.elementType=le,i.lanes=g,i;case ce:return i=Un(19,o,r,d),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:T=10;break e;case q:T=9;break e;case ie:T=11;break e;case N:T=14;break e;case R:T=16,c=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Un(T,o,r,d),r.elementType=i,r.type=c,r.lanes=g,r}function Ra(i,r,o,c){return i=Un(7,i,c,r),i.lanes=o,i}function mm(i,r,o){return i=Un(6,i,null,r),i.lanes=o,i}function z_(i){var r=Un(18,null,null,0);return r.stateNode=i,r}function pm(i,r,o){return r=Un(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var B_=new WeakMap;function ii(i,r){if(typeof i=="object"&&i!==null){var o=B_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:hn(r)},B_.set(i,r),r)}return{value:i,source:r,stack:hn(r)}}var Co=[],No=0,ph=null,ac=0,si=[],ri=0,yr=null,os=1,ls="";function Cs(i,r){Co[No++]=ac,Co[No++]=ph,ph=i,ac=r}function F_(i,r,o){si[ri++]=os,si[ri++]=ls,si[ri++]=yr,yr=i;var c=os;i=ls;var d=32-Rt(c)-1;c&=~(1<<d),o+=1;var g=32-Rt(r)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,os=1<<32-Rt(r)+d|o<<d|c,ls=g+i}else os=1<<g|o<<d|c,ls=i}function gm(i){i.return!==null&&(Cs(i,1),F_(i,1,0))}function ym(i){for(;i===ph;)ph=Co[--No],Co[No]=null,ac=Co[--No],Co[No]=null;for(;i===yr;)yr=si[--ri],si[ri]=null,ls=si[--ri],si[ri]=null,os=si[--ri],si[ri]=null}function H_(i,r){si[ri++]=os,si[ri++]=ls,si[ri++]=yr,os=r.id,ls=r.overflow,yr=i}var tn=null,dt=null,Ke=!1,vr=null,ai=!1,vm=Error(s(519));function _r(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oc(ii(r,i)),vm}function q_(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Pt]=i,r[Qt]=c,o){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(o=0;o<Cc.length;o++)Ue(Cc[o],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),$u(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),ur(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||oT(r.textContent,o)?(c.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),c.onScroll!=null&&Ue("scroll",r),c.onScrollEnd!=null&&Ue("scrollend",r),c.onClick!=null&&(r.onclick=bi),r=!0):r=!1,r||_r(i,!0)}function G_(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:tn=tn.return}}function Do(i){if(i!==tn)return!1;if(!Ke)return G_(i),Ke=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||kp(i.type,i.memoizedProps)),o=!o),o&&dt&&_r(i),G_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));dt=gT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));dt=gT(i)}else r===27?(r=dt,Mr(i.type)?(i=Bp,Bp=null,dt=i):dt=r):dt=tn?li(i.stateNode.nextSibling):null;return!0}function Ia(){dt=tn=null,Ke=!1}function _m(){var i=vr;return i!==null&&(Dn===null?Dn=i:Dn.push.apply(Dn,i),vr=null),i}function oc(i){vr===null?vr=[i]:vr.push(i)}var Em=j(null),Ca=null,Ns=null;function Er(i,r,o){he(Em,r._currentValue),r._currentValue=o}function Ds(i){i._currentValue=Em.current,te(Em)}function Tm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function bm(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var M=0;M<r.length;M++)if(S.context===r[M]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Tm(g.return,o,i),c||(T=null);break e}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Tm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Oo(i,r,o,c){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=d.type;jn(d.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(d===oe.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Vc):i=[Vc])}d=d.return}i!==null&&bm(r,i,o,c),r.flags|=262144}function gh(i){for(i=i.firstContext;i!==null;){if(!jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Na(i){Ca=i,Ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return K_(Ca,i)}function yh(i,r){return Ca===null&&Na(i),K_(i,r)}function K_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ns===null){if(i===null)throw Error(s(308));Ns=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ns=Ns.next=r;return o}var AC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},wC=t.unstable_scheduleCallback,RC=t.unstable_NormalPriority,jt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new AC,data:new Map,refCount:0}}function lc(i){i.refCount--,i.refCount===0&&wC(RC,function(){i.controller.abort()})}var cc=null,Sm=0,Mo=0,Vo=null;function IC(i,r){if(cc===null){var o=cc=[];Sm=0,Mo=Rp(),Vo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Sm++,r.then(Y_,Y_),r}function Y_(){if(--Sm===0&&cc!==null){Vo!==null&&(Vo.status="fulfilled");var i=cc;cc=null,Mo=0,Vo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function CC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var $_=$.S;$.S=function(i,r){DE=_t(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&IC(i,r),$_!==null&&$_(i,r)};var Da=j(null);function Am(){var i=Da.current;return i!==null?i:ct.pooledCache}function vh(i,r){r===null?he(Da,Da.current):he(Da,r.pool)}function Q_(){var i=Am();return i===null?null:{parent:jt._currentValue,pool:i}}var Po=Error(s(460)),wm=Error(s(474)),_h=Error(s(542)),Eh={then:function(){}};function X_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function W_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(bi,bi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z_(i),i;default:if(typeof r.status=="string")r.then(bi,bi);else{if(i=ct,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z_(i),i}throw Ma=r,Po}}function Oa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ma=o,Po):o}}var Ma=null;function J_(){if(Ma===null)throw Error(s(459));var i=Ma;return Ma=null,i}function Z_(i){if(i===Po||i===_h)throw Error(s(483))}var ko=null,uc=0;function Th(i){var r=uc;return uc+=1,ko===null&&(ko=[]),W_(ko,i,r)}function hc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function bh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function e0(i){function r(H,U){if(i){var K=H.deletions;K===null?(H.deletions=[U],H.flags|=16):K.push(U)}}function o(H,U){if(!i)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function c(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=Is(H,U),H.index=0,H.sibling=null,H}function g(H,U,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<U?(H.flags|=67108866,U):K):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,U,K,ee){return U===null||U.tag!==6?(U=mm(K,H.mode,ee),U.return=H,U):(U=d(U,K),U.return=H,U)}function M(H,U,K,ee){var be=K.type;return be===L?J(H,U,K.props.children,ee,K.key):U!==null&&(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Oa(be)===U.type)?(U=d(U,K.props),hc(U,K),U.return=H,U):(U=mh(K.type,K.key,K.props,null,H.mode,ee),hc(U,K),U.return=H,U)}function Y(H,U,K,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=pm(K,H.mode,ee),U.return=H,U):(U=d(U,K.children||[]),U.return=H,U)}function J(H,U,K,ee,be){return U===null||U.tag!==7?(U=Ra(K,H.mode,ee,be),U.return=H,U):(U=d(U,K),U.return=H,U)}function se(H,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=mm(""+U,H.mode,K),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return K=mh(U.type,U.key,U.props,null,H.mode,K),hc(K,U),K.return=H,K;case D:return U=pm(U,H.mode,K),U.return=H,U;case R:return U=Oa(U),se(H,U,K)}if(Pe(U)||B(U))return U=Ra(U,H.mode,K,null),U.return=H,U;if(typeof U.then=="function")return se(H,Th(U),K);if(U.$$typeof===z)return se(H,yh(H,U),K);bh(H,U)}return null}function Q(H,U,K,ee){var be=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return be!==null?null:S(H,U,""+K,ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===be?M(H,U,K,ee):null;case D:return K.key===be?Y(H,U,K,ee):null;case R:return K=Oa(K),Q(H,U,K,ee)}if(Pe(K)||B(K))return be!==null?null:J(H,U,K,ee,null);if(typeof K.then=="function")return Q(H,U,Th(K),ee);if(K.$$typeof===z)return Q(H,U,yh(H,K),ee);bh(H,K)}return null}function W(H,U,K,ee,be){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return H=H.get(K)||null,S(U,H,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return H=H.get(ee.key===null?K:ee.key)||null,M(U,H,ee,be);case D:return H=H.get(ee.key===null?K:ee.key)||null,Y(U,H,ee,be);case R:return ee=Oa(ee),W(H,U,K,ee,be)}if(Pe(ee)||B(ee))return H=H.get(K)||null,J(U,H,ee,be,null);if(typeof ee.then=="function")return W(H,U,K,Th(ee),be);if(ee.$$typeof===z)return W(H,U,K,yh(U,ee),be);bh(U,ee)}return null}function ye(H,U,K,ee){for(var be=null,$e=null,_e=U,ke=U=0,Be=null;_e!==null&&ke<K.length;ke++){_e.index>ke?(Be=_e,_e=null):Be=_e.sibling;var Qe=Q(H,_e,K[ke],ee);if(Qe===null){_e===null&&(_e=Be);break}i&&_e&&Qe.alternate===null&&r(H,_e),U=g(Qe,U,ke),$e===null?be=Qe:$e.sibling=Qe,$e=Qe,_e=Be}if(ke===K.length)return o(H,_e),Ke&&Cs(H,ke),be;if(_e===null){for(;ke<K.length;ke++)_e=se(H,K[ke],ee),_e!==null&&(U=g(_e,U,ke),$e===null?be=_e:$e.sibling=_e,$e=_e);return Ke&&Cs(H,ke),be}for(_e=c(_e);ke<K.length;ke++)Be=W(_e,H,ke,K[ke],ee),Be!==null&&(i&&Be.alternate!==null&&_e.delete(Be.key===null?ke:Be.key),U=g(Be,U,ke),$e===null?be=Be:$e.sibling=Be,$e=Be);return i&&_e.forEach(function(jr){return r(H,jr)}),Ke&&Cs(H,ke),be}function Ae(H,U,K,ee){if(K==null)throw Error(s(151));for(var be=null,$e=null,_e=U,ke=U=0,Be=null,Qe=K.next();_e!==null&&!Qe.done;ke++,Qe=K.next()){_e.index>ke?(Be=_e,_e=null):Be=_e.sibling;var jr=Q(H,_e,Qe.value,ee);if(jr===null){_e===null&&(_e=Be);break}i&&_e&&jr.alternate===null&&r(H,_e),U=g(jr,U,ke),$e===null?be=jr:$e.sibling=jr,$e=jr,_e=Be}if(Qe.done)return o(H,_e),Ke&&Cs(H,ke),be;if(_e===null){for(;!Qe.done;ke++,Qe=K.next())Qe=se(H,Qe.value,ee),Qe!==null&&(U=g(Qe,U,ke),$e===null?be=Qe:$e.sibling=Qe,$e=Qe);return Ke&&Cs(H,ke),be}for(_e=c(_e);!Qe.done;ke++,Qe=K.next())Qe=W(_e,H,ke,Qe.value,ee),Qe!==null&&(i&&Qe.alternate!==null&&_e.delete(Qe.key===null?ke:Qe.key),U=g(Qe,U,ke),$e===null?be=Qe:$e.sibling=Qe,$e=Qe);return i&&_e.forEach(function(zN){return r(H,zN)}),Ke&&Cs(H,ke),be}function ot(H,U,K,ee){if(typeof K=="object"&&K!==null&&K.type===L&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var be=K.key;U!==null;){if(U.key===be){if(be=K.type,be===L){if(U.tag===7){o(H,U.sibling),ee=d(U,K.props.children),ee.return=H,H=ee;break e}}else if(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Oa(be)===U.type){o(H,U.sibling),ee=d(U,K.props),hc(ee,K),ee.return=H,H=ee;break e}o(H,U);break}else r(H,U);U=U.sibling}K.type===L?(ee=Ra(K.props.children,H.mode,ee,K.key),ee.return=H,H=ee):(ee=mh(K.type,K.key,K.props,null,H.mode,ee),hc(ee,K),ee.return=H,H=ee)}return T(H);case D:e:{for(be=K.key;U!==null;){if(U.key===be)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){o(H,U.sibling),ee=d(U,K.children||[]),ee.return=H,H=ee;break e}else{o(H,U);break}else r(H,U);U=U.sibling}ee=pm(K,H.mode,ee),ee.return=H,H=ee}return T(H);case R:return K=Oa(K),ot(H,U,K,ee)}if(Pe(K))return ye(H,U,K,ee);if(B(K)){if(be=B(K),typeof be!="function")throw Error(s(150));return K=be.call(K),Ae(H,U,K,ee)}if(typeof K.then=="function")return ot(H,U,Th(K),ee);if(K.$$typeof===z)return ot(H,U,yh(H,K),ee);bh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(o(H,U.sibling),ee=d(U,K),ee.return=H,H=ee):(o(H,U),ee=mm(K,H.mode,ee),ee.return=H,H=ee),T(H)):o(H,U)}return function(H,U,K,ee){try{uc=0;var be=ot(H,U,K,ee);return ko=null,be}catch(_e){if(_e===Po||_e===_h)throw _e;var $e=Un(29,_e,null,H.mode);return $e.lanes=ee,$e.return=H,$e}}}var Va=e0(!0),t0=e0(!1),Tr=!1;function Rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function br(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=dh(i),j_(i,null,o),r}return fh(i,c,r,o),dh(i)}function fc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Ul(i,o)}}function Cm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Nm=!1;function dc(){if(Nm){var i=Vo;if(i!==null)throw i}}function mc(i,r,o,c){Nm=!1;var d=i.updateQueue;Tr=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,Y=M.next;M.next=null,T===null?g=Y:T.next=Y,T=M;var J=i.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==T&&(S===null?J.firstBaseUpdate=Y:S.next=Y,J.lastBaseUpdate=M))}if(g!==null){var se=d.baseState;T=0,J=Y=M=null,S=g;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(ze&Q)===Q:(c&Q)===Q){Q!==0&&Q===Mo&&(Nm=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=i,Ae=S;Q=r;var ot=o;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){se=ye.call(ot,se,Q);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,Q=typeof ye=="function"?ye.call(ot,se,Q):ye,Q==null)break e;se=E({},se,Q);break e;case 2:Tr=!0}}Q=S.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=d.callbacks,W===null?d.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(Y=J=W,M=se):J=J.next=W,T|=Q;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;W=S,S=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);J===null&&(M=se),d.baseState=M,d.firstBaseUpdate=Y,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),Ir|=T,i.lanes=T,i.memoizedState=se}}function n0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function i0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)n0(o[i],r)}var Lo=j(null),xh=j(0);function s0(i,r){i=zs,he(xh,i),he(Lo,r),zs=i|r.baseLanes}function Dm(){he(xh,zs),he(Lo,Lo.current)}function Om(){zs=xh.current,te(Lo),te(xh)}var zn=j(null),oi=null;function Sr(i){var r=i.alternate;he(Ct,Ct.current&1),he(zn,i),oi===null&&(r===null||Lo.current!==null||r.memoizedState!==null)&&(oi=i)}function Mm(i){he(Ct,Ct.current),he(zn,i),oi===null&&(oi=i)}function r0(i){i.tag===22?(he(Ct,Ct.current),he(zn,i),oi===null&&(oi=i)):Ar()}function Ar(){he(Ct,Ct.current),he(zn,zn.current)}function Bn(i){te(zn),oi===i&&(oi=null),te(Ct)}var Ct=j(0);function Sh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Up(o)||zp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Os=0,Ve=null,rt=null,Ut=null,Ah=!1,jo=!1,Pa=!1,wh=0,pc=0,Uo=null,NC=0;function bt(){throw Error(s(321))}function Vm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!jn(i[o],r[o]))return!1;return!0}function Pm(i,r,o,c,d,g){return Os=g,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?F0:Xm,Pa=!1,g=o(c,d),Pa=!1,jo&&(g=o0(r,o,c,d)),a0(i),g}function a0(i){$.H=vc;var r=rt!==null&&rt.next!==null;if(Os=0,Ut=rt=Ve=null,Ah=!1,pc=0,Uo=null,r)throw Error(s(300));i===null||zt||(i=i.dependencies,i!==null&&gh(i)&&(zt=!0))}function o0(i,r,o,c){Ve=i;var d=0;do{if(jo&&(Uo=null),pc=0,jo=!1,25<=d)throw Error(s(301));if(d+=1,Ut=rt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=H0,g=r(o,c)}while(jo);return g}function DC(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?gc(r):r,i=i.useState()[0],(rt!==null?rt.memoizedState:null)!==i&&(Ve.flags|=1024),r}function km(){var i=wh!==0;return wh=0,i}function Lm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function jm(i){if(Ah){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ah=!1}Os=0,Ut=rt=Ve=null,jo=!1,pc=wh=0,Uo=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ve.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Nt(){if(rt===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=rt.next;var r=Ut===null?Ve.memoizedState:Ut.next;if(r!==null)Ut=r,rt=i;else{if(i===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));rt=i,i={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Ut===null?Ve.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(i){var r=pc;return pc+=1,Uo===null&&(Uo=[]),i=W_(Uo,i,r),r=Ve,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?F0:Xm),i}function Ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gc(i);if(i.$$typeof===z)return nn(i)}throw Error(s(438,String(i)))}function Um(i){var r=null,o=Ve.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Rh(),Ve.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=P;return r.index++,o}function Ms(i,r){return typeof r=="function"?r(i):r}function Ch(i){var r=Nt();return zm(r,rt,i)}function zm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=T=null,M=null,Y=r,J=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(ze&se)===se:(Os&se)===se){var Q=Y.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===Mo&&(J=!0);else if((Os&Q)===Q){Y=Y.next,Q===Mo&&(J=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=se,T=g):M=M.next=se,Ve.lanes|=Q,Ir|=Q;se=Y.action,Pa&&o(g,se),g=Y.hasEagerState?Y.eagerState:o(g,se)}else Q={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=Q,T=g):M=M.next=Q,Ve.lanes|=se,Ir|=se;Y=Y.next}while(Y!==null&&Y!==r);if(M===null?T=g:M.next=S,!jn(g,i.memoizedState)&&(zt=!0,J&&(o=Vo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=M,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Bm(i){var r=Nt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);jn(g,r.memoizedState)||(zt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function l0(i,r,o){var c=Ve,d=Nt(),g=Ke;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!jn((rt||d).memoizedState,o);if(T&&(d.memoizedState=o,zt=!0),d=d.queue,qm(h0.bind(null,c,d,i),[i]),d.getSnapshot!==r||T||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,zo(9,{destroy:void 0},u0.bind(null,c,d,o,r),null),ct===null)throw Error(s(349));g||(Os&127)!==0||c0(c,r,o)}return o}function c0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ve.updateQueue,r===null?(r=Rh(),Ve.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function u0(i,r,o,c){r.value=o,r.getSnapshot=c,f0(r)&&d0(i)}function h0(i,r,o){return o(function(){f0(r)&&d0(i)})}function f0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!jn(i,o)}catch{return!0}}function d0(i){var r=wa(i,2);r!==null&&On(r,i,2)}function Fm(i){var r=Tn();if(typeof i=="function"){var o=i;if(i=o(),Pa){Wn(!0);try{o()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:i},r}function m0(i,r,o,c){return i.baseState=o,zm(i,rt,typeof c=="function"?c:Ms)}function OC(i,r,o,c,d){if(Oh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};$.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,p0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function p0(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var g=$.T,T={};$.T=T;try{var S=o(d,c),M=$.S;M!==null&&M(T,S),g0(i,r,S)}catch(Y){Hm(i,r,Y)}finally{g!==null&&T.types!==null&&(g.types=T.types),$.T=g}}else try{g=o(d,c),g0(i,r,g)}catch(Y){Hm(i,r,Y)}}function g0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){y0(i,r,c)},function(c){return Hm(i,r,c)}):y0(i,r,o)}function y0(i,r,o){r.status="fulfilled",r.value=o,v0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,p0(i,o)))}function Hm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,v0(r),r=r.next;while(r!==c)}i.action=null}function v0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function _0(i,r){return r}function E0(i,r){if(Ke){var o=ct.formState;if(o!==null){e:{var c=Ve;if(Ke){if(dt){t:{for(var d=dt,g=ai;d.nodeType!==8;){if(!g){d=null;break t}if(d=li(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){dt=li(d.nextSibling),c=d.data==="F!";break e}}_r(c)}c=!1}c&&(r=o[0])}}return o=Tn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_0,lastRenderedState:r},o.queue=c,o=U0.bind(null,Ve,c),c.dispatch=o,c=Fm(!1),g=Qm.bind(null,Ve,!1,c.queue),c=Tn(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=OC.bind(null,Ve,d,g,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function T0(i){var r=Nt();return b0(r,rt,i)}function b0(i,r,o){if(r=zm(i,r,_0)[0],i=Ch(Ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=gc(r)}catch(T){throw T===Po?_h:T}else c=r;r=Nt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ve.flags|=2048,zo(9,{destroy:void 0},MC.bind(null,d,o),null)),[c,g,i]}function MC(i,r){i.action=r}function x0(i){var r=Nt(),o=rt;if(o!==null)return b0(r,o,i);Nt(),r=r.memoizedState,o=Nt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function zo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=Rh(),Ve.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function S0(){return Nt().memoizedState}function Nh(i,r,o,c){var d=Tn();Ve.flags|=i,d.memoizedState=zo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Dh(i,r,o,c){var d=Nt();c=c===void 0?null:c;var g=d.memoizedState.inst;rt!==null&&c!==null&&Vm(c,rt.memoizedState.deps)?d.memoizedState=zo(r,g,o,c):(Ve.flags|=i,d.memoizedState=zo(1|r,g,o,c))}function A0(i,r){Nh(8390656,8,i,r)}function qm(i,r){Dh(2048,8,i,r)}function VC(i){Ve.flags|=4;var r=Ve.updateQueue;if(r===null)r=Rh(),Ve.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function w0(i){var r=Nt().memoizedState;return VC({ref:r,nextImpl:i}),function(){if((We&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function R0(i,r){return Dh(4,2,i,r)}function I0(i,r){return Dh(4,4,i,r)}function C0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function N0(i,r,o){o=o!=null?o.concat([i]):null,Dh(4,4,C0.bind(null,r,i),o)}function Gm(){}function D0(i,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Vm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function O0(i,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Vm(r,c[1]))return c[0];if(c=i(),Pa){Wn(!0);try{i()}finally{Wn(!1)}}return o.memoizedState=[c,r],c}function Km(i,r,o){return o===void 0||(Os&1073741824)!==0&&(ze&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=ME(),Ve.lanes|=i,Ir|=i,o)}function M0(i,r,o,c){return jn(o,r)?o:Lo.current!==null?(i=Km(i,o,c),jn(i,r)||(zt=!0),i):(Os&42)===0||(Os&1073741824)!==0&&(ze&261930)===0?(zt=!0,i.memoizedState=o):(i=ME(),Ve.lanes|=i,Ir|=i,r)}function V0(i,r,o,c,d){var g=re.p;re.p=g!==0&&8>g?g:8;var T=$.T,S={};$.T=S,Qm(i,!1,r,o);try{var M=d(),Y=$.S;if(Y!==null&&Y(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=CC(M,c);yc(i,r,J,qn(i))}else yc(i,r,c,qn(i))}catch(se){yc(i,r,{then:function(){},status:"rejected",reason:se},qn())}finally{re.p=g,T!==null&&S.types!==null&&(T.types=S.types),$.T=T}}function PC(){}function Ym(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=P0(i).queue;V0(i,d,r,me,o===null?PC:function(){return k0(i),o(c)})}function P0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:me},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function k0(i){var r=P0(i);r.next===null&&(r=i.alternate.memoizedState),yc(i,r.next.queue,{},qn())}function $m(){return nn(Vc)}function L0(){return Nt().memoizedState}function j0(){return Nt().memoizedState}function kC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=qn();i=br(o);var c=xr(r,i,o);c!==null&&(On(c,r,o),fc(c,r,o)),r={cache:xm()},i.payload=r;return}r=r.return}}function LC(i,r,o){var c=qn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(i)?z0(r,o):(o=fm(i,r,o,c),o!==null&&(On(o,i,c),B0(o,r,c)))}function U0(i,r,o){var c=qn();yc(i,r,o,c)}function yc(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(i))z0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(d.hasEagerState=!0,d.eagerState=S,jn(S,T))return fh(i,r,d,0),ct===null&&hh(),!1}catch{}if(o=fm(i,r,d,c),o!==null)return On(o,i,c),B0(o,r,c),!0}return!1}function Qm(i,r,o,c){if(c={lane:2,revertLane:Rp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Oh(i)){if(r)throw Error(s(479))}else r=fm(i,o,c,2),r!==null&&On(r,i,2)}function Oh(i){var r=i.alternate;return i===Ve||r!==null&&r===Ve}function z0(i,r){jo=Ah=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function B0(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Ul(i,o)}}var vc={readContext:nn,use:Ih,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};vc.useEffectEvent=bt;var F0={readContext:nn,use:Ih,useCallback:function(i,r){return Tn().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:A0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Nh(4194308,4,C0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Nh(4194308,4,i,r)},useInsertionEffect:function(i,r){Nh(4,2,i,r)},useMemo:function(i,r){var o=Tn();r=r===void 0?null:r;var c=i();if(Pa){Wn(!0);try{i()}finally{Wn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Tn();if(o!==void 0){var d=o(r);if(Pa){Wn(!0);try{o(r)}finally{Wn(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=LC.bind(null,Ve,i),[c.memoizedState,i]},useRef:function(i){var r=Tn();return i={current:i},r.memoizedState=i},useState:function(i){i=Fm(i);var r=i.queue,o=U0.bind(null,Ve,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Gm,useDeferredValue:function(i,r){var o=Tn();return Km(o,i,r)},useTransition:function(){var i=Fm(!1);return i=V0.bind(null,Ve,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ve,d=Tn();if(Ke){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ct===null)throw Error(s(349));(ze&127)!==0||c0(c,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,A0(h0.bind(null,c,g,i),[i]),c.flags|=2048,zo(9,{destroy:void 0},u0.bind(null,c,g,o,r),null),o},useId:function(){var i=Tn(),r=ct.identifierPrefix;if(Ke){var o=ls,c=os;o=(c&~(1<<32-Rt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=wh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=NC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:$m,useFormState:E0,useActionState:E0,useOptimistic:function(i){var r=Tn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Qm.bind(null,Ve,!0,o),o.dispatch=r,[i,r]},useMemoCache:Um,useCacheRefresh:function(){return Tn().memoizedState=kC.bind(null,Ve)},useEffectEvent:function(i){var r=Tn(),o={impl:i};return r.memoizedState=o,function(){if((We&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Xm={readContext:nn,use:Ih,useCallback:D0,useContext:nn,useEffect:qm,useImperativeHandle:N0,useInsertionEffect:R0,useLayoutEffect:I0,useMemo:O0,useReducer:Ch,useRef:S0,useState:function(){return Ch(Ms)},useDebugValue:Gm,useDeferredValue:function(i,r){var o=Nt();return M0(o,rt.memoizedState,i,r)},useTransition:function(){var i=Ch(Ms)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:gc(i),r]},useSyncExternalStore:l0,useId:L0,useHostTransitionStatus:$m,useFormState:T0,useActionState:T0,useOptimistic:function(i,r){var o=Nt();return m0(o,rt,i,r)},useMemoCache:Um,useCacheRefresh:j0};Xm.useEffectEvent=w0;var H0={readContext:nn,use:Ih,useCallback:D0,useContext:nn,useEffect:qm,useImperativeHandle:N0,useInsertionEffect:R0,useLayoutEffect:I0,useMemo:O0,useReducer:Bm,useRef:S0,useState:function(){return Bm(Ms)},useDebugValue:Gm,useDeferredValue:function(i,r){var o=Nt();return rt===null?Km(o,i,r):M0(o,rt.memoizedState,i,r)},useTransition:function(){var i=Bm(Ms)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:gc(i),r]},useSyncExternalStore:l0,useId:L0,useHostTransitionStatus:$m,useFormState:x0,useActionState:x0,useOptimistic:function(i,r){var o=Nt();return rt!==null?m0(o,rt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Um,useCacheRefresh:j0};H0.useEffectEvent=w0;function Wm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:E({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Jm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=qn(),d=br(c);d.payload=r,o!=null&&(d.callback=o),r=xr(i,d,c),r!==null&&(On(r,i,c),fc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=qn(),d=br(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=xr(i,d,c),r!==null&&(On(r,i,c),fc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=qn(),c=br(o);c.tag=2,r!=null&&(c.callback=r),r=xr(i,c,o),r!==null&&(On(r,i,o),fc(r,i,o))}};function q0(i,r,o,c,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!sc(o,c)||!sc(d,g):!0}function G0(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Jm.enqueueReplaceState(r,r.state,null)}function ka(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=E({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function K0(i){uh(i)}function Y0(i){console.error(i)}function $0(i){uh(i)}function Mh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Q0(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zm(i,r,o){return o=br(o),o.tag=3,o.payload={element:null},o.callback=function(){Mh(i,r)},o}function X0(i){return i=br(i),i.tag=3,i}function W0(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){Q0(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Q0(r,o,c),typeof d!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function jC(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Oo(r,o,d,!0),o=zn.current,o!==null){switch(o.tag){case 31:case 13:return oi===null?Gh():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Eh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Sp(i,c,d)),!1;case 22:return o.flags|=65536,c===Eh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Sp(i,c,d)),!1}throw Error(s(435,o.tag))}return Sp(i,c,d),Gh(),!1}if(Ke)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==vm&&(i=Error(s(422),{cause:c}),oc(ii(i,o)))):(c!==vm&&(r=Error(s(423),{cause:c}),oc(ii(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=ii(c,o),d=Zm(i.stateNode,c,d),Cm(i,d),xt!==4&&(xt=2)),!1;var g=Error(s(520),{cause:c});if(g=ii(g,o),wc===null?wc=[g]:wc.push(g),xt!==4&&(xt=2),r===null)return!0;c=ii(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Zm(o.stateNode,c,i),Cm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cr===null||!Cr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=X0(d),W0(d,i,o,c),Cm(o,d),!1}o=o.return}while(o!==null);return!1}var ep=Error(s(461)),zt=!1;function sn(i,r,o,c){r.child=i===null?t0(r,null,o,c):Va(r,i.child,o,c)}function J0(i,r,o,c,d){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Na(r),c=Pm(i,r,o,T,g,d),S=km(),i!==null&&!zt?(Lm(i,r,d),Vs(i,r,d)):(Ke&&S&&gm(r),r.flags|=1,sn(i,r,c,d),r.child)}function Z0(i,r,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!dm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,eE(i,r,g,c,d)):(i=mh(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!lp(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:sc,o(T,c)&&i.ref===r.ref)return Vs(i,r,d)}return r.flags|=1,i=Is(g,c),i.ref=r.ref,i.return=r,r.child=i}function eE(i,r,o,c,d){if(i!==null){var g=i.memoizedProps;if(sc(g,c)&&i.ref===r.ref)if(zt=!1,r.pendingProps=c=g,lp(i,d))(i.flags&131072)!==0&&(zt=!0);else return r.lanes=i.lanes,Vs(i,r,d)}return tp(i,r,o,c,d)}function tE(i,r,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,r.child=null;return nE(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&vh(r,g!==null?g.cachePool:null),g!==null?s0(r,g):Dm(),r0(r);else return c=r.lanes=536870912,nE(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(vh(r,g.cachePool),s0(r,g),Ar(),r.memoizedState=null):(i!==null&&vh(r,null),Dm(),Ar());return sn(i,r,d,o),r.child}function _c(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function nE(i,r,o,c,d){var g=Am();return g=g===null?null:{parent:jt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&vh(r,null),Dm(),r0(r),i!==null&&Oo(i,r,c,!0),r.childLanes=d,null}function Vh(i,r){return r=kh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function iE(i,r,o){return Va(r,i.child,null,o),i=Vh(r,r.pendingProps),i.flags|=2,Bn(r),r.memoizedState=null,i}function UC(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ke){if(c.mode==="hidden")return i=Vh(r,c),r.lanes=536870912,_c(null,i);if(Mm(r),(i=dt)?(i=pT(i,ai),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:yr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},o=z_(i),o.return=r,r.child=o,tn=r,dt=null)):i=null,i===null)throw _r(r);return r.lanes=536870912,null}return Vh(r,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Mm(r),d)if(r.flags&256)r.flags&=-257,r=iE(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(zt||Oo(i,r,o,!1),d=(o&i.childLanes)!==0,zt||d){if(c=ct,c!==null&&(T=zl(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,wa(i,T),On(c,i,T),ep;Gh(),r=iE(i,r,o)}else i=g.treeContext,dt=li(T.nextSibling),tn=r,Ke=!0,vr=null,ai=!1,i!==null&&H_(r,i),r=Vh(r,c),r.flags|=4096;return r}return i=Is(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ph(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function tp(i,r,o,c,d){return Na(r),o=Pm(i,r,o,c,void 0,d),c=km(),i!==null&&!zt?(Lm(i,r,d),Vs(i,r,d)):(Ke&&c&&gm(r),r.flags|=1,sn(i,r,o,d),r.child)}function sE(i,r,o,c,d,g){return Na(r),r.updateQueue=null,o=o0(r,c,o,d),a0(i),c=km(),i!==null&&!zt?(Lm(i,r,g),Vs(i,r,g)):(Ke&&c&&gm(r),r.flags|=1,sn(i,r,o,g),r.child)}function rE(i,r,o,c,d){if(Na(r),r.stateNode===null){var g=Io,T=o.contextType;typeof T=="object"&&T!==null&&(g=nn(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Rm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?nn(T):Io,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Wm(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Jm.enqueueReplaceState(g,g.state,null),mc(r,c,g,d),dc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,M=ka(o,S);g.props=M;var Y=g.context,J=o.contextType;T=Io,typeof J=="object"&&J!==null&&(T=nn(J));var se=o.getDerivedStateFromProps;J=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Y!==T)&&G0(r,g,c,T),Tr=!1;var Q=r.memoizedState;g.state=Q,mc(r,c,g,d),dc(),Y=r.memoizedState,S||Q!==Y||Tr?(typeof se=="function"&&(Wm(r,o,se,c),Y=r.memoizedState),(M=Tr||q0(r,o,M,c,Q,Y,T))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),g.props=c,g.state=Y,g.context=T,c=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Im(i,r),T=r.memoizedProps,J=ka(o,T),g.props=J,se=r.pendingProps,Q=g.context,Y=o.contextType,M=Io,typeof Y=="object"&&Y!==null&&(M=nn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==se||Q!==M)&&G0(r,g,c,M),Tr=!1,Q=r.memoizedState,g.state=Q,mc(r,c,g,d),dc();var W=r.memoizedState;T!==se||Q!==W||Tr||i!==null&&i.dependencies!==null&&gh(i.dependencies)?(typeof S=="function"&&(Wm(r,o,S,c),W=r.memoizedState),(J=Tr||q0(r,o,J,c,Q,W,M)||i!==null&&i.dependencies!==null&&gh(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=M,c=J):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Ph(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Va(r,i.child,null,d),r.child=Va(r,null,o,d)):sn(i,r,o,d),r.memoizedState=g.state,i=r.child):i=Vs(i,r,d),i}function aE(i,r,o,c){return Ia(),r.flags|=256,sn(i,r,o,c),r.child}var np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(i){return{baseLanes:i,cachePool:Q_()}}function sp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Hn),i}function oE(i,r,o){var c=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Ct.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ke){if(d?Sr(r):Ar(),(i=dt)?(i=pT(i,ai),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:yr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},o=z_(i),o.return=r,r.child=o,tn=r,dt=null)):i=null,i===null)throw _r(r);return zp(i)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,d?(Ar(),d=r.mode,S=kh({mode:"hidden",children:S},d),c=Ra(c,d,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=ip(o),c.childLanes=sp(i,T,o),r.memoizedState=np,_c(null,c)):(Sr(r),rp(r,S))}var M=i.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(g)r.flags&256?(Sr(r),r.flags&=-257,r=ap(i,r,o)):r.memoizedState!==null?(Ar(),r.child=i.child,r.flags|=128,r=null):(Ar(),S=c.fallback,d=r.mode,c=kh({mode:"visible",children:c.children},d),S=Ra(S,d,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,Va(r,i.child,null,o),c=r.child,c.memoizedState=ip(o),c.childLanes=sp(i,T,o),r.memoizedState=np,r=_c(null,c));else if(Sr(r),zp(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(s(419)),c.stack="",c.digest=T,oc({value:c,source:null,stack:null}),r=ap(i,r,o)}else if(zt||Oo(i,r,o,!1),T=(o&i.childLanes)!==0,zt||T){if(T=ct,T!==null&&(c=zl(T,o),c!==0&&c!==M.retryLane))throw M.retryLane=c,wa(i,c),On(T,i,c),ep;Up(S)||Gh(),r=ap(i,r,o)}else Up(S)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,dt=li(S.nextSibling),tn=r,Ke=!0,vr=null,ai=!1,i!==null&&H_(r,i),r=rp(r,c.children),r.flags|=4096);return r}return d?(Ar(),S=c.fallback,d=r.mode,M=i.child,Y=M.sibling,c=Is(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,Y!==null?S=Is(Y,S):(S=Ra(S,d,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,_c(null,c),c=r.child,S=i.child.memoizedState,S===null?S=ip(o):(d=S.cachePool,d!==null?(M=jt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Q_(),S={baseLanes:S.baseLanes|o,cachePool:d}),c.memoizedState=S,c.childLanes=sp(i,T,o),r.memoizedState=np,_c(i.child,c)):(Sr(r),o=i.child,i=o.sibling,o=Is(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function rp(i,r){return r=kh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function kh(i,r){return i=Un(22,i,null,r),i.lanes=0,i}function ap(i,r,o){return Va(r,i.child,null,o),i=rp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function lE(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Tm(i.return,r,o)}function op(i,r,o,c,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function cE(i,r,o){var c=r.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var T=Ct.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,he(Ct,T),sn(i,r,c,o),c=Ke?ac:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lE(i,o,r);else if(i.tag===19)lE(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Sh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),op(r,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Sh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}op(r,!0,o,null,g,c);break;case"together":op(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Vs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ir|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Oo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Is(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Is(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function lp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&gh(i)))}function zC(i,r,o){switch(r.tag){case 3:ge(r,r.stateNode.containerInfo),Er(r,jt,i.memoizedState.cache),Ia();break;case 27:case 5:wt(r);break;case 4:ge(r,r.stateNode.containerInfo);break;case 10:Er(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Mm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Sr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?oE(i,r,o):(Sr(r),i=Vs(i,r,o),i!==null?i.sibling:null);Sr(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Oo(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return cE(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(Ct,Ct.current),c)break;return null;case 22:return r.lanes=0,tE(i,r,o,r.pendingProps);case 24:Er(r,jt,i.memoizedState.cache)}return Vs(i,r,o)}function uE(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)zt=!0;else{if(!lp(i,o)&&(r.flags&128)===0)return zt=!1,zC(i,r,o);zt=(i.flags&131072)!==0}else zt=!1,Ke&&(r.flags&1048576)!==0&&F_(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Oa(r.elementType),r.type=i,typeof i=="function")dm(i)?(c=ka(i,c),r.tag=1,r=rE(null,r,i,c,o)):(r.tag=0,r=tp(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===ie){r.tag=11,r=J0(null,r,i,c,o);break e}else if(d===N){r.tag=14,r=Z0(null,r,i,c,o);break e}}throw r=Ee(i)||i,Error(s(306,r,""))}}return r;case 0:return tp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=ka(c,r.pendingProps),rE(i,r,c,d,o);case 3:e:{if(ge(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;d=g.element,Im(i,r),mc(r,c,null,o);var T=r.memoizedState;if(c=T.cache,Er(r,jt,c),c!==g.cache&&bm(r,[jt],o,!0),dc(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=aE(i,r,c,o);break e}else if(c!==d){d=ii(Error(s(424)),r),oc(d),r=aE(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,dt=li(i.firstChild),tn=r,Ke=!0,vr=null,ai=!0,o=t0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ia(),c===d){r=Vs(i,r,o);break e}sn(i,r,c,o)}r=r.child}return r;case 26:return Ph(i,r),i===null?(o=TT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ke||(o=r.type,i=r.pendingProps,c=Jh(Ce.current).createElement(o),c[Pt]=r,c[Qt]=i,rn(c,o,i),kt(c),r.stateNode=c):r.memoizedState=TT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return wt(r),i===null&&Ke&&(c=r.stateNode=vT(r.type,r.pendingProps,Ce.current),tn=r,ai=!0,d=dt,Mr(r.type)?(Bp=d,dt=li(c.firstChild)):dt=d),sn(i,r,r.pendingProps.children,o),Ph(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ke&&((d=c=dt)&&(c=gN(c,r.type,r.pendingProps,ai),c!==null?(r.stateNode=c,tn=r,dt=li(c.firstChild),ai=!1,d=!0):d=!1),d||_r(r)),wt(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,kp(d,g)?c=null:T!==null&&kp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=Pm(i,r,DC,null,null,o),Vc._currentValue=d),Ph(i,r),sn(i,r,c,o),r.child;case 6:return i===null&&Ke&&((i=o=dt)&&(o=yN(o,r.pendingProps,ai),o!==null?(r.stateNode=o,tn=r,dt=null,i=!0):i=!1),i||_r(r)),null;case 13:return oE(i,r,o);case 4:return ge(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Va(r,null,c,o):sn(i,r,c,o),r.child;case 11:return J0(i,r,r.type,r.pendingProps,o);case 7:return sn(i,r,r.pendingProps,o),r.child;case 8:return sn(i,r,r.pendingProps.children,o),r.child;case 12:return sn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Er(r,r.type,c.value),sn(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,Na(r),d=nn(d),c=c(d),r.flags|=1,sn(i,r,c,o),r.child;case 14:return Z0(i,r,r.type,r.pendingProps,o);case 15:return eE(i,r,r.type,r.pendingProps,o);case 19:return cE(i,r,o);case 31:return UC(i,r,o);case 22:return tE(i,r,o,r.pendingProps);case 24:return Na(r),c=nn(jt),i===null?(d=Am(),d===null&&(d=ct,g=xm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:c,cache:d},Rm(r),Er(r,jt,d)):((i.lanes&o)!==0&&(Im(i,r),mc(r,null,null,o),dc()),d=i.memoizedState,g=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Er(r,jt,c)):(c=g.cache,Er(r,jt,c),c!==d.cache&&bm(r,[jt],o,!0))),sn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ps(i){i.flags|=4}function cp(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(LE())i.flags|=8192;else throw Ma=Eh,wm}else i.flags&=-16777217}function hE(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!wT(r))if(LE())i.flags|=8192;else throw Ma=Eh,wm}function Lh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Hu():536870912,i.lanes|=r,qo|=r)}function Ec(i,r){if(!Ke)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function mt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function BC(i,r,o){var c=r.pendingProps;switch(ym(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ds(jt),Ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Do(r)?Ps(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_m())),mt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(Ps(r),g!==null?(mt(r),hE(r,g)):(mt(r),cp(r,d,null,c,o))):g?g!==i.memoizedState?(Ps(r),mt(r),hE(r,g)):(mt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ps(r),mt(r),cp(r,d,i,c,o)),null;case 27:if(vn(r),o=Ce.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return mt(r),null}i=de.current,Do(r)?q_(r):(i=vT(d,c,o),r.stateNode=i,Ps(r))}return mt(r),null;case 5:if(vn(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return mt(r),null}if(g=de.current,Do(r))q_(r);else{var T=Jh(Ce.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}g[Pt]=r,g[Qt]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(rn(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ps(r)}}return mt(r),cp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ce.current,Do(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=tn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Pt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||oT(i.nodeValue,o)),i||_r(r,!0)}else i=Jh(i).createTextNode(c),i[Pt]=r,r.stateNode=i}return mt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Do(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Pt]=r}else Ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),i=!1}else o=_m(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return mt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Do(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Pt]=r}else Ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),d=!1}else d=_m(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Lh(r,r.updateQueue),mt(r),null);case 4:return Ge(),i===null&&Dp(r.stateNode.containerInfo),mt(r),null;case 10:return Ds(r.type),mt(r),null;case 19:if(te(Ct),c=r.memoizedState,c===null)return mt(r),null;if(d=(r.flags&128)!==0,g=c.rendering,g===null)if(d)Ec(c,!1);else{if(xt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Sh(i),g!==null){for(r.flags|=128,Ec(c,!1),i=g.updateQueue,r.updateQueue=i,Lh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)U_(o,i),o=o.sibling;return he(Ct,Ct.current&1|2),Ke&&Cs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&_t()>Fh&&(r.flags|=128,d=!0,Ec(c,!1),r.lanes=4194304)}else{if(!d)if(i=Sh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Lh(r,i),Ec(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Ke)return mt(r),null}else 2*_t()-c.renderingStartTime>Fh&&o!==536870912&&(r.flags|=128,d=!0,Ec(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=_t(),i.sibling=null,o=Ct.current,he(Ct,d?o&1|2:o&1),Ke&&Cs(r,c.treeForkCount),i):(mt(r),null);case 22:case 23:return Bn(r),Om(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),o=r.updateQueue,o!==null&&Lh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&te(Da),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ds(jt),mt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function FC(i,r){switch(ym(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ds(jt),Ge(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return vn(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(s(340));Ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Bn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(Ct),null;case 4:return Ge(),null;case 10:return Ds(r.type),null;case 22:case 23:return Bn(r),Om(),i!==null&&te(Da),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ds(jt),null;case 25:return null;default:return null}}function fE(i,r){switch(ym(r),r.tag){case 3:Ds(jt),Ge();break;case 26:case 27:case 5:vn(r);break;case 4:Ge();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:te(Ct);break;case 10:Ds(r.type);break;case 22:case 23:Bn(r),Om(),i!==null&&te(Da);break;case 24:Ds(jt)}}function Tc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==d)}}catch(S){nt(r,r.return,S)}}function wr(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=r;var M=o,Y=S;try{Y()}catch(J){nt(d,M,J)}}}c=c.next}while(c!==g)}}catch(J){nt(r,r.return,J)}}function dE(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{i0(r,o)}catch(c){nt(i,i.return,c)}}}function mE(i,r,o){o.props=ka(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){nt(i,r,c)}}function bc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){nt(i,r,d)}}function cs(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){nt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){nt(i,r,d)}else o.current=null}function pE(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){nt(i,i.return,d)}}function up(i,r,o){try{var c=i.stateNode;uN(c,i.type,o,r),c[Qt]=r}catch(d){nt(i,i.return,d)}}function gE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Mr(i.type)||i.tag===4}function hp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Mr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=bi));else if(c!==4&&(c===27&&Mr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(fp(i,r,o),i=i.sibling;i!==null;)fp(i,r,o),i=i.sibling}function jh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Mr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(jh(i,r,o),i=i.sibling;i!==null;)jh(i,r,o),i=i.sibling}function yE(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);rn(r,c,o),r[Pt]=i,r[Qt]=o}catch(g){nt(i,i.return,g)}}var ks=!1,Bt=!1,dp=!1,vE=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function HC(i,r){if(i=i.containerInfo,Vp=af,i=N_(i),am(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,S=-1,M=-1,Y=0,J=0,se=i,Q=null;t:for(;;){for(var W;se!==o||d!==0&&se.nodeType!==3||(S=T+d),se!==g||c!==0&&se.nodeType!==3||(M=T+c),se.nodeType===3&&(T+=se.nodeValue.length),(W=se.firstChild)!==null;)Q=se,se=W;for(;;){if(se===i)break t;if(Q===o&&++Y===d&&(S=T),Q===g&&++J===c&&(M=T),(W=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=W}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Pp={focusedElem:i,selectionRange:o},af=!1,Wt=r;Wt!==null;)if(r=Wt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Wt=i;else for(;Wt!==null;){switch(r=Wt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ye=ka(o.type,d);i=c.getSnapshotBeforeUpdate(ye,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){nt(o,o.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Wt=i;break}Wt=r.return}}function _E(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:js(i,o),c&4&&Tc(5,o);break;case 1:if(js(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){nt(o,o.return,T)}else{var d=ka(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){nt(o,o.return,T)}}c&64&&dE(o),c&512&&bc(o,o.return);break;case 3:if(js(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{i0(i,r)}catch(T){nt(o,o.return,T)}}break;case 27:r===null&&c&4&&yE(o);case 26:case 5:js(i,o),r===null&&c&4&&pE(o),c&512&&bc(o,o.return);break;case 12:js(i,o);break;case 31:js(i,o),c&4&&bE(i,o);break;case 13:js(i,o),c&4&&xE(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=JC.bind(null,o),vN(i,o))));break;case 22:if(c=o.memoizedState!==null||ks,!c){r=r!==null&&r.memoizedState!==null||Bt,d=ks;var g=Bt;ks=c,(Bt=r)&&!g?Us(i,o,(o.subtreeFlags&8772)!==0):js(i,o),ks=d,Bt=g}break;case 30:break;default:js(i,o)}}function EE(i){var r=i.alternate;r!==null&&(i.alternate=null,EE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&mo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,In=!1;function Ls(i,r,o){for(o=o.child;o!==null;)TE(i,r,o),o=o.sibling}function TE(i,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(vi,o)}catch{}switch(o.tag){case 26:Bt||cs(o,r),Ls(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||cs(o,r);var c=yt,d=In;Mr(o.type)&&(yt=o.stateNode,In=!1),Ls(i,r,o),Dc(o.stateNode),yt=c,In=d;break;case 5:Bt||cs(o,r);case 6:if(c=yt,d=In,yt=null,Ls(i,r,o),yt=c,In=d,yt!==null)if(In)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(g){nt(o,r,g)}else try{yt.removeChild(o.stateNode)}catch(g){nt(o,r,g)}break;case 18:yt!==null&&(In?(i=yt,dT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Jo(i)):dT(yt,o.stateNode));break;case 4:c=yt,d=In,yt=o.stateNode.containerInfo,In=!0,Ls(i,r,o),yt=c,In=d;break;case 0:case 11:case 14:case 15:wr(2,o,r),Bt||wr(4,o,r),Ls(i,r,o);break;case 1:Bt||(cs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&mE(o,r,c)),Ls(i,r,o);break;case 21:Ls(i,r,o);break;case 22:Bt=(c=Bt)||o.memoizedState!==null,Ls(i,r,o),Bt=c;break;default:Ls(i,r,o)}}function bE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Jo(i)}catch(o){nt(r,r.return,o)}}}function xE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jo(i)}catch(o){nt(r,r.return,o)}}function qC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new vE),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new vE),r;default:throw Error(s(435,i.tag))}}function Uh(i,r){var o=qC(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=ZC.bind(null,i,c);c.then(d,d)}})}function Cn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Mr(S.type)){yt=S.stateNode,In=!1;break e}break;case 5:yt=S.stateNode,In=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(yt===null)throw Error(s(160));TE(g,T,d),yt=null,In=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)SE(r,i),r=r.sibling}var Ii=null;function SE(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cn(r,i),Nn(i),c&4&&(wr(3,i,i.return),Tc(3,i),wr(5,i,i.return));break;case 1:Cn(r,i),Nn(i),c&512&&(Bt||o===null||cs(o,o.return)),c&64&&ks&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Ii;if(Cn(r,i),Nn(i),c&512&&(Bt||o===null||cs(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Qi]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),rn(g,c,o),g[Pt]=i,kt(g),c=g;break e;case"link":var T=ST("link","href",d).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}g=d.createElement(c),rn(g,c,o),d.head.appendChild(g);break;case"meta":if(T=ST("meta","content",d).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}g=d.createElement(c),rn(g,c,o),d.head.appendChild(g);break;default:throw Error(s(468,c))}g[Pt]=i,kt(g),c=g}i.stateNode=c}else AT(d,i.type,i.stateNode);else i.stateNode=xT(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?AT(d,i.type,i.stateNode):xT(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&up(i,i.memoizedProps,o.memoizedProps)}break;case 27:Cn(r,i),Nn(i),c&512&&(Bt||o===null||cs(o,o.return)),o!==null&&c&4&&up(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Cn(r,i),Nn(i),c&512&&(Bt||o===null||cs(o,o.return)),i.flags&32){d=i.stateNode;try{Rn(d,"")}catch(ye){nt(i,i.return,ye)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,up(i,d,o!==null?o.memoizedProps:d)),c&1024&&(dp=!0);break;case 6:if(Cn(r,i),Nn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ye){nt(i,i.return,ye)}}break;case 3:if(tf=null,d=Ii,Ii=Zh(r.containerInfo),Cn(r,i),Ii=d,Nn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Jo(r.containerInfo)}catch(ye){nt(i,i.return,ye)}dp&&(dp=!1,AE(i));break;case 4:c=Ii,Ii=Zh(i.stateNode.containerInfo),Cn(r,i),Nn(i),Ii=c;break;case 12:Cn(r,i),Nn(i);break;case 31:Cn(r,i),Nn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Uh(i,c)));break;case 13:Cn(r,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Bh=_t()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Uh(i,c)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,Y=ks,J=Bt;if(ks=Y||d,Bt=J||M,Cn(r,i),Bt=J,ks=Y,Nn(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||ks||Bt||La(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=M.stateNode;var se=M.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){nt(M,M.return,ye)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(ye){nt(M,M.return,ye)}}}else if(r.tag===18){if(o===null){M=r;try{var W=M.stateNode;d?mT(W,!0):mT(M.stateNode,!1)}catch(ye){nt(M,M.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Uh(i,o))));break;case 19:Cn(r,i),Nn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Uh(i,c)));break;case 30:break;case 21:break;default:Cn(r,i),Nn(i)}}function Nn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(gE(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=hp(i);jh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Rn(T,""),o.flags&=-33);var S=hp(i);jh(i,S,T);break;case 3:case 4:var M=o.stateNode.containerInfo,Y=hp(i);fp(i,Y,M);break;default:throw Error(s(161))}}catch(J){nt(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function AE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;AE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function js(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)_E(i,r.alternate,r),r=r.sibling}function La(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),La(r);break;case 1:cs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&mE(r,r.return,o),La(r);break;case 27:Dc(r.stateNode);case 26:case 5:cs(r,r.return),La(r);break;case 22:r.memoizedState===null&&La(r);break;case 30:La(r);break;default:La(r)}i=i.sibling}}function Us(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Us(d,g,o),Tc(4,g);break;case 1:if(Us(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){nt(c,c.return,Y)}if(c=g,d=c.updateQueue,d!==null){var S=c.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)n0(M[d],S)}catch(Y){nt(c,c.return,Y)}}o&&T&64&&dE(g),bc(g,g.return);break;case 27:yE(g);case 26:case 5:Us(d,g,o),o&&c===null&&T&4&&pE(g),bc(g,g.return);break;case 12:Us(d,g,o);break;case 31:Us(d,g,o),o&&T&4&&bE(d,g);break;case 13:Us(d,g,o),o&&T&4&&xE(d,g);break;case 22:g.memoizedState===null&&Us(d,g,o),bc(g,g.return);break;case 30:break;default:Us(d,g,o)}r=r.sibling}}function mp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&lc(o))}function pp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&lc(i))}function Ci(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wE(i,r,o,c),r=r.sibling}function wE(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Ci(i,r,o,c),d&2048&&Tc(9,r);break;case 1:Ci(i,r,o,c);break;case 3:Ci(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&lc(i)));break;case 12:if(d&2048){Ci(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){nt(r,r.return,M)}}else Ci(i,r,o,c);break;case 31:Ci(i,r,o,c);break;case 13:Ci(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Ci(i,r,o,c):xc(i,r):g._visibility&2?Ci(i,r,o,c):(g._visibility|=2,Bo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&mp(T,r);break;case 24:Ci(i,r,o,c),d&2048&&pp(r.alternate,r);break;default:Ci(i,r,o,c)}}function Bo(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,S=o,M=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Bo(g,T,S,M,d),Tc(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Bo(g,T,S,M,d):xc(g,T):(J._visibility|=2,Bo(g,T,S,M,d)),d&&Y&2048&&mp(T.alternate,T);break;case 24:Bo(g,T,S,M,d),d&&Y&2048&&pp(T.alternate,T);break;default:Bo(g,T,S,M,d)}r=r.sibling}}function xc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:xc(o,c),d&2048&&mp(c.alternate,c);break;case 24:xc(o,c),d&2048&&pp(c.alternate,c);break;default:xc(o,c)}r=r.sibling}}var Sc=8192;function Fo(i,r,o){if(i.subtreeFlags&Sc)for(i=i.child;i!==null;)RE(i,r,o),i=i.sibling}function RE(i,r,o){switch(i.tag){case 26:Fo(i,r,o),i.flags&Sc&&i.memoizedState!==null&&NN(o,Ii,i.memoizedState,i.memoizedProps);break;case 5:Fo(i,r,o);break;case 3:case 4:var c=Ii;Ii=Zh(i.stateNode.containerInfo),Fo(i,r,o),Ii=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Sc,Sc=16777216,Fo(i,r,o),Sc=c):Fo(i,r,o));break;default:Fo(i,r,o)}}function IE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ac(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Wt=c,NE(c,i)}IE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)CE(i),i=i.sibling}function CE(i){switch(i.tag){case 0:case 11:case 15:Ac(i),i.flags&2048&&wr(9,i,i.return);break;case 3:Ac(i);break;case 12:Ac(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,zh(i)):Ac(i);break;default:Ac(i)}}function zh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Wt=c,NE(c,i)}IE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:wr(8,r,r.return),zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,zh(r));break;default:zh(r)}i=i.sibling}}function NE(i,r){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:wr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:lc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Wt=c;else e:for(o=i;Wt!==null;){c=Wt;var d=c.sibling,g=c.return;if(EE(c),c===o){Wt=null;break e}if(d!==null){d.return=g,Wt=d;break e}Wt=g}}}var GC={getCacheForType:function(i){var r=nn(jt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return nn(jt).controller.signal}},KC=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,je=null,ze=0,tt=0,Fn=null,Rr=!1,Ho=!1,gp=!1,zs=0,xt=0,Ir=0,ja=0,yp=0,Hn=0,qo=0,wc=null,Dn=null,vp=!1,Bh=0,DE=0,Fh=1/0,Hh=null,Cr=null,Kt=0,Nr=null,Go=null,Bs=0,_p=0,Ep=null,OE=null,Rc=0,Tp=null;function qn(){return(We&2)!==0&&ze!==0?ze&-ze:$.T!==null?Rp():qu()}function ME(){if(Hn===0)if((ze&536870912)===0||Ke){var i=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),Hn=i}else Hn=536870912;return i=zn.current,i!==null&&(i.flags|=32),Hn}function On(i,r,o){(i===ct&&(tt===2||tt===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),Dr(i,ze,Hn,!1)),fa(i,o),((We&2)===0||i!==ct)&&(i===ct&&((We&2)===0&&(ja|=o),xt===4&&Dr(i,ze,Hn,!1)),us(i))}function VE(i,r,o){if((We&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||_i(i,r),d=c?QC(i,r):xp(i,r,!0),g=c;do{if(d===0){Ho&&!c&&Dr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!YC(o)){d=xp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=i;d=wc;var M=S.current.memoizedState.isDehydrated;if(M&&(Ko(S,T).flags|=256),T=xp(S,T,!1),T!==2){if(gp&&!M){S.errorRecoveryDisabledLanes|=g,ja|=g,d=4;break e}g=Dn,Dn=d,g!==null&&(Dn===null?Dn=g:Dn.push.apply(Dn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Ko(i,0),Dr(i,r,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(c,r,Hn,!Rr);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Bh+300-_t(),10<d)){if(Dr(c,r,Hn,!Rr),Ki(c,0,!0)!==0)break e;Bs=r,c.timeoutHandle=hT(PE.bind(null,c,o,Dn,Hh,vp,r,Hn,ja,qo,Rr,g,"Throttled",-0,0),d);break e}PE(c,o,Dn,Hh,vp,r,Hn,ja,qo,Rr,g,null,-0,0)}}break}while(!0);us(i)}function PE(i,r,o,c,d,g,T,S,M,Y,J,se,Q,W){if(i.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},RE(r,g,se);var ye=(g&62914560)===g?Bh-_t():(g&4194048)===g?DE-_t():0;if(ye=DN(se,ye),ye!==null){Bs=g,i.cancelPendingCommit=ye(HE.bind(null,i,r,g,o,c,d,T,S,M,J,se,null,Q,W)),Dr(i,g,T,!Y);return}}HE(i,r,g,o,c,d,T,S,M)}function YC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!jn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(i,r,o,c){r&=~yp,r&=~ja,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var g=31-Rt(d),T=1<<g;c[g]=-1,d&=~T}o!==0&&da(i,o,r)}function qh(){return(We&6)===0?(Ic(0),!1):!0}function bp(){if(je!==null){if(tt===0)var i=je.return;else i=je,Ns=Ca=null,jm(i),ko=null,uc=0,i=je;for(;i!==null;)fE(i.alternate,i),i=i.return;je=null}}function Ko(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,dN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Bs=0,bp(),ct=i,je=o=Is(i.current,null),ze=r,tt=0,Fn=null,Rr=!1,Ho=_i(i,r),gp=!1,qo=Hn=yp=ja=Ir=xt=0,Dn=wc=null,vp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-Rt(c),g=1<<d;r|=i[d],c&=~g}return zs=r,hh(),o}function kE(i,r){Ve=null,$.H=vc,r===Po||r===_h?(r=J_(),tt=3):r===wm?(r=J_(),tt=4):tt=r===ep?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,je===null&&(xt=1,Mh(i,ii(r,i.current)))}function LE(){var i=zn.current;return i===null?!0:(ze&4194048)===ze?oi===null:(ze&62914560)===ze||(ze&536870912)!==0?i===oi:!1}function jE(){var i=$.H;return $.H=vc,i===null?vc:i}function UE(){var i=$.A;return $.A=GC,i}function Gh(){xt=4,Rr||(ze&4194048)!==ze&&zn.current!==null||(Ho=!0),(Ir&134217727)===0&&(ja&134217727)===0||ct===null||Dr(ct,ze,Hn,!1)}function xp(i,r,o){var c=We;We|=2;var d=jE(),g=UE();(ct!==i||ze!==r)&&(Hh=null,Ko(i,r)),r=!1;var T=xt;e:do try{if(tt!==0&&je!==null){var S=je,M=Fn;switch(tt){case 8:bp(),T=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(r=!0);var Y=tt;if(tt=0,Fn=null,Yo(i,S,M,Y),o&&Ho){T=0;break e}break;default:Y=tt,tt=0,Fn=null,Yo(i,S,M,Y)}}$C(),T=xt;break}catch(J){kE(i,J)}while(!0);return r&&i.shellSuspendCounter++,Ns=Ca=null,We=c,$.H=d,$.A=g,je===null&&(ct=null,ze=0,hh()),T}function $C(){for(;je!==null;)zE(je)}function QC(i,r){var o=We;We|=2;var c=jE(),d=UE();ct!==i||ze!==r?(Hh=null,Fh=_t()+500,Ko(i,r)):Ho=_i(i,r);e:do try{if(tt!==0&&je!==null){r=je;var g=Fn;t:switch(tt){case 1:tt=0,Fn=null,Yo(i,r,g,1);break;case 2:case 9:if(X_(g)){tt=0,Fn=null,BE(r);break}r=function(){tt!==2&&tt!==9||ct!==i||(tt=7),us(i)},g.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:X_(g)?(tt=0,Fn=null,BE(r)):(tt=0,Fn=null,Yo(i,r,g,7));break;case 5:var T=null;switch(je.tag){case 26:T=je.memoizedState;case 5:case 27:var S=je;if(T?wT(T):S.stateNode.complete){tt=0,Fn=null;var M=S.sibling;if(M!==null)je=M;else{var Y=S.return;Y!==null?(je=Y,Kh(Y)):je=null}break t}}tt=0,Fn=null,Yo(i,r,g,5);break;case 6:tt=0,Fn=null,Yo(i,r,g,6);break;case 8:bp(),xt=6;break e;default:throw Error(s(462))}}XC();break}catch(J){kE(i,J)}while(!0);return Ns=Ca=null,$.H=c,$.A=d,We=o,je!==null?0:(ct=null,ze=0,hh(),xt)}function XC(){for(;je!==null&&!Fi();)zE(je)}function zE(i){var r=uE(i.alternate,i,zs);i.memoizedProps=i.pendingProps,r===null?Kh(i):je=r}function BE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=sE(o,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=sE(o,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:jm(r);default:fE(o,r),r=je=U_(r,zs),r=uE(o,r,zs)}i.memoizedProps=i.pendingProps,r===null?Kh(i):je=r}function Yo(i,r,o,c){Ns=Ca=null,jm(r),ko=null,uc=0;var d=r.return;try{if(jC(i,d,r,o,ze)){xt=1,Mh(i,ii(o,i.current)),je=null;return}}catch(g){if(d!==null)throw je=d,g;xt=1,Mh(i,ii(o,i.current)),je=null;return}r.flags&32768?(Ke||c===1?i=!0:Ho||(ze&536870912)!==0?i=!1:(Rr=i=!0,(c===2||c===9||c===3||c===6)&&(c=zn.current,c!==null&&c.tag===13&&(c.flags|=16384))),FE(r,i)):Kh(r)}function Kh(i){var r=i;do{if((r.flags&32768)!==0){FE(r,Rr);return}i=r.return;var o=BC(r.alternate,r,zs);if(o!==null){je=o;return}if(r=r.sibling,r!==null){je=r;return}je=r=i}while(r!==null);xt===0&&(xt=5)}function FE(i,r){do{var o=FC(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);xt=6,je=null}function HE(i,r,o,c,d,g,T,S,M){i.cancelPendingCommit=null;do Yh();while(Kt!==0);if((We&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=hm,nm(i,o,g,T,S,M),i===ct&&(je=ct=null,ze=0),Go=r,Nr=i,Bs=o,_p=g,Ep=d,OE=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eN(Hi,function(){return $E(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,d=re.p,re.p=2,T=We,We|=4;try{HC(i,r,o)}finally{We=T,re.p=d,$.T=c}}Kt=1,qE(),GE(),KE()}}function qE(){if(Kt===1){Kt=0;var i=Nr,r=Go,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=re.p;re.p=2;var d=We;We|=4;try{SE(r,i);var g=Pp,T=N_(i.containerInfo),S=g.focusedElem,M=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&C_(S.ownerDocument.documentElement,S)){if(M!==null&&am(S)){var Y=M.start,J=M.end;if(J===void 0&&(J=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(J,S.value.length);else{var se=S.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),ye=S.textContent.length,Ae=Math.min(M.start,ye),ot=M.end===void 0?Ae:Math.min(M.end,ye);!W.extend&&Ae>ot&&(T=ot,ot=Ae,Ae=T);var H=I_(S,Ae),U=I_(S,ot);if(H&&U&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var K=se.createRange();K.setStart(H.node,H.offset),W.removeAllRanges(),Ae>ot?(W.addRange(K),W.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),W.addRange(K))}}}}for(se=[],W=S;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ee=se[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}af=!!Vp,Pp=Vp=null}finally{We=d,re.p=c,$.T=o}}i.current=r,Kt=2}}function GE(){if(Kt===2){Kt=0;var i=Nr,r=Go,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=re.p;re.p=2;var d=We;We|=4;try{_E(i,r.alternate,r)}finally{We=d,re.p=c,$.T=o}}Kt=3}}function KE(){if(Kt===4||Kt===3){Kt=0,xs();var i=Nr,r=Go,o=Bs,c=OE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,Go=Nr=null,YE(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Cr=null),Ss(o),r=r.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(vi,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=$.T,d=re.p,re.p=2,$.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{$.T=r,re.p=d}}(Bs&3)!==0&&Yh(),us(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Tp?Rc++:(Rc=0,Tp=i):Rc=0,Ic(0)}}function YE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,lc(r)))}function Yh(){return qE(),GE(),KE(),$E()}function $E(){if(Kt!==5)return!1;var i=Nr,r=_p;_p=0;var o=Ss(Bs),c=$.T,d=re.p;try{re.p=32>o?32:o,$.T=null,o=Ep,Ep=null;var g=Nr,T=Bs;if(Kt=0,Go=Nr=null,Bs=0,(We&6)!==0)throw Error(s(331));var S=We;if(We|=4,CE(g.current),wE(g,g.current,T,o),We=S,Ic(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(vi,g)}catch{}return!0}finally{re.p=d,$.T=c,YE(i,r)}}function QE(i,r,o){r=ii(o,r),r=Zm(i.stateNode,r,2),i=xr(i,r,2),i!==null&&(fa(i,2),us(i))}function nt(i,r,o){if(i.tag===3)QE(i,i,o);else for(;r!==null;){if(r.tag===3){QE(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Cr===null||!Cr.has(c))){i=ii(o,i),o=X0(2),c=xr(r,o,2),c!==null&&(W0(o,c,r,i),fa(c,2),us(c));break}}r=r.return}}function Sp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new KC;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(gp=!0,d.add(o),i=WC.bind(null,i,r,o),r.then(i,i))}function WC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ct===i&&(ze&o)===o&&(xt===4||xt===3&&(ze&62914560)===ze&&300>_t()-Bh?(We&2)===0&&Ko(i,0):yp|=o,qo===ze&&(qo=0)),us(i)}function XE(i,r){r===0&&(r=Hu()),i=wa(i,r),i!==null&&(fa(i,r),us(i))}function JC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),XE(i,o)}function ZC(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),XE(i,o)}function eN(i,r){return it(i,r)}var $h=null,$o=null,Ap=!1,Qh=!1,wp=!1,Or=0;function us(i){i!==$o&&i.next===null&&($o===null?$h=$o=i:$o=$o.next=i),Qh=!0,Ap||(Ap=!0,nN())}function Ic(i,r){if(!wp&&Qh){wp=!0;do for(var o=!1,c=$h;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Rt(42|i)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,eT(c,g))}else g=ze,g=Ki(c,c===ct?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||_i(c,g)||(o=!0,eT(c,g));c=c.next}while(o);wp=!1}}function tN(){WE()}function WE(){Qh=Ap=!1;var i=0;Or!==0&&fN()&&(i=Or);for(var r=_t(),o=null,c=$h;c!==null;){var d=c.next,g=JE(c,r);g===0?(c.next=null,o===null?$h=d:o.next=d,d===null&&($o=o)):(o=c,(i!==0||(g&3)!==0)&&(Qh=!0)),c=d}Kt!==0&&Kt!==5||Ic(i),Or!==0&&(Or=0)}function JE(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Rt(g),S=1<<T,M=d[T];M===-1?((S&o)===0||(S&c)!==0)&&(d[T]=tm(S,r)):M<=r&&(i.expiredLanes|=S),g&=~S}if(r=ct,o=ze,o=Ki(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(tt===2||tt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Bi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||_i(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Bi(c),Ss(o)){case 2:case 8:o=or;break;case 32:o=Hi;break;case 268435456:o=ju;break;default:o=Hi}return c=ZE.bind(null,i),o=it(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Bi(c),i.callbackPriority=2,i.callbackNode=null,2}function ZE(i,r){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Yh()&&i.callbackNode!==o)return null;var c=ze;return c=Ki(i,i===ct?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(VE(i,c,r),JE(i,_t()),i.callbackNode!=null&&i.callbackNode===o?ZE.bind(null,i):null)}function eT(i,r){if(Yh())return null;VE(i,r,!0)}function nN(){mN(function(){(We&6)!==0?it(uo,tN):WE()})}function Rp(){if(Or===0){var i=Mo;i===0&&(i=qi,qi<<=1,(qi&261888)===0&&(qi=256)),Or=i}return Or}function tT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:vo(""+i)}function nT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function iN(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var g=tT((d[Qt]||null).action),T=c.submitter;T&&(r=(r=T[Qt]||null)?tT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new is("action","action",null,c,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Or!==0){var M=T?nT(d,T):new FormData(d);Ym(o,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=T?nT(d,T):new FormData(d),Ym(o,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var Ip=0;Ip<um.length;Ip++){var Cp=um[Ip],sN=Cp.toLowerCase(),rN=Cp[0].toUpperCase()+Cp.slice(1);Ri(sN,"on"+rN)}Ri(M_,"onAnimationEnd"),Ri(V_,"onAnimationIteration"),Ri(P_,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(TC,"onTransitionRun"),Ri(bC,"onTransitionStart"),Ri(xC,"onTransitionCancel"),Ri(k_,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cc));function iT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var S=c[T],M=S.instance,Y=S.currentTarget;if(S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=Y;try{g(d)}catch(J){uh(J)}d.currentTarget=null,g=M}else for(T=0;T<c.length;T++){if(S=c[T],M=S.instance,Y=S.currentTarget,S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=Y;try{g(d)}catch(J){uh(J)}d.currentTarget=null,g=M}}}}function Ue(i,r){var o=r[fo];o===void 0&&(o=r[fo]=new Set);var c=i+"__bubble";o.has(c)||(sT(r,i,2,!1),o.add(c))}function Np(i,r,o){var c=0;r&&(c|=4),sT(o,i,c,r)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function Dp(i){if(!i[Xh]){i[Xh]=!0,Bl.forEach(function(o){o!=="selectionchange"&&(aN.has(o)||Np(o,!1,i),Np(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Xh]||(r[Xh]=!0,Np("selectionchange",!1,r))}}function sT(i,r,o,c){switch(MT(r)){case 2:var d=VN;break;case 8:d=PN;break;default:d=Kp}o=d.bind(null,r,o,i),d=void 0,!va||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Op(i,r,o,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=c.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Xi(S),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){c=g=T;continue e}S=S.parentNode}}c=c.return}dr(function(){var Y=g,J=Zn(o),se=[];e:{var Q=L_.get(i);if(Q!==void 0){var W=is,ye=i;switch(i){case"keypress":if(Ea(o)===0)break e;case"keydown":case"keyup":W=oh;break;case"focusin":ye="focus",W=ba;break;case"focusout":ye="blur",W=ba;break;case"beforeblur":case"afterblur":W=ba;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case M_:case V_:case P_:W=eh;break;case k_:W=A;break;case"scroll":case"scrollend":W=Zl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Rs;break;case"toggle":case"beforetoggle":W=Me}var Ae=(r&4)!==0,ot=!Ae&&(i==="scroll"||i==="scrollend"),H=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var U=Y,K;U!==null;){var ee=U;if(K=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||K===null||H===null||(ee=xi(U,H),ee!=null&&Ae.push(Nc(U,ee,K))),ot)break;U=U.return}0<Ae.length&&(Q=new W(Q,ye,null,o,J),se.push({event:Q,listeners:Ae}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==Xl&&(ye=o.relatedTarget||o.fromElement)&&(Xi(ye)||ye[$i]))break e;if((W||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(ye=o.relatedTarget||o.toElement,W=Y,ye=ye?Xi(ye):null,ye!==null&&(ot=l(ye),Ae=ye.tag,ye!==ot||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(W=null,ye=Y),W!==ye)){if(Ae=ec,ee="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=Rs,ee="onPointerLeave",H="onPointerEnter",U="pointer"),ot=W==null?Q:kn(W),K=ye==null?Q:kn(ye),Q=new Ae(ee,U+"leave",W,o,J),Q.target=ot,Q.relatedTarget=K,ee=null,Xi(J)===Y&&(Ae=new Ae(H,U+"enter",ye,o,J),Ae.target=K,Ae.relatedTarget=ot,ee=Ae),ot=ee,W&&ye)t:{for(Ae=oN,H=W,U=ye,K=0,ee=H;ee;ee=Ae(ee))K++;ee=0;for(var be=U;be;be=Ae(be))ee++;for(;0<K-ee;)H=Ae(H),K--;for(;0<ee-K;)U=Ae(U),ee--;for(;K--;){if(H===U||U!==null&&H===U.alternate){Ae=H;break t}H=Ae(H),U=Ae(U)}Ae=null}else Ae=null;W!==null&&rT(se,Q,W,Ae,!1),ye!==null&&ot!==null&&rT(se,ot,ye,Ae,!0)}}e:{if(Q=Y?kn(Y):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var $e=b_;else if(E_(Q))if(x_)$e=vC;else{$e=gC;var _e=pC}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&yo(Y.elementType)&&($e=b_):$e=yC;if($e&&($e=$e(i,Y))){T_(se,$e,o,J);break e}_e&&_e(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Yl(Q,"number",Q.value)}switch(_e=Y?kn(Y):window,i){case"focusin":(E_(_e)||_e.contentEditable==="true")&&(Ao=_e,om=Y,rc=null);break;case"focusout":rc=om=Ao=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,D_(se,o,J);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":D_(se,o,J)}var ke;if(Xe)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else So?xa(i,o)&&(Be="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(as&&o.locale!=="ko"&&(So||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&So&&(ke=Jl()):(ns=J,Wl="value"in ns?ns.value:ns.textContent,So=!0)),_e=Wh(Y,Be),0<_e.length&&(Be=new rs(Be,i,null,o,J),se.push({event:Be,listeners:_e}),ke?Be.data=ke:(ke=xo(o),ke!==null&&(Be.data=ke)))),(ke=ti?hC(i,o):fC(i,o))&&(Be=Wh(Y,"onBeforeInput"),0<Be.length&&(_e=new rs("onBeforeInput","beforeinput",null,o,J),se.push({event:_e,listeners:Be}),_e.data=ke)),iN(se,i,Y,o,J)}iT(se,r)})}function Nc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Wh(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=xi(i,o),d!=null&&c.unshift(Nc(i,d,g)),d=xi(i,r),d!=null&&c.push(Nc(i,d,g))),i.tag===3)return c;i=i.return}return[]}function oN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function rT(i,r,o,c,d){for(var g=r._reactName,T=[];o!==null&&o!==c;){var S=o,M=S.alternate,Y=S.stateNode;if(S=S.tag,M!==null&&M===c)break;S!==5&&S!==26&&S!==27||Y===null||(M=Y,d?(Y=xi(o,g),Y!=null&&T.unshift(Nc(o,Y,M))):d||(Y=xi(o,g),Y!=null&&T.push(Nc(o,Y,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var lN=/\r\n?/g,cN=/\u0000|\uFFFD/g;function aT(i){return(typeof i=="string"?i:""+i).replace(lN,`
`).replace(cN,"")}function oT(i,r){return r=aT(r),aT(i)===r}function at(i,r,o,c,d,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Rn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Rn(i,""+c);break;case"className":Ln(i,"class",c);break;case"tabIndex":Ln(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(i,o,c);break;case"style":Ql(i,c,g);break;case"data":if(r!=="object"){Ln(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=vo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&at(i,r,"name",d.name,d,null),at(i,r,"formEncType",d.formEncType,d,null),at(i,r,"formMethod",d.formMethod,d,null),at(i,r,"formTarget",d.formTarget,d,null)):(at(i,r,"encType",d.encType,d,null),at(i,r,"method",d.method,d,null),at(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=vo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=bi);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=vo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),po(i,"popover",c);break;case"xlinkActuate":Lt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Lt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Lt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Lt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Lt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Lt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Lt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Lt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Lt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":po(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wu.get(o)||o,po(i,o,c))}}function Mp(i,r,o,c,d,g){switch(o){case"style":Ql(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Rn(i,c):(typeof c=="number"||typeof c=="bigint")&&Rn(i,""+c);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"onClick":c!=null&&(i.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):po(i,o,c)}}}function rn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(i,r,g,T,o,null)}}d&&at(i,r,"srcSet",o.srcSet,o,null),c&&at(i,r,"src",o.src,o,null);return;case"input":Ue("invalid",i);var S=g=T=d=null,M=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":d=J;break;case"type":T=J;break;case"checked":M=J;break;case"defaultChecked":Y=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:at(i,r,c,J,o,null)}}$u(i,g,S,M,Y,T,d,!1);return;case"select":Ue("invalid",i),c=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:at(i,r,d,S,o,null)}r=g,o=T,i.multiple=!!c,r!=null?cr(i,!!c,r,!1):o!=null&&cr(i,!!c,o,!0);return;case"textarea":Ue("invalid",i),g=d=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:at(i,r,T,S,o,null)}ur(i,c,d,g);return;case"option":for(M in o)o.hasOwnProperty(M)&&(c=o[M],c!=null)&&(M==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":at(i,r,M,c,o,null));return;case"dialog":Ue("beforetoggle",i),Ue("toggle",i),Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(c=0;c<Cc.length;c++)Ue(Cc[c],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(i,r,Y,c,o,null)}return;default:if(yo(r)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&Mp(i,r,J,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&at(i,r,S,c,o,null))}function uN(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,M=null,Y=null,J=null;for(W in o){var se=o[W];if(o.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=se;default:c.hasOwnProperty(W)||at(i,r,W,null,c,se)}}for(var Q in c){var W=c[Q];if(se=o[Q],c.hasOwnProperty(Q)&&(W!=null||se!=null))switch(Q){case"type":g=W;break;case"name":d=W;break;case"checked":Y=W;break;case"defaultChecked":J=W;break;case"value":T=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==se&&at(i,r,Q,W,c,se)}}go(i,T,S,M,Y,J,g,d);return;case"select":W=T=S=Q=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":W=M;default:c.hasOwnProperty(g)||at(i,r,g,null,c,M)}for(d in c)if(g=c[d],M=o[d],c.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==M&&at(i,r,d,g,c,M)}r=S,o=T,c=W,Q!=null?cr(i,!!o,Q,!1):!!c!=!!o&&(r!=null?cr(i,!!o,r,!0):cr(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:at(i,r,S,null,c,d)}for(T in c)if(d=c[T],g=o[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Q=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&at(i,r,T,d,c,g)}Qu(i,Q,W);return;case"option":for(var ye in o)Q=o[ye],o.hasOwnProperty(ye)&&Q!=null&&!c.hasOwnProperty(ye)&&(ye==="selected"?i.selected=!1:at(i,r,ye,null,c,Q));for(M in c)Q=c[M],W=o[M],c.hasOwnProperty(M)&&Q!==W&&(Q!=null||W!=null)&&(M==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":at(i,r,M,Q,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Q=o[Ae],o.hasOwnProperty(Ae)&&Q!=null&&!c.hasOwnProperty(Ae)&&at(i,r,Ae,null,c,Q);for(Y in c)if(Q=c[Y],W=o[Y],c.hasOwnProperty(Y)&&Q!==W&&(Q!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:at(i,r,Y,Q,c,W)}return;default:if(yo(r)){for(var ot in o)Q=o[ot],o.hasOwnProperty(ot)&&Q!==void 0&&!c.hasOwnProperty(ot)&&Mp(i,r,ot,void 0,c,Q);for(J in c)Q=c[J],W=o[J],!c.hasOwnProperty(J)||Q===W||Q===void 0&&W===void 0||Mp(i,r,J,Q,c,W);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!c.hasOwnProperty(H)&&at(i,r,H,null,c,Q);for(se in c)Q=c[se],W=o[se],!c.hasOwnProperty(se)||Q===W||Q==null&&W==null||at(i,r,se,Q,c,W)}function lT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,T=d.initiatorType,S=d.duration;if(g&&S&&lT(T)){for(T=0,S=d.responseEnd,c+=1;c<o.length;c++){var M=o[c],Y=M.startTime;if(Y>S)break;var J=M.transferSize,se=M.initiatorType;J&&lT(se)&&(M=M.responseEnd,T+=J*(M<S?1:(S-Y)/(M-Y)))}if(--c,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Vp=null,Pp=null;function Jh(i){return i.nodeType===9?i:i.ownerDocument}function cT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function kp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Lp=null;function fN(){var i=window.event;return i&&i.type==="popstate"?i===Lp?!1:(Lp=i,!0):(Lp=null,!1)}var hT=typeof setTimeout=="function"?setTimeout:void 0,dN=typeof clearTimeout=="function"?clearTimeout:void 0,fT=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof fT<"u"?function(i){return fT.resolve(null).then(i).catch(pN)}:hT;function pN(i){setTimeout(function(){throw i})}function Mr(i){return i==="head"}function dT(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),Jo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Dc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Dc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Qi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Dc(i.ownerDocument.body);o=d}while(o);Jo(r)}function mT(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jp(o),mo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function gN(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Qi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=li(i.nextSibling),i===null)break}return null}function yN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=li(i.nextSibling),i===null))return null;return i}function pT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=li(i.nextSibling),i===null))return null;return i}function Up(i){return i.data==="$?"||i.data==="$~"}function zp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function vN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function li(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Bp=null;function gT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return li(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function yT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function vT(i,r,o){switch(r=Jh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Dc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);mo(i)}var ci=new Map,_T=new Set;function Zh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fs=re.d;re.d={f:_N,r:EN,D:TN,C:bN,L:xN,m:SN,X:wN,S:AN,M:RN};function _N(){var i=Fs.f(),r=qh();return i||r}function EN(i){var r=Jn(i);r!==null&&r.tag===5&&r.type==="form"?k0(r):Fs.r(i)}var Qo=typeof document>"u"?null:document;function ET(i,r,o){var c=Qo;if(c&&typeof r=="string"&&r){var d=wn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),_T.has(d)||(_T.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),rn(r,"link",i),kt(r),c.head.appendChild(r)))}}function TN(i){Fs.D(i),ET("dns-prefetch",i,null)}function bN(i,r){Fs.C(i,r),ET("preconnect",i,r)}function xN(i,r,o){Fs.L(i,r,o);var c=Qo;if(c&&i&&r){var d='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+wn(o.imageSizes)+'"]')):d+='[href="'+wn(i)+'"]';var g=d;switch(r){case"style":g=Xo(i);break;case"script":g=Wo(i)}ci.has(g)||(i=E({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ci.set(g,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Oc(g))||r==="script"&&c.querySelector(Mc(g))||(r=c.createElement("link"),rn(r,"link",i),kt(r),c.head.appendChild(r)))}}function SN(i,r){Fs.m(i,r);var o=Qo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+wn(c)+'"][href="'+wn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Wo(i)}if(!ci.has(g)&&(i=E({rel:"modulepreload",href:i},r),ci.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Mc(g)))return}c=o.createElement("link"),rn(c,"link",i),kt(c),o.head.appendChild(c)}}}function AN(i,r,o){Fs.S(i,r,o);var c=Qo;if(c&&i){var d=Wi(c).hoistableStyles,g=Xo(i);r=r||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Oc(g)))S.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ci.get(g))&&Fp(i,o);var M=T=c.createElement("link");kt(M),rn(M,"link",i),M._p=new Promise(function(Y,J){M.onload=Y,M.onerror=J}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ef(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function wN(i,r){Fs.X(i,r);var o=Qo;if(o&&i){var c=Wi(o).hoistableScripts,d=Wo(i),g=c.get(d);g||(g=o.querySelector(Mc(d)),g||(i=E({src:i,async:!0},r),(r=ci.get(d))&&Hp(i,r),g=o.createElement("script"),kt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function RN(i,r){Fs.M(i,r);var o=Qo;if(o&&i){var c=Wi(o).hoistableScripts,d=Wo(i),g=c.get(d);g||(g=o.querySelector(Mc(d)),g||(i=E({src:i,async:!0,type:"module"},r),(r=ci.get(d))&&Hp(i,r),g=o.createElement("script"),kt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function TT(i,r,o,c){var d=(d=Ce.current)?Zh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Xo(o.href),o=Wi(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Xo(o.href);var g=Wi(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(Oc(i)))&&!g._p&&(T.instance=g,T.state.loading=5),ci.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ci.set(i,o),g||IN(d,i,o,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wo(o),o=Wi(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Xo(i){return'href="'+wn(i)+'"'}function Oc(i){return'link[rel="stylesheet"]['+i+"]"}function bT(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function IN(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),rn(r,"link",o),kt(r),i.head.appendChild(r))}function Wo(i){return'[src="'+wn(i)+'"]'}function Mc(i){return"script[async]"+i}function xT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+wn(o.href)+'"]');if(c)return r.instance=c,kt(c),c;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),kt(c),rn(c,"style",d),ef(c,o.precedence,i),r.instance=c;case"stylesheet":d=Xo(o.href);var g=i.querySelector(Oc(d));if(g)return r.state.loading|=4,r.instance=g,kt(g),g;c=bT(o),(d=ci.get(d))&&Fp(c,d),g=(i.ownerDocument||i).createElement("link"),kt(g);var T=g;return T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),rn(g,"link",c),r.state.loading|=4,ef(g,o.precedence,i),r.instance=g;case"script":return g=Wo(o.src),(d=i.querySelector(Mc(g)))?(r.instance=d,kt(d),d):(c=o,(d=ci.get(g))&&(c=E({},o),Hp(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),kt(d),rn(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,ef(c,o.precedence,i));return r.instance}function ef(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Fp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Hp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var tf=null;function ST(i,r,o){if(tf===null){var c=new Map,d=tf=new Map;d.set(o,c)}else d=tf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Qi]||g[Pt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function AT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function CN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function NN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Xo(c.href),g=r.querySelector(Oc(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=nf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,kt(g);return}g=r.ownerDocument||r,c=bT(c),(d=ci.get(d))&&Fp(c,d),g=g.createElement("link"),kt(g);var T=g;T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),rn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=nf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var qp=0;function DN(i,r){return i.stylesheets&&i.count===0&&rf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&qp===0&&(qp=62500*hN());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>qp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function nf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var sf=null;function rf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,sf=new Map,r.forEach(ON,i),sf=null,nf.call(i))}function ON(i,r){if(!(r.state.loading&4)){var o=sf.get(i);if(o)var c=o.get(null);else{o=new Map,sf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,d),o.set(T,d),this.count++,c=nf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Vc={$$typeof:z,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function MN(i,r,o,c,d,g,T,S,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function RT(i,r,o,c,d,g,T,S,M,Y,J,se){return i=new MN(i,r,o,T,M,Y,J,se,S),r=1,g===!0&&(r|=24),g=Un(3,null,null,r),i.current=g,g.stateNode=i,r=xm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Rm(g),i}function IT(i){return i?(i=Io,i):Io}function CT(i,r,o,c,d,g){d=IT(d),c.context===null?c.context=d:c.pendingContext=d,c=br(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=xr(i,c,r),o!==null&&(On(o,i,r),fc(o,i,r))}function NT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Gp(i,r){NT(i,r),(i=i.alternate)&&NT(i,r)}function DT(i){if(i.tag===13||i.tag===31){var r=wa(i,67108864);r!==null&&On(r,i,67108864),Gp(i,67108864)}}function OT(i){if(i.tag===13||i.tag===31){var r=qn();r=ma(r);var o=wa(i,r);o!==null&&On(o,i,r),Gp(i,r)}}var af=!0;function VN(i,r,o,c){var d=$.T;$.T=null;var g=re.p;try{re.p=2,Kp(i,r,o,c)}finally{re.p=g,$.T=d}}function PN(i,r,o,c){var d=$.T;$.T=null;var g=re.p;try{re.p=8,Kp(i,r,o,c)}finally{re.p=g,$.T=d}}function Kp(i,r,o,c){if(af){var d=Yp(c);if(d===null)Op(i,r,c,of,o),VT(i,c);else if(LN(d,i,r,o,c))c.stopPropagation();else if(VT(i,c),r&4&&-1<kN.indexOf(i)){for(;d!==null;){var g=Jn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Gi(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var M=1<<31-Rt(T);S.entanglements[1]|=M,T&=~M}us(g),(We&6)===0&&(Fh=_t()+500,Ic(0))}}break;case 31:case 13:S=wa(g,2),S!==null&&On(S,g,2),qh(),Gp(g,2)}if(g=Yp(c),g===null&&Op(i,r,c,of,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Op(i,r,c,null,o)}}function Yp(i){return i=Zn(i),$p(i)}var of=null;function $p(i){if(of=null,i=Xi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return of=i,null}function MT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case uo:return 2;case or:return 8;case Hi:case em:return 32;case ju:return 268435456;default:return 32}default:return 32}}var Qp=!1,Vr=null,Pr=null,kr=null,Pc=new Map,kc=new Map,Lr=[],kN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VT(i,r){switch(i){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Pc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(r.pointerId)}}function Lc(i,r,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Jn(r),r!==null&&DT(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function LN(i,r,o,c,d){switch(r){case"focusin":return Vr=Lc(Vr,i,r,o,c,d),!0;case"dragenter":return Pr=Lc(Pr,i,r,o,c,d),!0;case"mouseover":return kr=Lc(kr,i,r,o,c,d),!0;case"pointerover":var g=d.pointerId;return Pc.set(g,Lc(Pc.get(g)||null,i,r,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,kc.set(g,Lc(kc.get(g)||null,i,r,o,c,d)),!0}return!1}function PT(i){var r=Xi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){OT(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){OT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function lf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Yp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Xl=c,o.target.dispatchEvent(c),Xl=null}else return r=Jn(o),r!==null&&DT(r),i.blockedOn=o,!1;r.shift()}return!0}function kT(i,r,o){lf(i)&&o.delete(r)}function jN(){Qp=!1,Vr!==null&&lf(Vr)&&(Vr=null),Pr!==null&&lf(Pr)&&(Pr=null),kr!==null&&lf(kr)&&(kr=null),Pc.forEach(kT),kc.forEach(kT)}function cf(i,r){i.blockedOn===r&&(i.blockedOn=null,Qp||(Qp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jN)))}var uf=null;function LT(i){uf!==i&&(uf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uf===i&&(uf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if($p(c||o)===null)continue;break}var g=Jn(o);g!==null&&(i.splice(r,3),r-=3,Ym(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Jo(i){function r(M){return cf(M,i)}Vr!==null&&cf(Vr,i),Pr!==null&&cf(Pr,i),kr!==null&&cf(kr,i),Pc.forEach(r),kc.forEach(r);for(var o=0;o<Lr.length;o++){var c=Lr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Lr.length&&(o=Lr[0],o.blockedOn===null);)PT(o),o.blockedOn===null&&Lr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],T=d[Qt]||null;if(typeof g=="function")T||LT(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Qt]||null)S=T.formAction;else if($p(d)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),LT(o)}}}function jT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Xp(i){this._internalRoot=i}hf.prototype.render=Xp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=qn();CT(o,c,i,r,null,null)},hf.prototype.unmount=Xp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;CT(i.current,2,null,i,null,null),qh(),r[$i]=null}};function hf(i){this._internalRoot=i}hf.prototype.unstable_scheduleHydration=function(i){if(i){var r=qu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Lr.length&&r!==0&&r<Lr[o].priority;o++);Lr.splice(o,0,i),o===0&&PT(i)}};var UT=e.version;if(UT!=="19.2.4")throw Error(s(527,UT,"19.2.4"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var UN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{vi=ff.inject(UN),Zt=ff}catch{}}return Uc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=K0,g=Y0,T=$0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=RT(i,1,!1,null,null,o,c,null,d,g,T,jT),i[$i]=r.current,Dp(i),new Xp(r)},Uc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",g=K0,T=Y0,S=$0,M=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=RT(i,1,!0,r,o??null,c,d,M,g,T,S,jT),r.context=IT(null),o=r.current,c=qn(),c=ma(c),d=br(c),d.callback=null,xr(o,d,c),o=c,r.current.lanes=o,fa(r,o),us(r),i[$i]=r.current,Dp(i),new hf(r)},Uc.version="19.2.4",Uc}var QT;function XN(){if(QT)return Zp.exports;QT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zp.exports=QN(),Zp.exports}var WN=XN();var XT="popstate";function JN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return Ug("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ou(a)}return eD(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ki(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZN(){return Math.random().toString(36).substring(2,10)}function WT(t,e){return{usr:t.state,key:t.key,idx:e}}function Ug(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:n,key:e&&e.key||s||ZN()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function eD(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function E(){f="POP";let k=y(),F=k==null?null:k-p;p=k,m&&m({action:f,location:L.location,delta:F})}function b(k,F){f="PUSH";let q=Ug(L.location,k,F);p=y()+1;let z=WT(q,p),ie=L.createHref(q);try{u.pushState(z,"",ie)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(ie)}l&&m&&m({action:f,location:L.location,delta:1})}function w(k,F){f="REPLACE";let q=Ug(L.location,k,F);p=y();let z=WT(q,p),ie=L.createHref(q);u.replaceState(z,"",ie),l&&m&&m({action:f,location:L.location,delta:0})}function D(k){return tD(k)}let L={get action(){return f},get location(){return t(a,u)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(XT,E),m=k,()=>{a.removeEventListener(XT,E),m=null}},createHref(k){return e(a,k)},createURL:D,encodeLocation(k){let F=D(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:w,go(k){return u.go(k)}};return L}function tD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ou(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function aA(t,e,n="/"){return nD(t,e,n,!1)}function nD(t,e,n,s){let a=typeof e=="string"?Al(e):e,l=Js(a.pathname||"/",n);if(l==null)return null;let u=oA(t);iD(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=mD(l);f=fD(u[m],p,s)}return f}function oA(t,e=[],n=[],s="",a=!1){let l=(u,f,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;vt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let E=$s([s,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),oA(u.children,e,b,E,m)),!(u.path==null&&!u.index)&&e.push({path:E,score:uD(E,u.index),routesMeta:b})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of lA(u.path))l(u,f,!0,m)}),e}function lA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=lA(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function iD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sD=/^:[\w-]+$/,rD=3,aD=2,oD=1,lD=10,cD=-2,JT=t=>t==="*";function uD(t,e){let n=t.split("/"),s=n.length;return n.some(JT)&&(s+=cD),e&&(s+=aD),n.filter(a=>!JT(a)).reduce((a,l)=>a+(sD.test(l)?rD:l===""?oD:lD),s)}function hD(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function fD(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",E=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!E&&p&&n&&!s[s.length-1].route.index&&(E=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(a,E.params),u.push({params:a,pathname:$s([l,E.pathname]),pathnameBase:vD($s([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=$s([l,E.pathnameBase]))}return u}function Hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=dD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:E},b)=>{if(y==="*"){let D=f[b]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const w=f[b];return E&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function dD(t,e=!1,n=!0){ki(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function mD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var pD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function gD(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Al(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=ZT(n.substring(1),"/"):l=ZT(n,e)):l=e,{pathname:l,search:_D(s),hash:ED(a)}}function ZT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jy(t){let e=yD(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Uy(t,e,n,s=!1){let a;typeof t=="string"?a=Al(t):(a={...t},vt(!a.pathname||!a.pathname.includes("?"),ig("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),ig("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),ig("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let E=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),E-=1;a.pathname=b.join("/")}f=E>=0?e[E]:"/"}let m=gD(a,f),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var $s=t=>t.join("/").replace(/\/\/+/g,"/"),vD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_D=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ED=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,TD=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function xD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uA(t,e){let n=t;if(typeof n!="string"||!pD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(cA)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Js(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{ki(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hA=["POST","PUT","PATCH","DELETE"];new Set(hA);var SD=["GET",...hA];new Set(SD);var wl=O.createContext(null);wl.displayName="DataRouter";var Ed=O.createContext(null);Ed.displayName="DataRouterState";var AD=O.createContext(!1),fA=O.createContext({isTransitioning:!1});fA.displayName="ViewTransition";var wD=O.createContext(new Map);wD.displayName="Fetchers";var RD=O.createContext(null);RD.displayName="Await";var Qn=O.createContext(null);Qn.displayName="Navigation";var bu=O.createContext(null);bu.displayName="Location";var Ts=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var zy=O.createContext(null);zy.displayName="RouteError";var dA="REACT_ROUTER_ERROR",ID="REDIRECT",CD="ROUTE_ERROR_RESPONSE";function ND(t){if(t.startsWith(`${dA}:${ID}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function DD(t){if(t.startsWith(`${dA}:${CD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new TD(e.status,e.statusText,e.data)}catch{}}function OD(t,{relative:e}={}){vt(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Qn),{hash:a,pathname:l,search:u}=xu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:$s([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Rl(){return O.useContext(bu)!=null}function rr(){return vt(Rl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(bu).location}var mA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pA(t){O.useContext(Qn).static||O.useLayoutEffect(t)}function Il(){let{isDataRoute:t}=O.useContext(Ts);return t?GD():MD()}function MD(){vt(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(wl),{basename:e,navigator:n}=O.useContext(Qn),{matches:s}=O.useContext(Ts),{pathname:a}=rr(),l=JSON.stringify(jy(s)),u=O.useRef(!1);return pA(()=>{u.current=!0}),O.useCallback((m,p={})=>{if(ki(u.current,mA),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=Uy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:$s([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}O.createContext(null);function xu(t,{relative:e}={}){let{matches:n}=O.useContext(Ts),{pathname:s}=rr(),a=JSON.stringify(jy(n));return O.useMemo(()=>Uy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function VD(t,e){return gA(t,e)}function gA(t,e,n,s,a){vt(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Qn),{matches:u}=O.useContext(Ts),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let q=E&&E.path||"";vA(p,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let b=rr(),w;if(e){let q=typeof e=="string"?Al(e):e;vt(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),w=q}else w=b;let D=w.pathname||"/",L=D;if(y!=="/"){let q=y.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=aA(t,{pathname:L});ki(E||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ki(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=UD(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:$s([y,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:$s([y,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,n,s,a);return e&&F?O.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},F):F}function PD(){let t=qD(),e=bD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var kD=O.createElement(PD,null),yA=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=DD(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(Ts.Provider,{value:this.props.routeContext},O.createElement(zy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(LD,{error:t},e):e}};yA.contextType=AD;var sg=new WeakMap;function LD({children:t,error:e}){let{basename:n}=O.useContext(Qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ND(e.digest);if(s){let a=sg.get(e);if(a)throw a;let l=uA(s.location,n);if(cA&&!sg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw sg.set(e,u),u}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function jD({routeContext:t,match:e,children:n}){let s=O.useContext(wl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ts.Provider,{value:t},n)}function UD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let E=l[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=y),E.route.id){let{loaderData:b,errors:w}=n,D=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||D){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,E)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xD(n.matches),errorInfo:E})}:void 0;return l.reduceRight((y,E,b)=>{let w,D=!1,L=null,k=null;n&&(w=u&&E.route.id?u[E.route.id]:void 0,L=E.route.errorElement||kD,f&&(m<0&&b===0?(vA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,k=null):m===b&&(D=!0,k=E.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,b+1)),q=()=>{let z;return w?z=L:D?z=k:E.route.Component?z=O.createElement(E.route.Component,null):E.route.element?z=E.route.element:z=y,O.createElement(jD,{match:E,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:z})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?O.createElement(yA,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:q(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):q()},null)}function By(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zD(t){let e=O.useContext(wl);return vt(e,By(t)),e}function BD(t){let e=O.useContext(Ed);return vt(e,By(t)),e}function FD(t){let e=O.useContext(Ts);return vt(e,By(t)),e}function Fy(t){let e=FD(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HD(){return Fy("useRouteId")}function qD(){let t=O.useContext(zy),e=BD("useRouteError"),n=Fy("useRouteError");return t!==void 0?t:e.errors?.[n]}function GD(){let{router:t}=zD("useNavigate"),e=Fy("useNavigate"),n=O.useRef(!1);return pA(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{ki(n.current,mA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var eb={};function vA(t,e,n){!e&&!eb[t]&&(eb[t]=!0,ki(!1,n))}O.memo(KD);function KD({routes:t,future:e,state:n,onError:s}){return gA(t,void 0,n,s,e)}function YD({to:t,replace:e,state:n,relative:s}){vt(Rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Qn);ki(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(Ts),{pathname:u}=rr(),f=Il(),m=Uy(t,jy(l),u,s==="path"),p=JSON.stringify(m);return O.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Hs(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $D({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){vt(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=Al(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:w="default"}=n,D=O.useMemo(()=>{let L=Js(p,f);return L==null?null:{location:{pathname:L,search:y,hash:E,state:b,key:w},navigationType:s}},[f,p,y,E,b,w,s]);return ki(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:O.createElement(Qn.Provider,{value:m},O.createElement(bu.Provider,{children:e,value:D}))}function QD({children:t,location:e}){return VD(zg(t),e)}function zg(t,e=[]){let n=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){n.push.apply(n,zg(s.props.children,l));return}vt(s.type===Hs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=zg(s.props.children,l)),n.push(u)}),n}var wf="get",Rf="application/x-www-form-urlencoded";function Td(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function XD(t){return Td(t)&&t.tagName.toLowerCase()==="button"}function WD(t){return Td(t)&&t.tagName.toLowerCase()==="form"}function JD(t){return Td(t)&&t.tagName.toLowerCase()==="input"}function ZD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eO(t,e){return t.button===0&&(!e||e==="_self")&&!ZD(t)}var df=null;function tO(){if(df===null)try{new FormData(document.createElement("form"),0),df=!1}catch{df=!0}return df}var nO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(t){return t!=null&&!nO.has(t)?(ki(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function iO(t,e){let n,s,a,l,u;if(WD(t)){let f=t.getAttribute("action");s=f?Js(f,e):null,n=t.getAttribute("method")||wf,a=rg(t.getAttribute("enctype"))||Rf,l=new FormData(t)}else if(XD(t)||JD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Js(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||wf,a=rg(t.getAttribute("formenctype"))||rg(f.getAttribute("enctype"))||Rf,l=new FormData(f,t),!tO()){let{name:p,type:y,value:E}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,E)}}else{if(Td(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wf,s=null,a=Rf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sO(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Js(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function rO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oO(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await rO(l,n);return u.links?u.links():[]}return[]}));return hO(s.flat(1).filter(aO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tb(t,e,n,s,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function lO(t,e,{includeHydrateFallback:n}={}){return cO(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function cO(t){return[...new Set(t)]}function uO(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function hO(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(uO(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function _A(){let t=O.useContext(wl);return Hy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fO(){let t=O.useContext(Ed);return Hy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qy=O.createContext(void 0);qy.displayName="FrameworkContext";function EA(){let t=O.useContext(qy);return Hy(t,"You must render this element inside a <HydratedRouter> element"),t}function dO(t,e){let n=O.useContext(qy),[s,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:E}=e,b=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let L=F=>{F.forEach(q=>{u(q.isIntersecting)})},k=new IntersectionObserver(L,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[t]),O.useEffect(()=>{if(s){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[s]);let w=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:zc(f,w),onBlur:zc(m,D),onMouseEnter:zc(p,w),onMouseLeave:zc(y,D),onTouchStart:zc(E,w)}]:[!1,b,{}]}function zc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mO({page:t,...e}){let{router:n}=_A(),s=O.useMemo(()=>aA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(gO,{page:t,matches:s,...e}):null}function pO(t){let{manifest:e,routeModules:n}=EA(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return oO(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function gO({page:t,matches:e,...n}){let s=rr(),{future:a,manifest:l,routeModules:u}=EA(),{basename:f}=_A(),{loaderData:m,matches:p}=fO(),y=O.useMemo(()=>tb(t,e,p,l,s,"data"),[t,e,p,l,s]),E=O.useMemo(()=>tb(t,e,p,l,s,"assets"),[t,e,p,l,s]),b=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let L=new Set,k=!1;if(e.forEach(q=>{let z=l.routes[q.route.id];!z||!z.hasLoader||(!y.some(ie=>ie.route.id===q.route.id)&&q.route.id in m&&u[q.route.id]?.shouldRevalidate||z.hasClientLoader?k=!0:L.add(q.route.id))}),L.size===0)return[];let F=sO(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return k&&L.size>0&&F.searchParams.set("_routes",e.filter(q=>L.has(q.route.id)).map(q=>q.route.id).join(",")),[F.pathname+F.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,e,t,u]),w=O.useMemo(()=>lO(E,l),[E,l]),D=pO(E);return O.createElement(O.Fragment,null,b.map(L=>O.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),w.map(L=>O.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),D.map(({key:L,link:k})=>O.createElement("link",{key:L,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function yO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vO&&(window.__reactRouterVersion="7.13.0")}catch{}function _O({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=O.useRef();a.current==null&&(a.current=JN({window:s,v5Compat:!0}));let l=a.current,[u,f]=O.useState({action:l.action,location:l.location}),m=O.useCallback(p=>{n===!1?f(p):O.startTransition(()=>f(p))},[n]);return O.useLayoutEffect(()=>l.listen(m),[l,m]),O.createElement($D,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vi=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:y,viewTransition:E,unstable_defaultShouldRevalidate:b,...w},D){let{basename:L,unstable_useTransitions:k}=O.useContext(Qn),F=typeof p=="string"&&TA.test(p),q=uA(p,L);p=q.to;let z=OD(p,{relative:a}),[ie,le,ce]=dO(s,w),N=xO(p,{replace:u,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:k});function R(P){e&&e(P),P.defaultPrevented||N(P)}let C=O.createElement("a",{...w,...ce,href:q.absoluteURL||z,onClick:q.isExternal||l?e:R,ref:yO(D,le),target:m,"data-discover":!F&&n==="render"?"true":void 0});return ie&&!F?O.createElement(O.Fragment,null,C,O.createElement(mO,{page:z})):C});Vi.displayName="Link";var EO=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},y){let E=xu(u,{relative:p.relative}),b=rr(),w=O.useContext(Ed),{navigator:D,basename:L}=O.useContext(Qn),k=w!=null&&IO(E)&&f===!0,F=D.encodeLocation?D.encodeLocation(E).pathname:E.pathname,q=b.pathname,z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(q=q.toLowerCase(),z=z?z.toLowerCase():null,F=F.toLowerCase()),z&&L&&(z=Js(z,L)||z);const ie=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let le=q===F||!a&&q.startsWith(F)&&q.charAt(ie)==="/",ce=z!=null&&(z===F||!a&&z.startsWith(F)&&z.charAt(F.length)==="/"),N={isActive:le,isPending:ce,isTransitioning:k},R=le?e:void 0,C;typeof s=="function"?C=s(N):C=[s,le?"active":null,ce?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(N):l;return O.createElement(Vi,{...p,"aria-current":R,className:C,ref:y,style:P,to:u,viewTransition:f},typeof m=="function"?m(N):m)});EO.displayName="NavLink";var TO=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=wf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:E,unstable_defaultShouldRevalidate:b,...w},D)=>{let{unstable_useTransitions:L}=O.useContext(Qn),k=wO(),F=RO(f,{relative:p}),q=u.toLowerCase()==="get"?"get":"post",z=typeof f=="string"&&TA.test(f),ie=le=>{if(m&&m(le),le.defaultPrevented)return;le.preventDefault();let ce=le.nativeEvent.submitter,N=ce?.getAttribute("formmethod")||u,R=()=>k(ce||le.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:E,unstable_defaultShouldRevalidate:b});L&&n!==!1?O.startTransition(()=>R()):R()};return O.createElement("form",{ref:D,method:q,action:F,onSubmit:s?m:ie,...w,"data-discover":!z&&t==="render"?"true":void 0})});TO.displayName="Form";function bO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(t){let e=O.useContext(wl);return vt(e,bO(t)),e}function xO(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Il(),y=rr(),E=xu(t,{relative:l});return O.useCallback(b=>{if(eO(b,e)){b.preventDefault();let w=n!==void 0?n:ou(y)===ou(E),D=()=>p(t,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});m?O.startTransition(()=>D()):D()}},[y,p,E,n,s,e,t,a,l,u,f,m])}var SO=0,AO=()=>`__${String(++SO)}__`;function wO(){let{router:t}=bA("useSubmit"),{basename:e}=O.useContext(Qn),n=HD(),s=t.fetch,a=t.navigate;return O.useCallback(async(l,u={})=>{let{action:f,method:m,encType:p,formData:y,body:E}=iO(l,e);if(u.navigate===!1){let b=u.fetcherKey||AO();await s(b,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:E,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:E,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function RO(t,{relative:e}={}){let{basename:n}=O.useContext(Qn),s=O.useContext(Ts);vt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...xu(t||".",{relative:e})},u=rr();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:$s([n,l.pathname])),ou(l)}function IO(t,{relative:e}={}){let n=O.useContext(fA);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bA("useViewTransitionState"),a=xu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Js(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Js(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Hf(a.pathname,u)!=null||Hf(a.pathname,l)!=null}const Gy=O.createContext({});function Ky(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const xA=typeof window<"u",SA=xA?O.useLayoutEffect:O.useEffect,bd=O.createContext(null);function Yy(t,e){t.indexOf(e)===-1&&t.push(e)}function $y(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vs=(t,e,n)=>n>e?e:n<t?t:n;let Qy=()=>{};const Zs={},AA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wA(t){return typeof t=="object"&&t!==null}const RA=t=>/^0[^.\s]+$/u.test(t);function Xy(t){let e;return()=>(e===void 0&&(e=t()),e)}const mi=t=>t,CO=(t,e)=>n=>e(t(n)),Su=(...t)=>t.reduce(CO),lu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Wy{constructor(){this.subscriptions=[]}add(e){return Yy(this.subscriptions,e),()=>$y(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qs=t=>t*1e3,di=t=>t/1e3;function IA(t,e){return e?t*(1e3/e):0}const CA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NO=1e-7,DO=12;function OO(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=CA(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>NO&&++f<DO);return u}function Au(t,e,n,s){if(t===e&&n===s)return mi;const a=l=>OO(l,0,1,t,n);return l=>l===0||l===1?l:CA(a(l),e,s)}const NA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DA=t=>e=>1-t(1-e),OA=Au(.33,1.53,.69,.99),Jy=DA(OA),MA=NA(Jy),VA=t=>(t*=2)<1?.5*Jy(t):.5*(2-Math.pow(2,-10*(t-1))),Zy=t=>1-Math.sin(Math.acos(t)),PA=DA(Zy),kA=NA(Zy),MO=Au(.42,0,1,1),VO=Au(0,0,.58,1),LA=Au(.42,0,.58,1),PO=t=>Array.isArray(t)&&typeof t[0]!="number",jA=t=>Array.isArray(t)&&typeof t[0]=="number",kO={linear:mi,easeIn:MO,easeInOut:LA,easeOut:VO,circIn:Zy,circInOut:kA,circOut:PA,backIn:Jy,backInOut:MA,backOut:OA,anticipate:VA},LO=t=>typeof t=="string",nb=t=>{if(jA(t)){Qy(t.length===4);const[e,n,s,a]=t;return Au(e,n,s,a)}else if(LO(t))return kO[t];return t},mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jO(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,E=!1,b=!1)=>{const D=b&&a?n:s;return E&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const UO=40;function UA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=mf.reduce((z,ie)=>(z[ie]=jO(l),z),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:E,preRender:b,render:w,postRender:D}=u,L=()=>{const z=Zs.useManualTiming?a.timestamp:performance.now();n=!1,Zs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(z-a.timestamp,UO),1)),a.timestamp=z,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),E.process(a),b.process(a),w.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(L))},k=()=>{n=!0,s=!0,a.isProcessing||t(L)};return{schedule:mf.reduce((z,ie)=>{const le=u[ie];return z[ie]=(ce,N=!1,R=!1)=>(n||k(),le.schedule(ce,N,R)),z},{}),cancel:z=>{for(let ie=0;ie<mf.length;ie++)u[mf[ie]].cancel(z)},state:a,steps:u}}const{schedule:ft,cancel:Wr,state:an,steps:ag}=UA(typeof requestAnimationFrame<"u"?requestAnimationFrame:mi,!0);let If;function zO(){If=void 0}const xn={now:()=>(If===void 0&&xn.set(an.isProcessing||Zs.useManualTiming?an.timestamp:performance.now()),If),set:t=>{If=t,queueMicrotask(zO)}},zA=t=>e=>typeof e=="string"&&e.startsWith(t),BA=zA("--"),BO=zA("var(--"),ev=t=>BO(t)?FO.test(t.split("/*")[0].trim()):!1,FO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ib(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cu={...Cl,transform:t=>vs(0,1,t)},pf={...Cl,default:1},Wc=t=>Math.round(t*1e5)/1e5,tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HO(t){return t==null}const qO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nv=(t,e)=>n=>!!(typeof n=="string"&&qO.test(n)&&n.startsWith(t)||e&&!HO(n)&&Object.prototype.hasOwnProperty.call(n,e)),FA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(tv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},GO=t=>vs(0,255,t),og={...Cl,transform:t=>Math.round(GO(t))},Fa={test:nv("rgb","red"),parse:FA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+og.transform(t)+", "+og.transform(e)+", "+og.transform(n)+", "+Wc(cu.transform(s))+")"};function KO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Bg={test:nv("#"),parse:KO,transform:Fa.transform},wu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zr=wu("deg"),fs=wu("%"),ve=wu("px"),YO=wu("vh"),$O=wu("vw"),sb={...fs,parse:t=>fs.parse(t)/100,transform:t=>fs.transform(t*100)},sl={test:nv("hsl","hue"),parse:FA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+fs.transform(Wc(e))+", "+fs.transform(Wc(n))+", "+Wc(cu.transform(s))+")"},Ht={test:t=>Fa.test(t)||Bg.test(t)||sl.test(t),parse:t=>Fa.test(t)?Fa.parse(t):sl.test(t)?sl.parse(t):Bg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fa.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},QO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XO(t){return isNaN(t)&&typeof t=="string"&&(t.match(tv)?.length||0)+(t.match(QO)?.length||0)>0}const HA="number",qA="color",WO="var",JO="var(",rb="${}",ZO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(ZO,m=>(Ht.test(m)?(s.color.push(l),a.push(qA),n.push(Ht.parse(m))):m.startsWith(JO)?(s.var.push(l),a.push(WO),n.push(m)):(s.number.push(l),a.push(HA),n.push(parseFloat(m))),++l,rb)).split(rb);return{values:n,split:f,indexes:s,types:a}}function GA(t){return uu(t).values}function KA(t){const{split:e,types:n}=uu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===HA?l+=Wc(a[u]):f===qA?l+=Ht.transform(a[u]):l+=a[u]}return l}}const e2=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function t2(t){const e=GA(t);return KA(t)(e.map(e2))}const Jr={test:XO,parse:GA,createTransformer:KA,getAnimatableNone:t2};function lg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function n2({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=lg(m,f,t+1/3),l=lg(m,f,t),u=lg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function qf(t,e){return n=>n>0?e:t}const Et=(t,e,n)=>t+(e-t)*n,cg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},i2=[Bg,Fa,sl],s2=t=>i2.find(e=>e.test(t));function ab(t){const e=s2(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=n2(n)),n}const ob=(t,e)=>{const n=ab(t),s=ab(e);if(!n||!s)return qf(t,e);const a={...n};return l=>(a.red=cg(n.red,s.red,l),a.green=cg(n.green,s.green,l),a.blue=cg(n.blue,s.blue,l),a.alpha=Et(n.alpha,s.alpha,l),Fa.transform(a))},Fg=new Set(["none","hidden"]);function r2(t,e){return Fg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function a2(t,e){return n=>Et(t,e,n)}function iv(t){return typeof t=="number"?a2:typeof t=="string"?ev(t)?qf:Ht.test(t)?ob:c2:Array.isArray(t)?YA:typeof t=="object"?Ht.test(t)?ob:o2:qf}function YA(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>iv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function o2(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=iv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function l2(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const c2=(t,e)=>{const n=Jr.createTransformer(e),s=uu(t),a=uu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Fg.has(t)&&!a.values.length||Fg.has(e)&&!s.values.length?r2(t,e):Su(YA(l2(s,a),a.values),n):qf(t,e)};function $A(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Et(t,e,n):iv(t)(t,e)}const u2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Wr(e),now:()=>an.isProcessing?an.timestamp:xn.now()}},QA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Gf=2e4;function sv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Gf;)e+=n,s=t.next(e);return e>=Gf?1/0:e}function h2(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(sv(s),Gf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:di(a)}}const f2=5;function XA(t,e,n){const s=Math.max(e-f2,0);return IA(n-t(s),e-s)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ug=.001;function d2({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:s=St.mass}){let a,l,u=1-e;u=vs(St.minDamping,St.maxDamping,u),t=vs(St.minDuration,St.maxDuration,di(t)),u<1?(a=p=>{const y=p*u,E=y*t,b=y-n,w=Hg(p,u),D=Math.exp(-E);return ug-b/w*D},l=p=>{const E=p*u*t,b=E*n+n,w=Math.pow(u,2)*Math.pow(p,2)*t,D=Math.exp(-E),L=Hg(Math.pow(p,2),u);return(-a(p)+ug>0?-1:1)*((b-w)*D)/L}):(a=p=>{const y=Math.exp(-p*t),E=(p-n)*t+1;return-ug+y*E},l=p=>{const y=Math.exp(-p*t),E=(n-p)*(t*t);return y*E});const f=5/t,m=p2(a,l,f);if(t=Qs(t),isNaN(m))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const m2=12;function p2(t,e,n){let s=n;for(let a=1;a<m2;a++)s=s-t(s)/e(s);return s}function Hg(t,e){return t*Math.sqrt(1-e*e)}const g2=["duration","bounce"],y2=["stiffness","damping","mass"];function lb(t,e){return e.some(n=>t[n]!==void 0)}function v2(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!lb(t,y2)&&lb(t,g2))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*vs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:St.mass,stiffness:a,damping:l}}else{const n=d2(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function Kf(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:E,velocity:b,isResolvedFromDuration:w}=v2({...n,velocity:-di(n.velocity||0)}),D=b||0,L=p/(2*Math.sqrt(m*y)),k=u-l,F=di(Math.sqrt(m/y)),q=Math.abs(k)<5;s||(s=q?St.restSpeed.granular:St.restSpeed.default),a||(a=q?St.restDelta.granular:St.restDelta.default);let z;if(L<1){const le=Hg(F,L);z=ce=>{const N=Math.exp(-L*F*ce);return u-N*((D+L*F*k)/le*Math.sin(le*ce)+k*Math.cos(le*ce))}}else if(L===1)z=le=>u-Math.exp(-F*le)*(k+(D+F*k)*le);else{const le=F*Math.sqrt(L*L-1);z=ce=>{const N=Math.exp(-L*F*ce),R=Math.min(le*ce,300);return u-N*((D+L*F*k)*Math.sinh(R)+le*k*Math.cosh(R))/le}}const ie={calculatedDuration:w&&E||null,next:le=>{const ce=z(le);if(w)f.done=le>=E;else{let N=le===0?D:0;L<1&&(N=le===0?Qs(D):XA(z,le,ce));const R=Math.abs(N)<=s,C=Math.abs(u-ce)<=a;f.done=R&&C}return f.value=f.done?u:ce,f},toString:()=>{const le=Math.min(sv(ie),Gf),ce=QA(N=>ie.next(le*N).value,le,30);return le+"ms "+ce},toTransition:()=>{}};return ie}Kf.applyToOptions=t=>{const e=h2(t,100,Kf);return t.ease=e.ease,t.duration=Qs(e.duration),t.type="keyframes",t};function qg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:y}){const E=t[0],b={done:!1,value:E},w=R=>f!==void 0&&R<f||m!==void 0&&R>m,D=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let L=n*e;const k=E+L,F=u===void 0?k:u(k);F!==k&&(L=F-E);const q=R=>-L*Math.exp(-R/s),z=R=>F+q(R),ie=R=>{const C=q(R),P=z(R);b.done=Math.abs(C)<=p,b.value=b.done?F:P};let le,ce;const N=R=>{w(b.value)&&(le=R,ce=Kf({keyframes:[b.value,D(b.value)],velocity:XA(z,R,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:R=>{let C=!1;return!ce&&le===void 0&&(C=!0,ie(R),N(R)),le!==void 0&&R>=le?ce.next(R-le):(!C&&ie(R),b)}}}function _2(t,e,n){const s=[],a=n||Zs.mix||$A,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||mi:e;f=Su(m,f)}s.push(f)}return s}function E2(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Qy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=_2(e,s,a),m=f.length,p=y=>{if(u&&y<t[0])return e[0];let E=0;if(m>1)for(;E<t.length-2&&!(y<t[E+1]);E++);const b=lu(t[E],t[E+1],y);return f[E](b)};return n?y=>p(vs(t[0],t[l-1],y)):p}function T2(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=lu(0,e,s);t.push(Et(n,1,a))}}function b2(t){const e=[0];return T2(e,t.length-1),e}function x2(t,e){return t.map(n=>n*e)}function S2(t,e){return t.map(()=>e||LA).splice(0,t.length-1)}function Jc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=PO(s)?s.map(nb):nb(s),l={done:!1,value:e[0]},u=x2(n&&n.length===e.length?n:b2(e),t),f=E2(u,e,{ease:Array.isArray(a)?a:S2(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const A2=t=>t!==null;function rv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(A2),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const w2={decay:qg,inertia:qg,tween:Jc,keyframes:Jc,spring:Kf};function WA(t){typeof t.type=="string"&&(t.type=w2[t.type])}class av{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const R2=t=>t/100;class ov extends av{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;WA(e);const{type:n=Jc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||Jc;m!==Jc&&typeof f[0]!="number"&&(this.mixKeyframes=Su(R2,$A(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=sv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:E,repeatType:b,repeatDelay:w,type:D,onUpdate:L,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,ie=s;if(E){const R=Math.min(this.currentTime,a)/f;let C=Math.floor(R),P=R%1;!P&&R>=1&&(P=1),P===1&&C--,C=Math.min(C,E+1),C%2&&(b==="reverse"?(P=1-P,w&&(P-=w/f)):b==="mirror"&&(ie=u)),z=vs(0,1,P)*f}const le=q?{done:!1,value:y[0]}:ie.next(z);l&&(le.value=l(le.value));let{done:ce}=le;!q&&m!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return N&&D!==qg&&(le.value=rv(y,this.options,k,this.speed)),L&&L(le.value),N&&this.finish(),le}then(e,n){return this.finished.then(e,n)}get duration(){return di(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+di(e)}get time(){return di(this.currentTime)}set time(e){e=Qs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=di(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=u2,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function I2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ha=t=>t*180/Math.PI,Gg=t=>{const e=Ha(Math.atan2(t[1],t[0]));return Kg(e)},C2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gg,rotateZ:Gg,skewX:t=>Ha(Math.atan(t[1])),skewY:t=>Ha(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Kg=t=>(t=t%360,t<0&&(t+=360),t),cb=Gg,ub=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),N2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ub,scaleY:hb,scale:t=>(ub(t)+hb(t))/2,rotateX:t=>Kg(Ha(Math.atan2(t[6],t[5]))),rotateY:t=>Kg(Ha(Math.atan2(-t[2],t[0]))),rotateZ:cb,rotate:cb,skewX:t=>Ha(Math.atan(t[4])),skewY:t=>Ha(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yg(t){return t.includes("scale")?1:0}function $g(t,e){if(!t||t==="none")return Yg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=N2,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=C2,a=f}if(!a)return Yg(e);const l=s[e],u=a[1].split(",").map(O2);return typeof l=="function"?l(u):u[l]}const D2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $g(n,e)};function O2(t){return parseFloat(t.trim())}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dl=new Set(Nl),fb=t=>t===Cl||t===ve,M2=new Set(["x","y","z"]),V2=Nl.filter(t=>!M2.has(t));function P2(t){const e=[];return V2.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Gr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$g(e,"x"),y:(t,{transform:e})=>$g(e,"y")};Gr.translateX=Gr.x;Gr.translateY=Gr.y;const Ya=new Set;let Qg=!1,Xg=!1,Wg=!1;function JA(){if(Xg){const t=Array.from(Ya).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=P2(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Xg=!1,Qg=!1,Ya.forEach(t=>t.complete(Wg)),Ya.clear()}function ZA(){Ya.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xg=!0)})}function k2(){Wg=!0,ZA(),JA(),Wg=!1}class lv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ya.add(this),Qg||(Qg=!0,ft.read(ZA),ft.resolveKeyframes(JA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}I2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ya.delete(this)}cancel(){this.state==="scheduled"&&(Ya.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const L2=t=>t.startsWith("--");function j2(t,e,n){L2(e)?t.style.setProperty(e,n):t.style[e]=n}const U2=Xy(()=>window.ScrollTimeline!==void 0),z2={};function B2(t,e){const n=Xy(t);return()=>z2[e]??n()}const ew=B2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,db={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function tw(t,e){if(t)return typeof t=="function"?ew()?QA(t,e):"ease-out":jA(t)?Hc(t):Array.isArray(t)?t.map(n=>tw(n,e)||db.easeOut):db[t]}function F2(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const E=tw(f,a);Array.isArray(E)&&(y.easing=E);const b={delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function nw(t){return typeof t=="function"&&"applyToOptions"in t}function H2({type:t,...e}){return nw(t)&&ew()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class q2 extends av{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Qy(typeof e.type!="string");const p=H2(e);this.animation=F2(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=rv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):j2(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return di(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+di(e)}get time(){return di(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Qs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&U2()?(this.animation.timeline=e,mi):n(this)}}const iw={anticipate:VA,backInOut:MA,circInOut:kA};function G2(t){return t in iw}function K2(t){typeof t.ease=="string"&&G2(t.ease)&&(t.ease=iw[t.ease])}const hg=10;class Y2 extends q2{constructor(e){K2(e),WA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new ov({...u,autoplay:!1}),m=Math.max(hg,xn.now()-this.startTime),p=vs(0,hg,m-hg);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const mb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jr.test(t)||t==="0")&&!t.startsWith("url("));function $2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Q2(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=mb(a,e),f=mb(l,e);return!u||!f?!1:$2(t)||(n==="spring"||nw(n))&&s}function Jg(t){t.duration=0,t.type="keyframes"}const X2=new Set(["opacity","clipPath","filter","transform"]),W2=Xy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J2(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return W2()&&n&&X2.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const Z2=40;class eM extends av{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:y,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...E},w=y?.KeyframeResolver||lv;this.keyframeResolver=new w(f,(D,L,k)=>this.onKeyframesResolved(D,L,b,!k),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=xn.now(),Q2(e,l,u,f)||((Zs.instantAnimations||!m)&&y?.(rv(e,s,n)),e[0]=e[e.length-1],Jg(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Z2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!p&&J2(b),D=b.motionValue?.owner?.current,L=w?new Y2({...b,element:D}):new ov(b);L.finished.then(()=>{this.notifyFinished()}).catch(mi),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),k2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function sw(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const tM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nM(t){const e=tM.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function rw(t,e,n=1){const[s,a]=nM(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return AA(u)?parseFloat(u):u}return ev(a)?rw(a,e,n+1):a}const iM={type:"spring",stiffness:500,damping:25,restSpeed:10},sM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rM={type:"keyframes",duration:.8},aM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oM=(t,{keyframes:e})=>e.length>2?rM:Dl.has(t)?t.startsWith("scale")?sM(e[1]):iM:aM,lM=t=>t!==null;function cM(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(lM),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function cv(t,e){return t?.[e]??t?.default??t}function uM({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const uv=(t,e,n,s={},a,l)=>u=>{const f=cv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Qs(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};uM(f)||Object.assign(y,oM(t,y)),y.duration&&(y.duration=Qs(y.duration)),y.repeatDelay&&(y.repeatDelay=Qs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let E=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Jg(y),y.delay===0&&(E=!0)),(Zs.instantAnimations||Zs.skipAnimations||a?.shouldSkipAnimations)&&(E=!0,Jg(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,E&&!l&&e.get()!==void 0){const b=cM(y.keyframes,f);if(b!==void 0){ft.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new ov(y):new eM(y)};function pb(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function hv(t,e,n,s){if(typeof e=="function"){const[a,l]=pb(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=pb(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function cl(t,e,n){const s=t.getProps();return hv(s,e,n!==void 0?n:s.custom,t)}const aw=new Set(["width","height","top","left","right","bottom",...Nl]),gb=30,hM=t=>!isNaN(parseFloat(t));class fM{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=xn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Wy);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gb);return IA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(t,e){return new fM(t,e)}const Zg=t=>Array.isArray(t);function dM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yl(n))}function mM(t){return Zg(t)?t[t.length-1]||0:t}function pM(t,e){const n=cl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=mM(l[u]);dM(t,u,f)}}const gn=t=>!!(t&&t.getVelocity);function gM(t){return!!(gn(t)&&t.add)}function ey(t,e){const n=t.getValue("willChange");if(gM(n))return n.add(e);if(!n&&Zs.WillChange){const s=new Zs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function fv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const yM="framerAppearId",ow="data-"+fv(yM);function lw(t){return t.props[ow]}function vM({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function cw(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;const m=l?.reduceMotion;s&&(l=s);const p=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const E in f){const b=t.getValue(E,t.latestValues[E]??null),w=f[E];if(w===void 0||y&&vM(y,E))continue;const D={delay:n,...cv(l||{},E)},L=b.get();if(L!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===L&&!D.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const z=lw(t);if(z){const ie=window.MotionHandoffAnimation(z,E,ft);ie!==null&&(D.startTime=ie,k=!0)}}ey(t,E);const F=m??t.shouldReduceMotion;b.start(uv(E,b,w,F&&aw.has(E)?{type:!1}:D,t,k));const q=b.animation;q&&p.push(q)}return u&&Promise.all(p).then(()=>{ft.update(()=>{u&&pM(t,u)})}),p}function ty(t,e,n={}){const s=cl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(cw(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:E}=a;return _M(t,e,m,p,y,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function _M(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(ty(m,e,{...u,delay:n+(typeof s=="function"?0:s)+sw(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function EM(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>ty(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=ty(t,e,n);else{const a=typeof e=="function"?cl(t,e,n.custom):e;s=Promise.all(cw(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const TM={test:t=>t==="auto",parse:t=>t},uw=t=>e=>e.test(t),hw=[Cl,ve,fs,zr,$O,YO,TM],yb=t=>hw.find(uw(t));function bM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RA(t):!0}const xM=new Set(["brightness","contrast","saturate","opacity"]);function SM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(tv)||[];if(!s)return t;const a=n.replace(s,"");let l=xM.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const AM=/\b([a-z-]*)\(.*?\)/gu,ny={...Jr,getAnimatableNone:t=>{const e=t.match(AM);return e?e.map(SM).join(" "):t}},vb={...Cl,transform:Math.round},wM={rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:pf,scaleX:pf,scaleY:pf,scaleZ:pf,skew:zr,skewX:zr,skewY:zr,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:cu,originX:sb,originY:sb,originZ:ve},dv={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,inset:ve,insetBlock:ve,insetBlockStart:ve,insetBlockEnd:ve,insetInline:ve,insetInlineStart:ve,insetInlineEnd:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,paddingBlock:ve,paddingBlockStart:ve,paddingBlockEnd:ve,paddingInline:ve,paddingInlineStart:ve,paddingInlineEnd:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,marginBlock:ve,marginBlockStart:ve,marginBlockEnd:ve,marginInline:ve,marginInlineStart:ve,marginInlineEnd:ve,fontSize:ve,backgroundPositionX:ve,backgroundPositionY:ve,...wM,zIndex:vb,fillOpacity:cu,strokeOpacity:cu,numOctaves:vb},RM={...dv,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:ny,WebkitFilter:ny},fw=t=>RM[t];function dw(t,e){let n=fw(t);return n!==ny&&(n=Jr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const IM=new Set(["auto","none","0"]);function CM(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!IM.has(l)&&uu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=dw(n,a)}class NM extends lv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let E=e[y];if(typeof E=="string"&&(E=E.trim(),ev(E))){const b=rw(E,n.current);b!==void 0&&(e[y]=b),y===e.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!aw.has(s)||e.length!==2)return;const[a,l]=e,u=yb(a),f=yb(l),m=ib(a),p=ib(l);if(m!==p&&Gr[s]){this.needsMeasurement=!0;return}if(u!==f)if(fb(u)&&fb(f))for(let y=0;y<e.length;y++){const E=e[y];typeof E=="string"&&(e[y]=parseFloat(E))}else Gr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||bM(e[a]))&&s.push(a);s.length&&CM(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Gr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function DM(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(s=>s!=null)}const mw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function iy(t){return wA(t)&&"offsetHeight"in t}const{schedule:mv}=UA(queueMicrotask,!1),Di={x:!1,y:!1};function pw(){return Di.x||Di.y}function OM(t){return t==="x"||t==="y"?Di[t]?null:(Di[t]=!0,()=>{Di[t]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}function gw(t,e){const n=DM(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function _b(t){return!(t.pointerType==="touch"||pw())}function MM(t,e,n={}){const[s,a,l]=gw(t,n),u=f=>{if(!_b(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=E=>{_b(E)&&(p(E),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const yw=(t,e)=>e?t===e?!0:yw(t,e.parentElement):!1,pv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,VM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PM(t){return VM.has(t.tagName)||t.isContentEditable===!0}const kM=new Set(["INPUT","SELECT","TEXTAREA"]);function LM(t){return kM.has(t.tagName)||t.isContentEditable===!0}const Cf=new WeakSet;function Eb(t){return e=>{e.key==="Enter"&&t(e)}}function fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jM=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Eb(()=>{if(Cf.has(n))return;fg(n,"down");const a=Eb(()=>{fg(n,"up")}),l=()=>fg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Tb(t){return pv(t)&&!pw()}function UM(t,e,n={}){const[s,a,l]=gw(t,n),u=f=>{const m=f.currentTarget;if(!Tb(f))return;Cf.add(m);const p=e(m,f),y=(w,D)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",b),Cf.has(m)&&Cf.delete(m),Tb(w)&&typeof p=="function"&&p(w,{success:D})},E=w=>{y(w,m===window||m===document||n.useGlobalTarget||yw(m,w.target))},b=w=>{y(w,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),iy(f)&&(f.addEventListener("focus",p=>jM(p,a)),!PM(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function vw(t){return wA(t)&&"ownerSVGElement"in t}function zM(t){return vw(t)&&t.tagName==="svg"}const BM=[...hw,Ht,Jr],FM=t=>BM.find(uw(t)),bb=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:bb(),y:bb()}),xb=()=>({min:0,max:0}),Yt=()=>({x:xb(),y:xb()}),sy={current:null},_w={current:!1},HM=typeof window<"u";function qM(){if(_w.current=!0,!!HM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sy.current=t.matches;t.addEventListener("change",e),e()}else sy.current=!1}const GM=new WeakMap;function xd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hu(t){return typeof t=="string"||Array.isArray(t)}const gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yv=["initial",...gv];function Sd(t){return xd(t.animate)||yv.some(e=>hu(t[e]))}function Ew(t){return!!(Sd(t)||t.variants)}function KM(t,e,n){for(const s in e){const a=e[s],l=n[s];if(gn(a))t.addValue(s,a);else if(gn(l))t.addValue(s,yl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,yl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Sb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Yf={};function Tw(t){Yf=t}function YM(){return Yf}class $M{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=lv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=xn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ft.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=y,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Sd(n),this.isVariantNode=Ew(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:E,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const D=b[w];p[w]!==void 0&&gn(D)&&D.set(p[w])}}mount(e){this.current=e,GM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(_w.current||qM(),this.shouldReduceMotion=sy.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wr(this.notifyUpdate),Wr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Dl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yf){const n=Yf[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Sb.length;s++){const a=Sb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=KM(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=yl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(AA(s)||RA(s))?s=parseFloat(s):!FM(s)&&Jr.test(n)&&(s=dw(e,n)),this.setBaseTarget(e,gn(s)?s.get():s)),gn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=hv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Wy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){mv.render(this.render)}}class bw extends $M{constructor(){super(...arguments),this.KeyframeResolver=NM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ra{constructor(e){this.isMounted=!1,this.node=e}update(){}}function xw({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function QM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function XM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function dg(t){return t===void 0||t===1}function ry({scale:t,scaleX:e,scaleY:n}){return!dg(t)||!dg(e)||!dg(n)}function za(t){return ry(t)||Sw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Sw(t){return Ab(t.x)||Ab(t.y)}function Ab(t){return t&&t!=="0%"}function $f(t,e,n){const s=t-n,a=e*s;return n+a}function wb(t,e,n,s,a){return a!==void 0&&(t=$f(t,a,s)),$f(t,n,s)+e}function ay(t,e=0,n=1,s,a){t.min=wb(t.min,e,n,s,a),t.max=wb(t.max,e,n,s,a)}function Aw(t,{x:e,y:n}){ay(t.x,e.translate,e.scale,e.originPoint),ay(t.y,n.translate,n.scale,n.originPoint)}const Rb=.999999999999,Ib=1.0000000000001;function WM(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ol(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Aw(t,u)),s&&za(l.latestValues)&&ol(t,l.latestValues))}e.x<Ib&&e.x>Rb&&(e.x=1),e.y<Ib&&e.y>Rb&&(e.y=1)}function al(t,e){t.min=t.min+e,t.max=t.max+e}function Cb(t,e,n,s,a=.5){const l=Et(t.min,t.max,a);ay(t,e,n,l,s)}function ol(t,e){Cb(t.x,e.x,e.scaleX,e.scale,e.originX),Cb(t.y,e.y,e.scaleY,e.scale,e.originY)}function ww(t,e){return xw(XM(t.getBoundingClientRect(),e))}function JM(t,e,n){const s=ww(t,n),{scroll:a}=e;return a&&(al(s.x,a.offset.x),al(s.y,a.offset.y)),s}const ZM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eV=Nl.length;function tV(t,e,n){let s="",a=!0;for(let l=0;l<eV;l++){const u=Nl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(u.startsWith("scale")?1:0);else{const p=parseFloat(f);m=u.startsWith("scale")?p===1:p===0}if(!m||n){const p=mw(f,dv[u]);if(!m){a=!1;const y=ZM[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function vv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(Dl.has(m)){u=!0;continue}else if(BA(m)){a[m]=p;continue}else{const y=mw(p,dv[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=tV(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function Rw(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Nb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=Nb(t,e.target.x),s=Nb(t,e.target.y);return`${n}% ${s}%`}},nV={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Jr.parse(t);if(a.length>5)return s;const l=Jr.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const p=Et(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},oy={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:nV};function Iw(t,{layout:e,layoutId:n}){return Dl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!oy[t]||t==="opacity")}function _v(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(gn(s[u])||a&&gn(a[u])||Iw(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function iV(t){return window.getComputedStyle(t)}class sV extends bw{constructor(){super(...arguments),this.type="html",this.renderInstance=Rw}readValueFromInstance(e,n){if(Dl.has(n))return this.projection?.isProjecting?Yg(n):D2(e,n);{const s=iV(e),a=(BA(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ww(e,n)}build(e,n,s){vv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return _v(e,n,s)}}const rV={offset:"stroke-dashoffset",array:"stroke-dasharray"},aV={offset:"strokeDashoffset",array:"strokeDasharray"};function oV(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?rV:aV;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const lV=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Cw(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,y){if(vv(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:b}=t;E.transform&&(b.transform=E.transform,delete E.transform),(b.transform||E.transformOrigin)&&(b.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete E.transformBox);for(const w of lV)E[w]!==void 0&&(b[w]=E[w],delete E[w]);e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),a!==void 0&&oV(E,a,l,u,!1)}const Nw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Dw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cV(t,e,n,s){Rw(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Nw.has(a)?a:fv(a),e.attrs[a])}function Ow(t,e,n){const s=_v(t,e,n);for(const a in t)if(gn(t[a])||gn(e[a])){const l=Nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class uV extends bw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dl.has(n)){const s=fw(n);return s&&s.default||0}return n=Nw.has(n)?n:fv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Ow(e,n,s)}build(e,n,s){Cw(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){cV(e,n,s,a)}mount(e){this.isSVGTag=Dw(e.tagName),super.mount(e)}}const hV=yv.length;function Mw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Mw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<hV;n++){const s=yv[n],a=t.props[s];(hu(a)||a===!1)&&(e[s]=a)}return e}function Vw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const fV=[...gv].reverse(),dV=gv.length;function mV(t){return e=>Promise.all(e.map(({animation:n,options:s})=>EM(t,n,s)))}function pV(t){let e=mV(t),n=Db(),s=!0;const a=m=>(p,y)=>{const E=cl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(E){const{transition:b,transitionEnd:w,...D}=E;p={...p,...D,...w}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,y=Mw(t.parent)||{},E=[],b=new Set;let w={},D=1/0;for(let k=0;k<dV;k++){const F=fV[k],q=n[F],z=p[F]!==void 0?p[F]:y[F],ie=hu(z),le=F===m?q.isActive:null;le===!1&&(D=k);let ce=z===y[F]&&z!==p[F]&&ie;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),q.protectedKeys={...w},!q.isActive&&le===null||!z&&!q.prevProp||xd(z)||typeof z=="boolean")continue;const N=gV(q.prevProp,z);let R=N||F===m&&q.isActive&&!ce&&ie||k>D&&ie,C=!1;const P=Array.isArray(z)?z:[z];let V=P.reduce(a(F),{});le===!1&&(V={});const{prevResolvedValues:B={}}=q,I={...B,...V},Ee=re=>{R=!0,b.has(re)&&(C=!0,b.delete(re)),q.needsAnimating[re]=!0;const me=t.getValue(re);me&&(me.liveStyle=!1)};for(const re in I){const me=V[re],Ie=B[re];if(w.hasOwnProperty(re))continue;let Le=!1;Zg(me)&&Zg(Ie)?Le=!Vw(me,Ie):Le=me!==Ie,Le?me!=null?Ee(re):b.add(re):me!==void 0&&b.has(re)?Ee(re):q.protectedKeys[re]=!0}q.prevProp=z,q.prevResolvedValues=V,q.isActive&&(w={...w,...V}),s&&t.blockInitialAnimation&&(R=!1);const Pe=ce&&N;R&&(!Pe||C)&&E.push(...P.map(re=>{const me={type:F};if(typeof re=="string"&&s&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ie}=t,Le=cl(Ie,re);if(Ie.enteringChildren&&Le){const{delayChildren:j}=Le.transition||{};me.delay=sw(Ie.enteringChildren,t,j)}}return{animation:re,options:me}}))}if(b.size){const k={};if(typeof p.initial!="boolean"){const F=cl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(k.transition=F.transition)}b.forEach(F=>{const q=t.getBaseTarget(F),z=t.getValue(F);z&&(z.liveStyle=!0),k[F]=q??null}),E.push({animation:k})}let L=!!E.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),s=!1,L?e(E):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(E=>E.animationState?.setActive(m,p)),n[m].isActive=p;const y=u(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Db()}}}function gV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Vw(e,t):!1}function Ua(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Db(){return{animate:Ua(!0),whileInView:Ua(),whileHover:Ua(),whileTap:Ua(),whileDrag:Ua(),whileFocus:Ua(),exit:Ua()}}function Ob(t,e){t.min=e.min,t.max=e.max}function Ni(t,e){Ob(t.x,e.x),Ob(t.y,e.y)}function Mb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Pw=1e-4,yV=1-Pw,vV=1+Pw,kw=.01,_V=0-kw,EV=0+kw;function Sn(t){return t.max-t.min}function TV(t,e,n){return Math.abs(t-e)<=n}function Vb(t,e,n,s=.5){t.origin=s,t.originPoint=Et(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=yV&&t.scale<=vV||isNaN(t.scale))&&(t.scale=1),(t.translate>=_V&&t.translate<=EV||isNaN(t.translate))&&(t.translate=0)}function Zc(t,e,n,s){Vb(t.x,e.x,n.x,s?s.originX:void 0),Vb(t.y,e.y,n.y,s?s.originY:void 0)}function Pb(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function bV(t,e,n){Pb(t.x,e.x,n.x),Pb(t.y,e.y,n.y)}function kb(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function Qf(t,e,n){kb(t.x,e.x,n.x),kb(t.y,e.y,n.y)}function Lb(t,e,n,s,a){return t-=e,t=$f(t,1/n,s),a!==void 0&&(t=$f(t,1/a,s)),t}function xV(t,e=0,n=1,s=.5,a,l=t,u=t){if(fs.test(e)&&(e=parseFloat(e),e=Et(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Et(l.min,l.max,s);t===l&&(f-=e),t.min=Lb(t.min,e,n,f,a),t.max=Lb(t.max,e,n,f,a)}function jb(t,e,[n,s,a],l,u){xV(t,e[n],e[s],e[a],e.scale,l,u)}const SV=["x","scaleX","originX"],AV=["y","scaleY","originY"];function Ub(t,e,n,s){jb(t.x,e,SV,n?n.x:void 0,s?s.x:void 0),jb(t.y,e,AV,n?n.y:void 0,s?s.y:void 0)}function zb(t){return t.translate===0&&t.scale===1}function Lw(t){return zb(t.x)&&zb(t.y)}function Bb(t,e){return t.min===e.min&&t.max===e.max}function wV(t,e){return Bb(t.x,e.x)&&Bb(t.y,e.y)}function Fb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jw(t,e){return Fb(t.x,e.x)&&Fb(t.y,e.y)}function Hb(t){return Sn(t.x)/Sn(t.y)}function qb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ui(t){return[t("x"),t("y")]}function RV(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:E,rotateY:b,skewX:w,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),E&&(s+=`rotateX(${E}deg) `),b&&(s+=`rotateY(${b}deg) `),w&&(s+=`skewX(${w}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Uw=["TopLeft","TopRight","BottomLeft","BottomRight"],IV=Uw.length,Gb=t=>typeof t=="string"?parseFloat(t):t,Kb=t=>typeof t=="number"||ve.test(t);function CV(t,e,n,s,a,l){a?(t.opacity=Et(0,n.opacity??1,NV(s)),t.opacityExit=Et(e.opacity??1,0,DV(s))):l&&(t.opacity=Et(e.opacity??1,n.opacity??1,s));for(let u=0;u<IV;u++){const f=`border${Uw[u]}Radius`;let m=Yb(e,f),p=Yb(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Kb(m)===Kb(p)?(t[f]=Math.max(Et(Gb(m),Gb(p),s),0),(fs.test(p)||fs.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,s))}function Yb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NV=zw(0,.5,PA),DV=zw(.5,.95,mi);function zw(t,e,n){return s=>s<t?0:s>e?1:n(lu(t,e,s))}function OV(t,e,n){const s=gn(t)?t:yl(t);return s.start(uv("",s,e,n)),s.animation}function fu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const MV=(t,e)=>t.depth-e.depth;class VV{constructor(){this.children=[],this.isDirty=!1}add(e){Yy(this.children,e),this.isDirty=!0}remove(e){$y(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MV),this.isDirty=!1,this.children.forEach(e)}}function PV(t,e){const n=xn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Wr(s),t(l-e))};return ft.setup(s,!0),()=>Wr(s)}function Nf(t){return gn(t)?t.get():t}class kV{constructor(){this.members=[]}add(e){Yy(this.members,e),e.scheduleRender()}remove(e){if($y(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:f}=e.options;f===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Df={hasAnimatedSinceResize:!0,hasEverUpdated:!1},mg=["","X","Y","Z"],LV=1e3;let jV=0;function pg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Bw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Bw(s)}function Fw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=jV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BV),this.nodes.forEach(GV),this.nodes.forEach(KV),this.nodes.forEach(FV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new VV)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Wy),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=vw(u)&&!zM(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,E=0;const b=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{E=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==E&&(E=w,this.root.updateBlockedByResize=!0,y&&y(),y=PV(b,250),Df.hasAnimatedSinceResize&&(Df.hasAnimatedSinceResize=!1,this.nodes.forEach(Xb)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:E,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||WV,{onLayoutAnimationStart:L,onLayoutAnimationComplete:k}=p.getProps(),F=!this.targetLayout||!jw(this.targetLayout,w),q=!E&&b;if(this.options.layoutRoot||this.resumeFrom||q||E&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...cv(D,"layout"),onPlay:L,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(y,q)}else E||Xb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YV),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const E=this.path[y];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($b);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qV),this.nodes.forEach(UV),this.nodes.forEach(zV)):this.nodes.forEach(Qb),this.clearAllSnapshots();const f=xn.now();an.delta=vs(0,1e3/60,f-an.timestamp),an.timestamp=f,an.isProcessing=!0,ag.update.process(an),ag.preRender.process(an),ag.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HV),this.sharedNodes.forEach($V)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Lw(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||za(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),JV(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Yt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZV))){const{scroll:p}=this.root;p&&(al(f.x,p.offset.x),al(f.y,p.offset.y))}return f}removeElementScroll(u){const f=Yt();if(Ni(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:E}=p;p!==this.root&&y&&E.layoutScroll&&(y.wasRoot&&Ni(f,u),al(f.x,y.offset.x),al(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=Yt();Ni(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ol(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),za(y.latestValues)&&ol(m,y.latestValues)}return za(this.latestValues)&&ol(m,this.latestValues),m}removeTransform(u){const f=Yt();Ni(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!za(p.latestValues))continue;ry(p.latestValues)&&p.updateSnapshot();const y=Yt(),E=p.measurePageBox();Ni(y,E),Ub(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return za(this.latestValues)&&Ub(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:E}=this.options;if(!this.layout||!(y||E))return;this.resolvedRelativeTargetAt=an.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ni(this.target,this.layout.layoutBox),Aw(this.target,this.targetDelta)):Ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ry(this.parent.latestValues)||Sw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),Qf(this.relativeTargetOrigin,f,m),Ni(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===an.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ni(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;WM(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Yt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mb(this.prevProjectionDelta.x,this.projectionDelta.x),Mb(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==b||!qb(this.projectionDelta.x,this.prevProjectionDelta.x)||!qb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},E=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Yt(),w=m?m.source:void 0,D=this.layout?this.layout.source:void 0,L=w!==D,k=this.getStack(),F=!k||k.members.length<=1,q=!!(L&&!F&&this.options.crossfade===!0&&!this.path.some(XV));this.animationProgress=0;let z;this.mixTargetDelta=ie=>{const le=ie/1e3;Wb(E.x,u.x,le),Wb(E.y,u.y,le),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QV(this.relativeTarget,this.relativeTargetOrigin,b,le),z&&wV(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Yt()),Ni(z,this.relativeTarget)),L&&(this.animationValues=y,CV(y,p,this.latestValues,le,q,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=le},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Df.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yl(0)),this.currentAnimation=OV(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&Hw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Yt();const E=Sn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+E;const b=Sn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}Ni(f,m),ol(f,y),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new kV),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&pg("z",u,p,this.animationValues);for(let y=0;y<mg.length;y++)pg(`rotate${mg[y]}`,u,p,this.animationValues),pg(`skew${mg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Nf(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Nf(f?.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let E=RV(this.projectionDeltaWithTransform,this.treeScale,y);m&&(E=m(y,E)),u.transform=E;const{x:b,y:w}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in oy){if(y[D]===void 0)continue;const{correct:L,applyTo:k,isCSSVariable:F}=oy[D],q=E==="none"?y[D]:L(y[D],p);if(k){const z=k.length;for(let ie=0;ie<z;ie++)u[k[ie]]=q}else F?this.options.visualElement.renderState.vars[D]=q:u[D]=q}this.options.layoutId&&(u.pointerEvents=p===this?Nf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach($b),this.root.sharedNodes.clear()}}}function UV(t){t.updateLayout()}function zV(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ui(y=>{const E=l?e.measuredBox[y]:e.layoutBox[y],b=Sn(E);E.min=n[y].min,E.max=E.min+b}):Hw(a,e.layoutBox,n)&&ui(y=>{const E=l?e.measuredBox[y]:e.layoutBox[y],b=Sn(n[y]);E.max=E.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const u=rl();Zc(u,n,e.layoutBox);const f=rl();l?Zc(f,t.applyTransform(s,!0),e.measuredBox):Zc(f,n,e.layoutBox);const m=!Lw(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:E,layout:b}=y;if(E&&b){const w=Yt();Qf(w,e.layoutBox,E.layoutBox);const D=Yt();Qf(D,n,b.layoutBox),jw(w,D)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=w,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function BV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function FV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HV(t){t.clearSnapshot()}function $b(t){t.clearMeasurements()}function Qb(t){t.isLayoutDirty=!1}function qV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GV(t){t.resolveTargetDelta()}function KV(t){t.calcProjection()}function YV(t){t.resetSkewAndRotation()}function $V(t){t.removeLeadSnapshot()}function Wb(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Jb(t,e,n,s){t.min=Et(e.min,n.min,s),t.max=Et(e.max,n.max,s)}function QV(t,e,n,s){Jb(t.x,e.x,n.x,s),Jb(t.y,e.y,n.y,s)}function XV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WV={duration:.45,ease:[.4,0,.1,1]},Zb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ex=Zb("applewebkit/")&&!Zb("chrome/")?Math.round:mi;function tx(t){t.min=ex(t.min),t.max=ex(t.max)}function JV(t){tx(t.x),tx(t.y)}function Hw(t,e,n){return t==="position"||t==="preserve-aspect"&&!TV(Hb(e),Hb(n),.2)}function ZV(t){return t!==t.root&&t.scroll?.wasRoot}const eP=Fw({attachResizeListener:(t,e)=>fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),gg={current:void 0},qw=Fw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gg.current){const t=new eP({});t.mount(window),t.setOptions({layoutScroll:!0}),gg.current=t}return gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ev=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tP(...t){return e=>{let n=!1;const s=t.map(a=>{const l=nx(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():nx(t[a],null)}}}}function nP(...t){return O.useCallback(tP(...t),t)}class iP extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=iy(s)&&s.offsetWidth||0,l=iy(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function sP({children:t,isPresent:e,anchorX:n,anchorY:s,root:a}){const l=O.useId(),u=O.useRef(null),f=O.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=O.useContext(Ev),p=t.props?.ref??t?.ref,y=nP(u,p);return O.useInsertionEffect(()=>{const{width:E,height:b,top:w,left:D,right:L,bottom:k}=f.current;if(e||!u.current||!E||!b)return;const F=n==="left"?`left: ${D}`:`right: ${L}`,q=s==="bottom"?`bottom: ${k}`:`top: ${w}`;u.current.dataset.motionPopId=l;const z=document.createElement("style");m&&(z.nonce=m);const ie=a??document.head;return ie.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${b}px !important;
            ${F}px !important;
            ${q}px !important;
          }
        `),()=>{ie.contains(z)&&ie.removeChild(z)}},[e]),v.jsx(iP,{isPresent:e,childRef:u,sizeRef:f,children:O.cloneElement(t,{ref:y})})}const rP=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:m,root:p})=>{const y=Ky(aP),E=O.useId();let b=!0,w=O.useMemo(()=>(b=!1,{id:E,initial:e,isPresent:n,custom:a,onExitComplete:D=>{y.set(D,!0);for(const L of y.values())if(!L)return;s&&s()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[n,y,s]);return l&&b&&(w={...w}),O.useMemo(()=>{y.forEach((D,L)=>y.set(L,!1))},[n]),O.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),u==="popLayout"&&(t=v.jsx(sP,{isPresent:n,anchorX:f,anchorY:m,root:p,children:t})),v.jsx(bd.Provider,{value:w,children:t})};function aP(){return new Map}function Gw(t=!0){const e=O.useContext(bd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const gf=t=>t.key||"";function ix(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const oP=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:m="top",root:p})=>{const[y,E]=Gw(u),b=O.useMemo(()=>ix(t),[t]),w=u&&!y?[]:b.map(gf),D=O.useRef(!0),L=O.useRef(b),k=Ky(()=>new Map),F=O.useRef(new Set),[q,z]=O.useState(b),[ie,le]=O.useState(b);SA(()=>{D.current=!1,L.current=b;for(let R=0;R<ie.length;R++){const C=gf(ie[R]);w.includes(C)?(k.delete(C),F.current.delete(C)):k.get(C)!==!0&&k.set(C,!1)}},[ie,w.length,w.join("-")]);const ce=[];if(b!==q){let R=[...b];for(let C=0;C<ie.length;C++){const P=ie[C],V=gf(P);w.includes(V)||(R.splice(C,0,P),ce.push(P))}return l==="wait"&&ce.length&&(R=ce),le(ix(R)),z(b),null}const{forceRender:N}=O.useContext(Gy);return v.jsx(v.Fragment,{children:ie.map(R=>{const C=gf(R),P=u&&!y?!1:b===ie||w.includes(C),V=()=>{if(F.current.has(C))return;if(F.current.add(C),k.has(C))k.set(C,!0);else return;let B=!0;k.forEach(I=>{I||(B=!1)}),B&&(N?.(),le(L.current),u&&E?.(),s&&s())};return v.jsx(rP,{isPresent:P,initial:!D.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:P?void 0:V,anchorX:f,anchorY:m,children:R},C)})})},Kw=O.createContext({strict:!1}),sx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let rx=!1;function lP(){if(rx)return;const t={};for(const e in sx)t[e]={isEnabled:n=>sx[e].some(s=>!!n[s])};Tw(t),rx=!0}function Yw(){return lP(),YM()}function cP(t){const e=Yw();for(const n in t)e[n]={...e[n],...t[n]};Tw(e)}const uP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uP.has(t)}let $w=t=>!Xf(t);function hP(t){typeof t=="function"&&($w=e=>e.startsWith("on")?!Xf(e):t(e))}try{hP(require("@emotion/is-prop-valid").default)}catch{}function fP(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||($w(a)||n===!0&&Xf(a)||!e&&!Xf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Ad=O.createContext({});function dP(t,e){if(Sd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||hu(n)?n:void 0,animate:hu(s)?s:void 0}}return t.inherit!==!1?e:{}}function mP(t){const{initial:e,animate:n}=dP(t,O.useContext(Ad));return O.useMemo(()=>({initial:e,animate:n}),[ax(e),ax(n)])}function ax(t){return Array.isArray(t)?t.join(" "):t}const Tv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Qw(t,e,n){for(const s in e)!gn(e[s])&&!Iw(s,n)&&(t[s]=e[s])}function pP({transformTemplate:t},e){return O.useMemo(()=>{const n=Tv();return vv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gP(t,e){const n=t.style||{},s={};return Qw(s,n,t),Object.assign(s,pP(t,e)),s}function yP(t,e){const n={},s=gP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Xw=()=>({...Tv(),attrs:{}});function vP(t,e,n,s){const a=O.useMemo(()=>{const l=Xw();return Cw(l,e,Dw(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Qw(l,t.style,t),a.style={...l,...a.style}}return a}const _P=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bv(t){return typeof t!="string"||t.includes("-")?!1:!!(_P.indexOf(t)>-1||/[A-Z]/u.test(t))}function EP(t,e,n,{latestValues:s},a,l=!1,u){const m=(u??bv(t)?vP:yP)(e,s,a,t),p=fP(e,typeof t=="string",l),y=t!==O.Fragment?{...p,...m,ref:n}:{},{children:E}=e,b=O.useMemo(()=>gn(E)?E.get():E,[E]);return O.createElement(t,{...y,children:b})}function TP({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:bP(n,s,a,t),renderState:e()}}function bP(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=Nf(l[b]);let{initial:u,animate:f}=t;const m=Sd(t),p=Ew(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const E=y?f:u;if(E&&typeof E!="boolean"&&!xd(E)){const b=Array.isArray(E)?E:[E];for(let w=0;w<b.length;w++){const D=hv(t,b[w]);if(D){const{transitionEnd:L,transition:k,...F}=D;for(const q in F){let z=F[q];if(Array.isArray(z)){const ie=y?z.length-1:0;z=z[ie]}z!==null&&(a[q]=z)}for(const q in L)a[q]=L[q]}}}return a}const Ww=t=>(e,n)=>{const s=O.useContext(Ad),a=O.useContext(bd),l=()=>TP(t,e,s,a);return n?l():Ky(l)},xP=Ww({scrapeMotionValuesFromProps:_v,createRenderState:Tv}),SP=Ww({scrapeMotionValuesFromProps:Ow,createRenderState:Xw}),AP=Symbol.for("motionComponentSymbol");function wP(t,e,n){const s=O.useRef(n);O.useInsertionEffect(()=>{s.current=n});const a=O.useRef(null);return O.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const Jw=O.createContext({});function qc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RP(t,e,n,s,a,l){const{visualElement:u}=O.useContext(Ad),f=O.useContext(Kw),m=O.useContext(bd),p=O.useContext(Ev),y=p.reducedMotion,E=p.skipAnimations,b=O.useRef(null),w=O.useRef(!1);s=s||f.renderer,!b.current&&s&&(b.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:E,isSVG:l}),w.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const D=b.current,L=O.useContext(Jw);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&IP(b.current,n,a,L);const k=O.useRef(!1);O.useInsertionEffect(()=>{D&&k.current&&D.update(n,m)});const F=n[ow],q=O.useRef(!!F&&!window.MotionHandoffIsComplete?.(F)&&window.MotionHasOptimisedAnimation?.(F));return SA(()=>{w.current=!0,D&&(k.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),q.current&&D.animationState&&D.animationState.animateChanges())}),O.useEffect(()=>{D&&(!q.current&&D.animationState&&D.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(F)}),q.current=!1),D.enteringChildren=void 0)}),D}function IP(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Zw(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&qc(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function Zw(t){if(t)return t.options.allowProjection!==!1?t.projection:Zw(t.parent)}function yg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&cP(s);const l=n?n==="svg":bv(t),u=l?SP:xP;function f(p,y){let E;const b={...O.useContext(Ev),...p,layoutId:CP(p)},{isStatic:w}=b,D=mP(p),L=u(p,w);if(!w&&xA){NP();const k=DP(b);E=k.MeasureLayout,D.visualElement=RP(t,L,b,a,k.ProjectionNode,l)}return v.jsxs(Ad.Provider,{value:D,children:[E&&D.visualElement?v.jsx(E,{visualElement:D.visualElement,...b}):null,EP(t,p,wP(L,D.visualElement,y),L,w,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=O.forwardRef(f);return m[AP]=t,m}function CP({layoutId:t}){const e=O.useContext(Gy).id;return e&&t!==void 0?e+"-"+t:t}function NP(t,e){O.useContext(Kw).strict}function DP(t){const e=Yw(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function OP(t,e){if(typeof Proxy>"u")return yg;const n=new Map,s=(l,u)=>yg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,yg(u,void 0,t,e)),n.get(u))})}const MP=(t,e)=>e.isSVG??bv(t)?new uV(e):new sV(e,{allowProjection:t!==O.Fragment});class VP extends ra{constructor(e){super(e),e.animationState||(e.animationState=pV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PP=0;class kP extends ra{constructor(){super(...arguments),this.id=PP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const LP={animation:{Feature:VP},exit:{Feature:kP}};function Ru(t){return{point:{x:t.pageX,y:t.pageY}}}const jP=t=>e=>pv(e)&&t(e,Ru(e));function eu(t,e,n,s){return fu(t,e,jP(n),s)}const eR=({current:t})=>t?t.ownerDocument.defaultView:null,ox=(t,e)=>Math.abs(t-e);function UP(t,e){const n=ox(t.x,e.x),s=ox(t.y,e.y);return Math.sqrt(n**2+s**2)}const lx=new Set(["auto","scroll"]);class tR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_g(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,L=UP(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!L)return;const{point:k}=w,{timestamp:F}=an;this.history.push({...k,timestamp:F});const{onStart:q,onMove:z}=this.handlers;D||(q&&q(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,w)},this.handlePointerMove=(w,D)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=vg(D,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(w,D)=>{this.end();const{onEnd:L,onSessionEnd:k,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=_g(w.type==="pointercancel"?this.lastMoveEventInfo:vg(D,this.transformPagePoint),this.history);this.startEvent&&L&&L(w,q),k&&k(w,q)},!pv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=Ru(e),p=vg(m,this.transformPagePoint),{point:y}=p,{timestamp:E}=an;this.history=[{...y,timestamp:E}];const{onSessionStart:b}=n;b&&b(e,_g(p,this.history)),this.removeListeners=Su(eu(this.contextWindow,"pointermove",this.handlePointerMove),eu(this.contextWindow,"pointerup",this.handlePointerUp),eu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(lx.has(s.overflowX)||lx.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),ft.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Wr(this.updatePoint)}}function vg(t,e){return e?{point:e(t.point)}:t}function cx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _g({point:t},e){return{point:t,delta:cx(t,nR(e)),offset:cx(t,zP(e)),velocity:BP(e,.1)}}function zP(t){return t[0]}function nR(t){return t[t.length-1]}function BP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=nR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Qs(e)));)n--;if(!s)return{x:0,y:0};const l=di(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function FP(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Et(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Et(n,t,s.max):Math.min(t,n)),t}function ux(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function HP(t,{top:e,left:n,bottom:s,right:a}){return{x:ux(t.x,n,a),y:ux(t.y,e,s)}}function hx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function qP(t,e){return{x:hx(t.x,e.x),y:hx(t.y,e.y)}}function GP(t,e){let n=.5;const s=Sn(t),a=Sn(e);return a>s?n=lu(e.min,e.max-s,t.min):s>a&&(n=lu(t.min,t.max-a,e.min)),vs(0,1,n)}function KP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ly=.35;function YP(t=ly){return t===!1?t=0:t===!0&&(t=ly),{x:fx(t,"left","right"),y:fx(t,"top","bottom")}}function fx(t,e,n){return{min:dx(t,e),max:dx(t,n)}}function dx(t,e){return typeof t=="number"?t:t[e]||0}const $P=new WeakMap;class QP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=E=>{n?(this.stopAnimation(),this.snapToCursor(Ru(E).point)):this.pauseAnimation()},u=(E,b)=>{this.stopAnimation();const{drag:w,dragPropagation:D,onDragStart:L}=this.getProps();if(w&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OM(w),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ui(F=>{let q=this.getAxisMotionValue(F).get()||0;if(fs.test(q)){const{projection:z}=this.visualElement;if(z&&z.layout){const ie=z.layout.layoutBox[F];ie&&(q=Sn(ie)*(parseFloat(q)/100))}}this.originPoint[F]=q}),L&&ft.update(()=>L(E,b),!1,!0),ey(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},f=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:D,onDirectionLock:L,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:F}=b;if(D&&this.currentDirection===null){this.currentDirection=XP(F),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),k&&ft.update(()=>k(E,b),!1,!0)},m=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b,this.stop(E,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ui(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new tR(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:eR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&ft.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!yf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=FP(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=HP(s.layoutBox,e):this.constraints=!1,this.elastic=YP(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ui(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=KP(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qc(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=JM(s,a.root,this.visualElement.getTransformPagePoint());let u=qP(a.layout.layoutBox,l);if(n){const f=n(QM(u));this.hasMutatedConstraints=!!f,f&&(u=xw(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ui(y=>{if(!yf(y,n,this.currentDirection))return;let E=m&&m[y]||{};u&&(E={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,D={type:"inertia",velocity:s?e[y]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ey(this.visualElement,e),s.start(uv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ui(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ui(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ui(n=>{const{drag:s}=this.getProps();if(!yf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-Et(u,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qc(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ui(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=GP({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ui(u=>{if(!yf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(Et(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;$P.set(this.visualElement,this);const e=this.visualElement.current,n=eu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps(),E=m.target,b=E!==e&&LM(E);p&&y&&!b&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();qc(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const u=fu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ui(y=>{const E=this.getAxisMotionValue(y);E&&(this.originPoint[y]+=m[y].translate,E.set(E.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=ly,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function yf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class WP extends ra{constructor(e){super(e),this.removeGroupControls=mi,this.removeListeners=mi,this.controls=new QP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Eg=t=>(e,n)=>{t&&ft.update(()=>t(e,n),!1,!0)};class JP extends ra{constructor(){super(...arguments),this.removePointerDownListener=mi}onPointerDown(e){this.session=new tR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Eg(e),onStart:Eg(n),onMove:Eg(s),onEnd:(l,u)=>{delete this.session,a&&ft.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=eu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Tg=!1;class ZP extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Tg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Df.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),Tg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ft.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Tg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iR(t){const[e,n]=Gw(),s=O.useContext(Gy);return v.jsx(ZP,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(Jw),isPresent:e,safeToRemove:n})}const ek={pan:{Feature:JP},drag:{Feature:WP,ProjectionNode:qw,MeasureLayout:iR}};function mx(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,Ru(e)))}class tk extends ra{mount(){const{current:e}=this.node;e&&(this.unmount=MM(e,(n,s)=>(mx(this.node,s,"Start"),a=>mx(this.node,a,"End"))))}unmount(){}}class nk extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Su(fu(this.node.current,"focus",()=>this.onFocus()),fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function px(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,Ru(e)))}class ik extends ra{mount(){const{current:e}=this.node;e&&(this.unmount=UM(e,(n,s)=>(px(this.node,s,"Start"),(a,{success:l})=>px(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cy=new WeakMap,bg=new WeakMap,sk=t=>{const e=cy.get(t.target);e&&e(t)},rk=t=>{t.forEach(sk)};function ak({root:t,...e}){const n=t||document;bg.has(n)||bg.set(n,{});const s=bg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(rk,{root:t,...e})),s[a]}function ok(t,e,n){const s=ak(e);return cy.set(t,n),s.observe(t),()=>{cy.delete(t),s.unobserve(t)}}const lk={some:0,all:1};class ck extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:lk[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:E}=this.node.getProps(),b=p?y:E;b&&b(m)};return ok(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uk(e,n))&&this.startObserver()}unmount(){}}function uk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hk={inView:{Feature:ck},tap:{Feature:ik},focus:{Feature:nk},hover:{Feature:tk}},fk={layout:{ProjectionNode:qw,MeasureLayout:iR}},dk={...LP,...hk,...ek,...fk},Ot=OP(dk,MP),mk=()=>{};var gx={};const sR=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},pk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},rR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,E=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,w=p&63;m||(w=64,u||(b=64)),s.push(n[y],n[E],n[b],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const E=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||E==null)throw new gk;const b=l<<2|f>>4;if(s.push(b),p!==64){const w=f<<4&240|p>>2;if(s.push(w),E!==64){const D=p<<6&192|E;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yk=function(t){const e=sR(t);return rR.encodeByteArray(e,!0)},Wf=function(t){return yk(t).replace(/\./g,"")},aR=function(t){try{return rR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _k=()=>vk().__FIREBASE_DEFAULTS__,Ek=()=>{if(typeof process>"u"||typeof gx>"u")return;const t=gx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Tk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aR(t[1]);return e&&JSON.parse(e)},wd=()=>{try{return mk()||_k()||Ek()||Tk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oR=t=>wd()?.emulatorHosts?.[t],lR=t=>{const e=oR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cR=()=>wd()?.config,uR=t=>wd()?.[`_${t}`];class bk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function no(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(t){return(await fetch(t,{credentials:"include"})).ok}function hR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wf(JSON.stringify(n)),Wf(JSON.stringify(u)),""].join(".")}const tu={};function xk(){const t={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?t.emulator.push(e):t.prod.push(e);return t}function Sk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yx=!1;function Sv(t,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||tu[t]===e||tu[t]||yx)return;tu[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=xk().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{yx=!0,u()},b}function y(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=Sk(s),w=n("text"),D=document.getElementById(w)||document.createElement("span"),L=n("learnmore"),k=document.getElementById(L)||document.createElement("a"),F=n("preprendIcon"),q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const z=b.element;f(z),y(k,L);const ie=p();m(q,F),z.append(q,D,k,ie),document.body.appendChild(z)}l?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ak(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function wk(){const t=wd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ik(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ck(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nk(){return!wk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dR(){try{return typeof indexedDB=="object"}catch{return!1}}function mR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function Dk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Ok="FirebaseError";class yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ok,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,io.prototype.create)}}class io{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?Mk(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new yi(a,f,s)}}function Mk(t,e){return t.replace(Vk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Vk=/\{\$([^}]+)}/g;function Pk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function er(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(vx(l)&&vx(u)){if(!er(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function vx(t){return t!==null&&typeof t=="object"}function Iu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kk(t,e){const n=new Lk(t,e);return n.subscribe.bind(n)}class Lk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}const Uk=1e3,zk=2,Bk=14400*1e3,Fk=.5;function _x(t,e=Uk,n=zk){const s=e*Math.pow(n,t),a=Math.round(Fk*s*(Math.random()-.5)*2);return Math.min(Bk,s+a)}function At(t){return t&&t._delegate?t._delegate:t}class gi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ba="[DEFAULT]";class Hk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gk(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qk(t){return t===Ba?void 0:t}function Gk(t){return t.instantiationMode==="EAGER"}class Kk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Hk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const Yk={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},$k=Fe.INFO,Qk={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},Xk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Qk[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=$k,this._logHandler=Xk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const Wk=(t,e)=>e.some(n=>t instanceof n);let Ex,Tx;function Jk(){return Ex||(Ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zk(){return Tx||(Tx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pR=new WeakMap,uy=new WeakMap,gR=new WeakMap,Sg=new WeakMap,Av=new WeakMap;function eL(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Yr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&pR.set(n,t)}).catch(()=>{}),Av.set(e,t),e}function tL(t){if(uy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});uy.set(t,e)}let hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nL(t){hy=t(hy)}function iL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ag(this),e,...n);return gR.set(s,e.sort?e.sort():[e]),Yr(s)}:Zk().includes(t)?function(...e){return t.apply(Ag(this),e),Yr(pR.get(this))}:function(...e){return Yr(t.apply(Ag(this),e))}}function sL(t){return typeof t=="function"?iL(t):(t instanceof IDBTransaction&&tL(t),Wk(t,Jk())?new Proxy(t,hy):t)}function Yr(t){if(t instanceof IDBRequest)return eL(t);if(Sg.has(t))return Sg.get(t);const e=sL(t);return e!==t&&(Sg.set(t,e),Av.set(e,t)),e}const Ag=t=>Av.get(t);function yR(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Yr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Yr(u.result),m.oldVersion,m.newVersion,Yr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const rL=["get","getKey","getAll","getAllKeys","count"],aL=["put","add","delete","clear"],wg=new Map;function bx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=aL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||rL.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return wg.set(e,l),l}nL(t=>({...t,get:(e,n,s)=>bx(e,n)||t.get(e,n,s),has:(e,n)=>!!bx(e,n)||t.has(e,n)}));class oL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lL(t){return t.getComponent()?.type==="VERSION"}const fy="@firebase/app",xx="0.14.7";const tr=new Rd("@firebase/app"),cL="@firebase/app-compat",uL="@firebase/analytics-compat",hL="@firebase/analytics",fL="@firebase/app-check-compat",dL="@firebase/app-check",mL="@firebase/auth",pL="@firebase/auth-compat",gL="@firebase/database",yL="@firebase/data-connect",vL="@firebase/database-compat",_L="@firebase/functions",EL="@firebase/functions-compat",TL="@firebase/installations",bL="@firebase/installations-compat",xL="@firebase/messaging",SL="@firebase/messaging-compat",AL="@firebase/performance",wL="@firebase/performance-compat",RL="@firebase/remote-config",IL="@firebase/remote-config-compat",CL="@firebase/storage",NL="@firebase/storage-compat",DL="@firebase/firestore",OL="@firebase/ai",ML="@firebase/firestore-compat",VL="firebase",PL="12.8.0";const dy="[DEFAULT]",kL={[fy]:"fire-core",[cL]:"fire-core-compat",[hL]:"fire-analytics",[uL]:"fire-analytics-compat",[dL]:"fire-app-check",[fL]:"fire-app-check-compat",[mL]:"fire-auth",[pL]:"fire-auth-compat",[gL]:"fire-rtdb",[yL]:"fire-data-connect",[vL]:"fire-rtdb-compat",[_L]:"fire-fn",[EL]:"fire-fn-compat",[TL]:"fire-iid",[bL]:"fire-iid-compat",[xL]:"fire-fcm",[SL]:"fire-fcm-compat",[AL]:"fire-perf",[wL]:"fire-perf-compat",[RL]:"fire-rc",[IL]:"fire-rc-compat",[CL]:"fire-gcs",[NL]:"fire-gcs-compat",[DL]:"fire-fst",[ML]:"fire-fst-compat",[OL]:"fire-vertex","fire-js":"fire-js",[VL]:"fire-js-all"};const Jf=new Map,LL=new Map,my=new Map;function Sx(t,e){try{t.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Li(t){const e=t.name;if(my.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(const n of Jf.values())Sx(n,t);for(const n of LL.values())Sx(n,t);return!0}function aa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t==null?!1:t.settings!==void 0}const jL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new io("app","Firebase",jL);class UL{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const so=PL;function vR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:dy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw $r.create("bad-app-name",{appName:String(a)});if(n||(n=cR()),!n)throw $r.create("no-options");const l=Jf.get(a);if(l){if(er(n,l.options)&&er(s,l.config))return l;throw $r.create("duplicate-app",{appName:a})}const u=new Kk(a);for(const m of my.values())u.addComponent(m);const f=new UL(n,s,u);return Jf.set(a,f),f}function Id(t=dy){const e=Jf.get(t);if(!e&&t===dy&&cR())return vR();if(!e)throw $r.create("no-app",{appName:t});return e}function Pn(t,e,n){let s=kL[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(u.join(" "));return}Li(new gi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const zL="firebase-heartbeat-database",BL=1,du="firebase-heartbeat-store";let Rg=null;function _R(){return Rg||(Rg=yR(zL,BL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(t=>{throw $r.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function FL(t){try{const n=(await _R()).transaction(du),s=await n.objectStore(du).get(ER(t));return await n.done,s}catch(e){if(e instanceof yi)tr.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e?.message});tr.warn(n.message)}}}async function Ax(t,e){try{const s=(await _R()).transaction(du,"readwrite");await s.objectStore(du).put(e,ER(t)),await s.done}catch(n){if(n instanceof yi)tr.warn(n.message);else{const s=$r.create("idb-set",{originalErrorMessage:n?.message});tr.warn(s.message)}}}function ER(t){return`${t.name}!${t.options.appId}`}const HL=1024,qL=30;class GL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YL(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>qL){const a=$L(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){tr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wx(),{heartbeatsToSend:n,unsentEntries:s}=KL(this._heartbeatsCache.heartbeats),a=Wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return tr.warn(e),""}}}function wx(){return new Date().toISOString().substring(0,10)}function KL(t,e=HL){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Rx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Rx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class YL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dR()?mR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ax(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ax(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rx(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}function $L(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function QL(t){Li(new gi("platform-logger",e=>new oL(e),"PRIVATE")),Li(new gi("heartbeat",e=>new GL(e),"PRIVATE")),Pn(fy,xx,t),Pn(fy,xx,"esm2020"),Pn("fire-js","")}QL("");var Ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qr,TR;(function(){var t;function e(N,R){function C(){}C.prototype=R.prototype,N.F=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(P,V,B){for(var I=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)I[Ee-2]=arguments[Ee];return R.prototype[V].apply(P,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,C){C||(C=0);const P=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)P[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;V<16;++V)P[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],V=N.g[2];let B=N.g[3],I;I=R+(B^C&(V^B))+P[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(V^R&(C^V))+P[1]+3905402710&4294967295,B=R+(I<<12&4294967295|I>>>20),I=V+(C^B&(R^C))+P[2]+606105819&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(R^V&(B^R))+P[3]+3250441966&4294967295,C=V+(I<<22&4294967295|I>>>10),I=R+(B^C&(V^B))+P[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(V^R&(C^V))+P[5]+1200080426&4294967295,B=R+(I<<12&4294967295|I>>>20),I=V+(C^B&(R^C))+P[6]+2821735955&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(R^V&(B^R))+P[7]+4249261313&4294967295,C=V+(I<<22&4294967295|I>>>10),I=R+(B^C&(V^B))+P[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(V^R&(C^V))+P[9]+2336552879&4294967295,B=R+(I<<12&4294967295|I>>>20),I=V+(C^B&(R^C))+P[10]+4294925233&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(R^V&(B^R))+P[11]+2304563134&4294967295,C=V+(I<<22&4294967295|I>>>10),I=R+(B^C&(V^B))+P[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(V^R&(C^V))+P[13]+4254626195&4294967295,B=R+(I<<12&4294967295|I>>>20),I=V+(C^B&(R^C))+P[14]+2792965006&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(R^V&(B^R))+P[15]+1236535329&4294967295,C=V+(I<<22&4294967295|I>>>10),I=R+(V^B&(C^V))+P[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(R^C))+P[6]+3225465664&4294967295,B=R+(I<<9&4294967295|I>>>23),I=V+(R^C&(B^R))+P[11]+643717713&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(V^B))+P[0]+3921069994&4294967295,C=V+(I<<20&4294967295|I>>>12),I=R+(V^B&(C^V))+P[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(R^C))+P[10]+38016083&4294967295,B=R+(I<<9&4294967295|I>>>23),I=V+(R^C&(B^R))+P[15]+3634488961&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(V^B))+P[4]+3889429448&4294967295,C=V+(I<<20&4294967295|I>>>12),I=R+(V^B&(C^V))+P[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(R^C))+P[14]+3275163606&4294967295,B=R+(I<<9&4294967295|I>>>23),I=V+(R^C&(B^R))+P[3]+4107603335&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(V^B))+P[8]+1163531501&4294967295,C=V+(I<<20&4294967295|I>>>12),I=R+(V^B&(C^V))+P[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(R^C))+P[2]+4243563512&4294967295,B=R+(I<<9&4294967295|I>>>23),I=V+(R^C&(B^R))+P[7]+1735328473&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(V^B))+P[12]+2368359562&4294967295,C=V+(I<<20&4294967295|I>>>12),I=R+(C^V^B)+P[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^V)+P[8]+2272392833&4294967295,B=R+(I<<11&4294967295|I>>>21),I=V+(B^R^C)+P[11]+1839030562&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^R)+P[14]+4259657740&4294967295,C=V+(I<<23&4294967295|I>>>9),I=R+(C^V^B)+P[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^V)+P[4]+1272893353&4294967295,B=R+(I<<11&4294967295|I>>>21),I=V+(B^R^C)+P[7]+4139469664&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^R)+P[10]+3200236656&4294967295,C=V+(I<<23&4294967295|I>>>9),I=R+(C^V^B)+P[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^V)+P[0]+3936430074&4294967295,B=R+(I<<11&4294967295|I>>>21),I=V+(B^R^C)+P[3]+3572445317&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^R)+P[6]+76029189&4294967295,C=V+(I<<23&4294967295|I>>>9),I=R+(C^V^B)+P[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^V)+P[12]+3873151461&4294967295,B=R+(I<<11&4294967295|I>>>21),I=V+(B^R^C)+P[15]+530742520&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^R)+P[2]+3299628645&4294967295,C=V+(I<<23&4294967295|I>>>9),I=R+(V^(C|~B))+P[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~V))+P[7]+1126891415&4294967295,B=R+(I<<10&4294967295|I>>>22),I=V+(R^(B|~C))+P[14]+2878612391&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~R))+P[5]+4237533241&4294967295,C=V+(I<<21&4294967295|I>>>11),I=R+(V^(C|~B))+P[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~V))+P[3]+2399980690&4294967295,B=R+(I<<10&4294967295|I>>>22),I=V+(R^(B|~C))+P[10]+4293915773&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~R))+P[1]+2240044497&4294967295,C=V+(I<<21&4294967295|I>>>11),I=R+(V^(C|~B))+P[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~V))+P[15]+4264355552&4294967295,B=R+(I<<10&4294967295|I>>>22),I=V+(R^(B|~C))+P[6]+2734768916&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~R))+P[13]+1309151649&4294967295,C=V+(I<<21&4294967295|I>>>11),I=R+(V^(C|~B))+P[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~V))+P[11]+3174756917&4294967295,B=R+(I<<10&4294967295|I>>>22),I=V+(R^(B|~C))+P[2]+718787259&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~R))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const C=R-this.blockSize,P=this.C;let V=this.h,B=0;for(;B<R;){if(V==0)for(;B<=C;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<R;)if(P[V++]=N.charCodeAt(B++),V==this.blockSize){a(this,P),V=0;break}}else for(;B<R;)if(P[V++]=N[B++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)N[R++]=this.g[C]>>>P&255;return N};function l(N,R){var C=f;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function u(N,R){this.h=R;const C=[];let P=!0;for(let V=N.length-1;V>=0;V--){const B=N[V]|0;P&&B==R||(C[V]=B,P=!1)}this.g=C}var f={};function m(N){return-128<=N&&N<128?l(N,function(R){return new u([R|0],R<0?-1:0)}):new u([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return k(p(-N));const R=[];let C=1;for(let P=0;N>=C;P++)R[P]=N/C|0,C*=4294967296;return new u(R,0)}function y(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return k(y(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let P=E;for(let B=0;B<N.length;B+=8){var V=Math.min(8,N.length-B);const I=parseInt(N.substring(B,B+V),R);V<8?(V=p(Math.pow(R,V)),P=P.j(V).add(p(I))):(P=P.j(C),P=P.add(p(I)))}return P}var E=m(0),b=m(1),w=m(16777216);t=u.prototype,t.m=function(){if(L(this))return-k(this).m();let N=0,R=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);N+=(P>=0?P:4294967296+P)*R,R*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(L(this))return"-"+k(this).toString(N);const R=p(Math.pow(N,6));var C=this;let P="";for(;;){const V=ie(C,R).g;C=F(C,V.j(R));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=V,D(C))return B+P;for(;B.length<6;)B="0"+B;P=B+P}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function L(N){return N.h==-1}t.l=function(N){return N=F(this,N),L(N)?-1:D(N)?0:1};function k(N){const R=N.g.length,C=[];for(let P=0;P<R;P++)C[P]=~N.g[P];return new u(C,~N.h).add(b)}t.abs=function(){return L(this)?k(this):this},t.add=function(N){const R=Math.max(this.g.length,N.g.length),C=[];let P=0;for(let V=0;V<=R;V++){let B=P+(this.i(V)&65535)+(N.i(V)&65535),I=(B>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);P=I>>>16,B&=65535,I&=65535,C[V]=I<<16|B}return new u(C,C[C.length-1]&-2147483648?-1:0)};function F(N,R){return N.add(k(R))}t.j=function(N){if(D(this)||D(N))return E;if(L(this))return L(N)?k(this).j(k(N)):k(k(this).j(N));if(L(N))return k(this.j(k(N)));if(this.l(w)<0&&N.l(w)<0)return p(this.m()*N.m());const R=this.g.length+N.g.length,C=[];for(var P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let V=0;V<N.g.length;V++){const B=this.i(P)>>>16,I=this.i(P)&65535,Ee=N.i(V)>>>16,Pe=N.i(V)&65535;C[2*P+2*V]+=I*Pe,q(C,2*P+2*V),C[2*P+2*V+1]+=B*Pe,q(C,2*P+2*V+1),C[2*P+2*V+1]+=I*Ee,q(C,2*P+2*V+1),C[2*P+2*V+2]+=B*Ee,q(C,2*P+2*V+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new u(C,0)};function q(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function z(N,R){this.g=N,this.h=R}function ie(N,R){if(D(R))throw Error("division by zero");if(D(N))return new z(E,E);if(L(N))return R=ie(k(N),R),new z(k(R.g),k(R.h));if(L(R))return R=ie(N,k(R)),new z(k(R.g),R.h);if(N.g.length>30){if(L(N)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,P=R;P.l(N)<=0;)C=le(C),P=le(P);var V=ce(C,1),B=ce(P,1);for(P=ce(P,2),C=ce(C,2);!D(P);){var I=B.add(P);I.l(N)<=0&&(V=V.add(C),B=I),P=ce(P,1),C=ce(C,1)}return R=F(N,V.j(R)),new z(V,R)}for(V=E;N.l(R)>=0;){for(C=Math.max(1,Math.floor(N.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),B=p(C),I=B.j(R);L(I)||I.l(N)>0;)C-=P,B=p(C),I=B.j(R);D(B)&&(B=b),V=V.add(B),N=F(N,I)}return new z(V,N)}t.B=function(N){return ie(this,N).h},t.and=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)&N.i(P);return new u(C,this.h&N.h)},t.or=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)|N.i(P);return new u(C,this.h|N.h)},t.xor=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)^N.i(P);return new u(C,this.h^N.h)};function le(N){const R=N.g.length+1,C=[];for(let P=0;P<R;P++)C[P]=N.i(P)<<1|N.i(P-1)>>>31;return new u(C,N.h)}function ce(N,R){const C=R>>5;R%=32;const P=N.g.length-C,V=[];for(let B=0;B<P;B++)V[B]=R>0?N.i(B+C)>>>R|N.i(B+C+1)<<32-R:N.i(B+C);return new u(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,TR=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Qr=u}).apply(typeof Ix<"u"?Ix:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bR,Yc,xR,Of,py,SR,AR,wR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var x=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in x))break e;x=x[G]}h=h[h.length-1],A=x[h],_=_(A),_!=A&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var x=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&x.push([A,_[A]]);return x}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,x){return h.call.apply(h.bind,arguments)}function p(h,_,x){return p=m,p.apply(null,arguments)}function y(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function E(h,_){function x(){}x.prototype=_.prototype,h.Z=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(A,G,X){for(var ue=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ue[Me-2]=arguments[Me];return _.prototype[G].apply(A,ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const _=h.length;if(_>0){const x=Array(_);for(let A=0;A<_;A++)x[A]=h[A];return x}return[]}function D(h,_){for(let A=1;A<arguments.length;A++){const G=arguments[A];var x=typeof G;if(x=x!="object"?x:G?Array.isArray(G)?"array":x:"null",x=="array"||x=="object"&&typeof G.length=="number"){x=h.length||0;const X=G.length||0;h.length=x+X;for(let ue=0;ue<X;ue++)h[x+ue]=G[ue]}else h.push(G)}}class L{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(h){u.setTimeout(()=>{throw h},0)}function F(){var h=N;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,x){const A=z.get();A.set(_,x),this.h?this.h.next=A:this.g=A,this.h=A}}var z=new L(()=>new ie,h=>h.reset());class ie{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ce=!1,N=new q,R=()=>{const h=Promise.resolve(void 0);le=()=>{h.then(C)}};function C(){for(var h;h=F();){try{h.h.call(h.g)}catch(x){k(x)}var _=z;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ce=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,_),u.removeEventListener("test",x,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function Ee(h,_){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}E(Ee,V),Ee.prototype.init=function(h,_){const x=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),$=0;function re(h,_,x,A,G){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!A,this.ha=G,this.key=++$,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h,_,x){for(const A in h)_.call(x,h[A],A,h)}function Le(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function j(h){const _={};for(const x in h)_[x]=h[x];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,_){let x,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(x in A)h[x]=A[x];for(let X=0;X<te.length;X++)x=te[X],Object.prototype.hasOwnProperty.call(A,x)&&(h[x]=A[x])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,_,x,A,G){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=Ce(h,_,A,G);return ue>-1?(_=h[ue],x||(_.fa=!1)):(_=new re(_,this.src,X,!!A,G),_.fa=x,h.push(_)),_};function Se(h,_){const x=_.type;if(x in h.g){var A=h.g[x],G=Array.prototype.indexOf.call(A,_,void 0),X;(X=G>=0)&&Array.prototype.splice.call(A,G,1),X&&(me(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function Ce(h,_,x,A){for(let G=0;G<h.length;++G){const X=h[G];if(!X.da&&X.listener==_&&X.capture==!!x&&X.ha==A)return G}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),ge={};function Ge(h,_,x,A,G){if(Array.isArray(_)){for(let X=0;X<_.length;X++)Ge(h,_[X],x,A,G);return null}return x=hn(x),h&&h[Pe]?h.J(_,x,f(A)?!!A.capture:!1,G):wt(h,_,x,!1,A,G)}function wt(h,_,x,A,G,X){if(!_)throw Error("Invalid event type");const ue=f(G)?!!G.capture:!!G;let Me=Te(h);if(Me||(h[oe]=Me=new de(h)),x=Me.add(_,x,A,ue,X),x.proxy)return x;if(A=vn(),x.proxy=A,A.src=h,A.listener=x,h.addEventListener)B||(G=ue),G===void 0&&(G=!1),h.addEventListener(_.toString(),A,G);else if(h.attachEvent)h.attachEvent(Xn(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function vn(){function h(x){return _.call(h.src,h.listener,x)}const _=Z;return h}function un(h,_,x,A,G){if(Array.isArray(_))for(var X=0;X<_.length;X++)un(h,_[X],x,A,G);else A=f(A)?!!A.capture:!!A,x=hn(x),h&&h[Pe]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],x=Ce(_,x,A,G),x>-1&&(me(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=Te(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ce(_,x,A,G)),(x=h>-1?_[h]:null)&&ar(x))}function ar(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Pe])Se(_.i,h);else{var x=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(x,A,h.capture):_.detachEvent?_.detachEvent(Xn(x),A):_.addListener&&_.removeListener&&_.removeListener(A),(x=Te(_))?(Se(x,h),x.h==0&&(x.src=null,_[oe]=null)):me(h)}}}function Xn(h){return h in ge?ge[h]:ge[h]="on"+h}function Z(h,_){if(h.da)h=!0;else{_=new Ee(_,this);const x=h.listener,A=h.ha||h.src;h.fa&&ar(h),h=x.call(A,_)}return h}function Te(h){return h=h[oe],h instanceof de?h:null}var lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function hn(h){return typeof h=="function"?h:(h[lt]||(h[lt]=function(_){return h.handleEvent(_)}),h[lt])}function Ze(){P.call(this),this.i=new de(this),this.M=this,this.G=null}E(Ze,P),Ze.prototype[Pe]=!0,Ze.prototype.removeEventListener=function(h,_,x,A){un(this,h,_,x,A)};function it(h,_){var x,A=h.G;if(A)for(x=[];A;A=A.G)x.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new V(_,h);else if(_ instanceof V)_.target=_.target||h;else{var G=_;_=new V(A,h),he(_,G)}G=!0;let X,ue;if(x)for(ue=x.length-1;ue>=0;ue--)X=_.g=x[ue],G=Bi(X,A,!0,_)&&G;if(X=_.g=h,G=Bi(X,A,!0,_)&&G,G=Bi(X,A,!1,_)&&G,x)for(ue=0;ue<x.length;ue++)X=_.g=x[ue],G=Bi(X,A,!1,_)&&G}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const x=h.g[_];for(let A=0;A<x.length;A++)me(x[A]);delete h.g[_],h.h--}}this.G=null},Ze.prototype.J=function(h,_,x,A){return this.i.add(String(h),_,!1,x,A)},Ze.prototype.K=function(h,_,x,A){return this.i.add(String(h),_,!0,x,A)};function Bi(h,_,x,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let X=0;X<_.length;++X){const ue=_[X];if(ue&&!ue.da&&ue.capture==x){const Me=ue.listener,It=ue.ha||ue.src;ue.fa&&Se(h.i,ue),G=Me.call(It,A)!==!1&&G}}return G&&!A.defaultPrevented}function Fi(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function xs(h){h.g=Fi(()=>{h.g=null,h.i&&(h.i=!1,xs(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class _t extends P{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(h){P.call(this),this.h=h,this.g={}}E(_n,P);var uo=[];function or(h){Ie(h.g,function(_,x){this.g.hasOwnProperty(x)&&ar(_)},h),h.g={}}_n.prototype.N=function(){_n.Z.N.call(this),or(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=u.JSON.stringify,em=u.JSON.parse,ju=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Uu(){}function zu(){}var vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){V.call(this,"d")}E(Zt,V);function Wn(){V.call(this,"c")}E(Wn,V);var Rt={},Bu=null;function ho(){return Bu=Bu||new Ze}Rt.Ia="serverreachability";function Fu(h){V.call(this,Rt.Ia,h)}E(Fu,V);function qi(h){const _=ho();it(_,new Fu(_))}Rt.STAT_EVENT="statevent";function ha(h,_){V.call(this,Rt.STAT_EVENT,h),this.stat=_}E(ha,V);function Vt(h){const _=ho();it(_,new ha(_,h))}Rt.Ja="timingevent";function Gi(h,_){V.call(this,Rt.Ja,h),this.size=_}E(Gi,V);function Ki(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function _i(){this.g=!0}_i.prototype.ua=function(){this.g=!1};function tm(h,_,x,A,G,X){h.info(function(){if(h.g)if(X){var ue="",Me=X.split("&");for(let Xe=0;Xe<Me.length;Xe++){var It=Me[Xe].split("=");if(It.length>1){const gt=It[0];It=It[1];const ti=gt.split("_");ue=ti.length>=2&&ti[1]=="type"?ue+(gt+"="+It+"&"):ue+(gt+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+_+`
`+x+`
`+ue})}function Hu(h,_,x,A,G,X,ue){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+_+`
`+x+`
`+X+" "+ue})}function Yi(h,_,x,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+nm(h,x)+(A?" "+A:"")})}function fa(h,_){h.info(function(){return"TIMEOUT: "+_})}_i.prototype.info=function(){};function nm(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var x=X[h];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return Hi(X)}catch{return _}}var da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zl;function ma(){}E(ma,Uu),ma.prototype.g=function(){return new XMLHttpRequest},zl=new ma;function Ss(h){return encodeURIComponent(String(h))}function qu(h){var _=1;h=h.split(":");const x=[];for(;_>0&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function Ei(h,_,x,A){this.j=h,this.i=_,this.l=x,this.S=A||1,this.V=new _n(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var Pt={},Qt={};function $i(h,_,x){h.M=1,h.A=pa(Lt(_)),h.u=x,h.R=!0,fo(h,null)}function fo(h,_){h.F=Date.now(),Qi(h),h.B=Lt(h.A);var x=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),yo(x.i,"t",A),h.C=0,x=h.j.L,h.h=new Ti,h.g=rh(h.j,x?_:null,!h.u),h.P>0&&(h.O=new _t(p(h.Y,h,h.g),h.P)),_=h.V,x=h.g,A=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(uo[0]=G.toString()),G=uo);for(let X=0;X<G.length;X++){const ue=Ge(x,G[X],A||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),qi(),tm(h.i,h.v,h.B,h.l,h.S,h.u)}Ei.prototype.ba=function(h){h=h.target;const _=this.O;_&&Si(h)==3?_.j():this.Y(h)},Ei.prototype.Y=function(h){try{if(h==this.g)e:{const Me=Si(this.g),It=this.g.ya(),Xe=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Me!=4||It==7||(It==8||Xe<=0?qi(3):qi(2)),Xi(this);var _=this.g.ca();this.X=_;var x=im(this);if(this.o=_==200,Hu(this.i,this.v,this.B,this.l,this.S,Me,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var X=A;break t}}X=null}if(h=X)Yi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wi(this,h);else{this.o=!1,this.m=3,Vt(12),kn(this),Jn(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<x.length;)if(gt=Ku(this,x),gt==Qt){Me==4&&(this.m=4,Vt(14),h=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Pt){this.m=4,Vt(15),Yi(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Yi(this.i,this.l,gt,null),Wi(this,gt);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||x.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)Yi(this.i,this.l,x,"[Invalid Chunked Response]"),kn(this),Jn(this);else if(x.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),tc(ue),ue.P=!0,Vt(11))}}else Yi(this.i,this.l,x,null),Wi(this,x);Me==4&&kn(this),this.o&&!this.K&&(Me==4?th(this.j,this):(this.o=!1,Qi(this)))}else ws(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),kn(this),Jn(this)}}}catch{}};function im(h){if(!Gu(h))return h.g.la();const _=en(h.g);if(_==="")return"";let x="";const A=_.length,G=Si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Jn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<A;X++)h.h.h=!0,x+=h.h.i.decode(_[X],{stream:!(G&&X==A-1)});return _.length=0,h.h.g+=x,h.C=0,h.h.g}function Gu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ku(h,_){var x=h.C,A=_.indexOf(`
`,x);return A==-1?Qt:(x=Number(_.substring(x,A)),isNaN(x)?Pt:(A+=1,A+x>_.length?Qt:(_=_.slice(A,A+x),h.C=A+x,_)))}Ei.prototype.cancel=function(){this.K=!0,kn(this)};function Qi(h){h.T=Date.now()+h.H,mo(h,h.H)}function mo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ki(p(h.aa,h),_)}function Xi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(fa(this.i,this.B),this.M!=2&&(qi(),Vt(17)),kn(this),this.m=2,Jn(this)):mo(this,this.T-h)};function Jn(h){h.j.I==0||h.K||th(h.j,h)}function kn(h){Xi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,or(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Wi(h,_){try{var x=h.j;if(x.I!=0&&(x.g==h||Zi(x.h,h))){if(!h.L&&Zi(x.h,h)&&x.I==3){try{var A=x.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)bo(x),pr(x);else break e;ba(x),Vt(18)}}else x.xa=G[1],0<x.xa-x.K&&G[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Ki(p(x.Va,x),6e3));Ji(x.h)<=1&&x.ta&&(x.ta=void 0)}else rs(x,11)}else if((h.L||x.g==h)&&bo(x),!I(_))for(G=x.Ba.g.parse(_),_=0;_<G.length;_++){let Xe=G[_];const gt=Xe[0];if(!(gt<=x.K))if(x.K=gt,Xe=Xe[1],x.I==2)if(Xe[0]=="c"){x.M=Xe[1],x.ba=Xe[2];const ti=Xe[3];ti!=null&&(x.ka=ti,x.j.info("VER="+x.ka));const as=Xe[4];as!=null&&(x.za=as,x.j.info("SVER="+x.za));const Ai=Xe[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(A=1.5*Ai,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const wi=h.g;if(wi){const xa=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var X=A.h;X.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Hl(X,X.h),X.h=null))}if(A.G){const xo=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(A.wa=xo,et(A.J,A.G,xo))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var ue=h;if(A.na=sh(A,A.L?A.ba:null,A.W),ue.L){ql(A.h,ue);var Me=ue,It=A.O;It&&(Me.H=It),Me.D&&(Xi(Me),Qi(Me)),A.g=ue}else Zu(A);x.i.length>0&&ss(x)}else Xe[0]!="stop"&&Xe[0]!="close"||rs(x,7);else x.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?rs(x,7):Zl(x):Xe[0]!="noop"&&x.l&&x.l.qa(Xe),x.A=0)}}qi(4)}catch{}}var kt=class{constructor(h,_){this.g=h,this.map=_}};function Bl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ji(h){return h.h?1:h.g?h.g.size:0}function Zi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Hl(h,_){h.g?h.g.add(_):h.h=_}function ql(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Bl.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Gl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.G);return _}return w(h.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(h,_){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const A=h[x].indexOf("=");let G,X=null;A>=0?(G=h[x].substring(0,A),X=h[x].substring(A+1)):G=h[x],_(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Ln(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Ln?(this.l=h.l,Xt(this,h.j),this.o=h.o,this.g=h.g,lr(this,h.u),this.h=h.h,Kl(this,Wu(h.i)),this.m=h.m):h&&(_=String(h).match(Yu))?(this.l=!1,Xt(this,_[1]||"",!0),this.o=es(_[2]||""),this.g=es(_[3]||"",!0),lr(this,_[4]),this.h=es(_[5]||"",!0),Kl(this,_[6]||"",!0),this.m=es(_[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}Ln.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ga(_,go,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ga(_,go,!0),"@"),h.push(Ss(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(ga(x,x.charAt(0)=="/"?Yl:$u,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",ga(x,Qu)),h.join("")},Ln.prototype.resolve=function(h){const _=Lt(this);let x=!!h.j;x?Xt(_,h.j):x=!!h.o,x?_.o=h.o:x=!!h.g,x?_.g=h.g:x=h.u!=null;var A=h.h;if(x)lr(_,h.u);else if(x=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=_.h.lastIndexOf("/");G!=-1&&(A=_.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ue=0;ue<G.length;){const Me=G[ue++];Me=="."?A&&ue==G.length&&X.push(""):Me==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ue==G.length&&X.push("")):(X.push(Me),A=!0)}A=X.join("/")}else A=G}return x?_.h=A:x=h.i.toString()!=="",x?Kl(_,Wu(h.i)):x=!!h.m,x&&(_.m=h.m),_};function Lt(h){return new Ln(h)}function Xt(h,_,x){h.j=x?es(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function lr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Kl(h,_,x){_ instanceof ur?(h.i=_,vo(h.i,h.l)):(x||(_=ga(_,cr)),h.i=new ur(_,h.l))}function et(h,_,x){h.i.set(_,x)}function pa(h){return et(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function es(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ga(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,wn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var go=/[#\/\?@]/g,$u=/[#\?:]/g,Yl=/[#\?]/g,cr=/[#\?@]/g,Qu=/#/g;function ur(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Rn(h){h.g||(h.g=new Map,h.h=0,h.i&&po(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}t=ur.prototype,t.add=function(h,_){Rn(this),this.i=null,h=hr(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function Xu(h,_){Rn(h),_=hr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function $l(h,_){return Rn(h),_=hr(h,_),h.g.has(_)}t.forEach=function(h,_){Rn(this),this.g.forEach(function(x,A){x.forEach(function(G){h.call(_,G,A,this)},this)},this)};function Ql(h,_){Rn(h);let x=[];if(typeof _=="string")$l(h,_)&&(x=x.concat(h.g.get(hr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)x=x.concat(h[_]);return x}t.set=function(h,_){return Rn(this),this.i=null,h=hr(this,h),$l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Ql(this,h),h.length>0?String(h[0]):_):_};function yo(h,_,x){Xu(h,_),x.length>0&&(h.i=null,h.g.set(hr(h,_),w(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var x=_[A];const G=Ss(x);x=Ql(this,x);for(let X=0;X<x.length;X++){let ue=G;x[X]!==""&&(ue+="="+Ss(x[X])),h.push(ue)}}return this.i=h.join("&")};function Wu(h){const _=new ur;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function hr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function vo(h,_){_&&!h.j&&(Rn(h),h.i=null,h.g.forEach(function(x,A){const G=A.toLowerCase();A!=G&&(Xu(this,A),yo(this,G,x))},h)),h.j=_}function bi(h,_){const x=new _i;if(u.Image){const A=new Image;A.onload=y(Zn,x,"TestLoadImage: loaded",!0,_,A),A.onerror=y(Zn,x,"TestLoadImage: error",!1,_,A),A.onabort=y(Zn,x,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(Zn,x,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Xl(h,_){const x=new _i,A=new AbortController,G=setTimeout(()=>{A.abort(),Zn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(G),X.ok?Zn(x,"TestPingServer: ok",!0,_):Zn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Zn(x,"TestPingServer: error",!1,_)})}function Zn(h,_,x,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(x)}catch{}}function fr(){this.g=new ju}function ts(h){this.i=h.Sb||null,this.h=h.ab||!1}E(ts,Uu),ts.prototype.g=function(){return new ya(this.i,this.h)};function ya(h,_){Ze.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ya,Ze),t=ya.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,xi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_o(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function _o(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?dr(this):xi(this),this.readyState==3&&_o(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,dr(this))},t.Na=function(h){this.g&&(this.response=h,dr(this))},t.ga=function(){this.g&&dr(this)};function dr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,xi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function xi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ei(h){let _="";return Ie(h,function(x,A){_+=A,_+=":",_+=x,_+=`\r
`}),_}function va(h,_,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=ei(x),typeof h=="string"?x!=null&&Ss(x):et(h,_,x))}function st(h){Ze.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(st,Ze);var ns=/^https?$/i,Wl=["POST","PUT"];t=st.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){_a(this,X);return}if(h=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)x.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())x.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),G=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Wl,_,void 0)>=0)||A||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of x)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){_a(this,X)}};function _a(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Jl(h),As(h)}function Jl(h){h.A||(h.A=!0,it(h,"complete"),it(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,it(this,"complete"),it(this,"abort"),As(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),st.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ea(this):this.Xa())},t.Xa=function(){Ea(this)};function Ea(h){if(h.h&&typeof l<"u"){if(h.v&&Si(h)==4)setTimeout(h.Ca.bind(h),0);else if(it(h,"readystatechange"),Si(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var A;if(A=X===0){let ue=String(h.D).match(Yu)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),A=!ns.test(ue?ue.toLowerCase():"")}x=A}if(x)it(h,"complete"),it(h,"success");else{h.o=6;try{var G=Si(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Jl(h)}}finally{As(h)}}}}function As(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,_||it(h,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Si(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),em(_)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(h){const _={};h=(h.g&&Si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var x=qu(h[A]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=_[G]||[];_[G]=X,X.push(x)}Le(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function mr(h){this.za=0,this.i=[],this.j=new _i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,h),this.Za=is("retryDelaySeedMs",1e4,h),this.Ta=is("forwardChannelMaxRetries",2,h),this.va=is("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Bl(h&&h.concurrentRequestLimit),this.Ba=new fr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,x,A){Vt(0),this.W=h,this.H=_||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=sh(this,null,this.W),ss(this)};function Zl(h){if(Eo(h),h.I==3){var _=h.V++,x=Lt(h.J);if(et(x,"SID",h.M),et(x,"RID",_),et(x,"TYPE","terminate"),Ta(h,x),_=new Ei(h,h.j,_),_.M=2,_.A=pa(Lt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=_.A,x=!0),x||(_.g=rh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Qi(_)}ih(h)}function pr(h){h.g&&(tc(h),h.g.cancel(),h.g=null)}function Eo(h){pr(h),h.v&&(u.clearTimeout(h.v),h.v=null),bo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ss(h){if(!Fl(h.h)&&!h.m){h.m=!0;var _=h.Ea;le||R(),ce||(le(),ce=!0),N.add(_,h),h.D=0}}function To(h,_){return Ji(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ki(p(h.Ea,h,_),nh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Ei(this,this.j,h);let X=this.o;if(this.U&&(X?(X=j(X),he(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Ju(this,G,_),x=Lt(this.J),et(x,"RID",h),et(x,"CVER",22),this.G&&et(x,"X-HTTP-Session-Id",this.G),Ta(this,x),X&&(this.R?_="headers="+Ss(ei(X))+"&"+_:this.u&&va(x,this.u,X)),Hl(this.h,G),this.Ra&&et(x,"TYPE","init"),this.S?(et(x,"$req",_),et(x,"SID","null"),G.U=!0,$i(G,x,null)):$i(G,x,_),this.I=2}}else this.I==3&&(h?ec(this,h):this.i.length==0||Fl(this.h)||ec(this))};function ec(h,_){var x;_?x=_.l:x=h.V++;const A=Lt(h.J);et(A,"SID",h.M),et(A,"RID",x),et(A,"AID",h.K),Ta(h,A),h.u&&h.o&&va(A,h.u,h.o),x=new Ei(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Ju(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Hl(h.h,x),$i(x,A,_)}function Ta(h,_){h.H&&Ie(h.H,function(x,A){et(_,A,x)}),h.l&&Ie({},function(x,A){et(_,A,x)})}function Ju(h,_,x){x=Math.min(h.i.length,x);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Me=-1;for(;;){const It=["count="+x];Me==-1?x>0?(Me=G[0].g,It.push("ofs="+Me)):Me=0:It.push("ofs="+Me);let Xe=!0;for(let gt=0;gt<x;gt++){var X=G[gt].g;const ti=G[gt].map;if(X-=Me,X<0)Me=Math.max(0,G[gt].g-100),Xe=!1;else try{X="req"+X+"_"||"";try{var ue=ti instanceof Map?ti:Object.entries(ti);for(const[as,Ai]of ue){let wi=Ai;f(Ai)&&(wi=Hi(Ai)),It.push(X+as+"="+encodeURIComponent(wi))}}catch(as){throw It.push(X+"type="+encodeURIComponent("_badmap")),as}}catch{A&&A(ti)}}if(Xe){ue=It.join("&");break e}}ue=void 0}return h=h.i.splice(0,x),_.G=h,ue}function Zu(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;le||R(),ce||(le(),ce=!0),N.add(_,h),h.A=0}}function ba(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ki(p(h.Da,h),nh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,eh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ki(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),pr(this),eh(this))};function tc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function eh(h){h.g=new Ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Lt(h.na);et(_,"RID","rpc"),et(_,"SID",h.M),et(_,"AID",h.K),et(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&et(_,"TO",h.ia),et(_,"TYPE","xmlhttp"),Ta(h,_),h.u&&h.o&&va(_,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=pa(Lt(_)),x.u=null,x.R=!0,fo(x,h)}t.Va=function(){this.C!=null&&(this.C=null,pr(this),ba(this),Vt(19))};function bo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function th(h,_){var x=null;if(h.g==_){bo(h),tc(h),h.g=null;var A=2}else if(Zi(h.h,_))x=_.G,ql(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;A=ho(),it(A,new Gi(A,x)),ss(h)}else Zu(h);else if(G=_.m,G==3||G==0&&_.X>0||!(A==1&&To(h,_)||A==2&&ba(h)))switch(x&&x.length>0&&(_=h.h,_.i=_.i.concat(x)),G){case 1:rs(h,5);break;case 4:rs(h,10);break;case 3:rs(h,6);break;default:rs(h,2)}}}function nh(h,_){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*_}function rs(h,_){if(h.j.info("Error code "+_),_==2){var x=p(h.bb,h),A=h.Ua;const G=!A;A=new Ln(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xt(A,"https"),pa(A),G?bi(A.toString(),x):Xl(A.toString(),x)}else Vt(2);h.I=0,h.l&&h.l.pa(_),ih(h),Eo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function ih(h){if(h.I=0,h.ja=[],h.l){const _=Gl(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function sh(h,_,x){var A=x instanceof Ln?Lt(x):new Ln(x);if(A.g!="")_&&(A.g=_+"."+A.g),lr(A,A.u);else{var G=u.location;A=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const X=new Ln(null);A&&Xt(X,A),_&&(X.g=_),G&&lr(X,G),x&&(X.h=x),A=X}return x=h.G,_=h.wa,x&&_&&et(A,x,_),et(A,"VER",h.ka),Ta(h,A),A}function rh(h,_,x){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new st(new ts({ab:x})):new st(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ah(){}t=ah.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gr(){}gr.prototype.g=function(h,_){return new En(h,_)};function En(h,_){Ze.call(this),this.g=new mr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Rs(this)}E(En,Ze),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Zl(this.g)},En.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=Hi(h),h=x);_.i.push(new kt(_.Ya++,h)),_.I==3&&ss(_)},En.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,En.Z.N.call(this)};function oh(h){Zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(oh,Zt);function lh(){Wn.call(this),this.status=1}E(lh,Wn);function Rs(h){this.g=h}E(Rs,ah),Rs.prototype.ra=function(){it(this.g,"a")},Rs.prototype.qa=function(h){it(this.g,new oh(h))},Rs.prototype.pa=function(h){it(this.g,new lh)},Rs.prototype.oa=function(){it(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,wR=function(){return new gr},AR=function(){return ho()},SR=Rt,py={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,Of=da,Ul.COMPLETE="complete",xR=Ul,zu.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Yc=zu,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,bR=st}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Ol="12.8.0";function XL(t){Ol=t}const Qa=new Rd("@firebase/firestore");function Zo(){return Qa.logLevel}function pe(t,...e){if(Qa.logLevel<=Fe.DEBUG){const n=e.map(wv);Qa.debug(`Firestore (${Ol}): ${t}`,...n)}}function nr(t,...e){if(Qa.logLevel<=Fe.ERROR){const n=e.map(wv);Qa.error(`Firestore (${Ol}): ${t}`,...n)}}function vl(t,...e){if(Qa.logLevel<=Fe.WARN){const n=e.map(wv);Qa.warn(`Firestore (${Ol}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Re(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,RR(t,s,n)}function RR(t,e,n){let s=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw nr(s),new Error(s)}function Je(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||RR(e,a,s)}function Oe(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class IR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class JL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZL{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new IR(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class e4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class t4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new e4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function i4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Rv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=i4(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function He(t,e){return t<e?-1:t>e?1:0}function gy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Ig(a)===Ig(l)?He(a,l):Ig(a)?1:-1}return He(t.length,e.length)}const s4=55296,r4=57343;function Ig(t){const e=t.charCodeAt(0);return e>=s4&&e<=r4}function _l(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Nx="__name__";class hs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Re(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=hs.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return He(e.length,n.length)}static compareSegments(e,n){const s=hs.isNumericId(e),a=hs.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?hs.extractNumericId(e).compare(hs.extractNumericId(n)):gy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class ht extends hs{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const a4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends hs{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return a4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nx}static keyField(){return new ln([Nx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ht.fromString(e))}static fromName(e){return new xe(ht.fromString(e).popFirst(5))}static empty(){return new xe(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ht(e.slice()))}}function CR(t,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o4(t,e,n,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dx(t){if(!xe.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ox(t){if(xe.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cd(t);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cu(t,e){if(!NR(t))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}const Mx=-62135596800,Vx=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Vx);return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mx)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vx}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Gt("string",pt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new pt(0,0))}static max(){return new Ne(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function l4(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Zr(a,xe.empty(),e)}function c4(t){return new Zr(t.readTime,t.key,mu)}class Zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(Ne.min(),xe.empty(),mu)}static max(){return new Zr(Ne.max(),xe.empty(),mu)}}function u4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}const h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ml(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==h4)throw t;pe("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((a=>a?ae.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{u[p]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ae(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function d4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;const Iv=-1;function Dd(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function m4(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const DR="";function p4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Px(e)),e=g4(t.get(n),e);return Px(e)}function g4(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case DR:n+="";break;default:n+=l}}return n}function Px(t){return t+DR+""}function kx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new on(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lx(this.data.getIterator())}getIteratorFrom(e){return new Lx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class Lx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new $t(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class MR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new MR("Invalid base64 string: "+l):l}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const y4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=y4.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}const VR="server_timestamp",PR="__type__",kR="__previous_value__",LR="__local_write_time__";function Cv(t){return(t?.mapValue?.fields||{})[PR]?.stringValue===VR}function Od(t){const e=t.mapValue.fields[kR];return Cv(e)?Od(e):e}function pu(t){const e=ea(t.mapValue.fields[LR].timestampValue);return new pt(e.seconds,e.nanos)}class v4{constructor(e,n,s,a,l,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=E}}const ed="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||ed}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===ed}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}function _4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(t.options.projectId,e)}const jR="__type__",E4="__max__",Ef={mapValue:{}},UR="__vector__",td="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:b4(t)?9007199254740991:T4(t)?10:11:Re(28295,{value:t})}function _s(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ea(a.timestampValue),f=ea(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ta(a.bytesValue).isEqual(ta(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Dt(a.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(a.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Dt(a.integerValue)===Dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Dt(a.doubleValue),f=Dt(l.doubleValue);return u===f?Zf(u)===Zf(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return _l(t.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(kx(u)!==kx(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!_s(u[m],f[m])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function yu(t,e){return(t.values||[]).find((n=>_s(n,e)))!==void 0}function El(t,e){if(t===e)return 0;const n=na(t),s=na(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Dt(l.integerValue||l.doubleValue),m=Dt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return jx(t.timestampValue,e.timestampValue);case 4:return jx(pu(t),pu(e));case 5:return gy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=ta(l),m=ta(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=He(f[p],m[p]);if(y!==0)return y}return He(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=He(Dt(l.latitude),Dt(u.latitude));return f!==0?f:He(Dt(l.longitude),Dt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ux(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[td]?.arrayValue,y=m[td]?.arrayValue,E=He(p?.values?.length||0,y?.values?.length||0);return E!==0?E:Ux(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Ef.mapValue&&u===Ef.mapValue)return 0;if(l===Ef.mapValue)return 1;if(u===Ef.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const b=gy(m[E],y[E]);if(b!==0)return b;const w=El(f[m[E]],p[y[E]]);if(w!==0)return w}return He(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function jx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=ea(t),s=ea(e),a=He(n.seconds,s.seconds);return a!==0?a:He(n.nanos,s.nanos)}function Ux(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=El(n[a],s[a]);if(l)return l}return He(n.length,s.length)}function Tl(t){return yy(t)}function yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ea(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ta(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=yy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${yy(n.fields[u])}`;return a+"}"})(t.mapValue):Re(61005,{value:t})}function Mf(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Od(t);return e?16+Mf(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Mf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return oa(s.fields,((l,u)=>{a+=l.length+Mf(u)})),a})(t.mapValue);default:throw Re(13486,{value:t})}}function zx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vy(t){return!!t&&"integerValue"in t}function Nv(t){return!!t&&"arrayValue"in t}function Bx(t){return!!t&&"nullValue"in t}function Fx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function T4(t){return(t?.mapValue?.fields||{})[jR]?.stringValue===UR}function nu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return{...t}}function b4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===E4}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=ln.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=nu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){oa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Vn(nu(this.value))}}function zR(t){const e=[];return oa(t.fields,((n,s)=>{const a=new ln([n]);if(Vf(s)){const l=zR(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Kn(e)}class pn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new pn(e,0,Ne.min(),Ne.min(),Ne.min(),Vn.empty(),0)}static newFoundDocument(e,n,s,a){return new pn(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Ne.min(),Ne.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Ne.min(),Ne.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nd{constructor(e,n){this.position=e,this.inclusive=n}}function Hx(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=xe.comparator(xe.fromName(u.referenceValue),n.key):s=El(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function qx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_s(t.position[n],e.position[n]))return!1;return!0}class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function x4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class BR{}class qt extends BR{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new A4(e,n,s):n==="array-contains"?new I4(e,s):n==="in"?new C4(e,s):n==="not-in"?new N4(e,s):n==="array-contains-any"?new D4(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new w4(e,s):new R4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(El(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(El(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends BR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return FR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FR(t){return t.op==="and"}function HR(t){return S4(t)&&FR(t)}function S4(t){for(const e of t.filters)if(e instanceof Ui)return!1;return!0}function _y(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(HR(t))return t.filters.map((e=>_y(e))).join(",");{const e=t.filters.map((n=>_y(n))).join(",");return`${t.op}(${e})`}}function qR(t,e){return t instanceof qt?(function(s,a){return a instanceof qt&&s.op===a.op&&s.field.isEqual(a.field)&&_s(s.value,a.value)})(t,e):t instanceof Ui?(function(s,a){return a instanceof Ui&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&qR(u,a.filters[f])),!0):!1})(t,e):void Re(19439)}function GR(t){return t instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(t):t instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(GR).join(" ,")+"}"})(t):"Filter"}class A4 extends qt{constructor(e,n,s){super(e,n,s),this.key=xe.fromName(s.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class w4 extends qt{constructor(e,n){super(e,"in",n),this.keys=KR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class R4 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=KR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function KR(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class I4 extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nv(n)&&yu(n.arrayValue,this.value)}}class C4 extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class N4 extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class D4 extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yu(this.value.arrayValue,s)))}}class O4{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Gx(t,e=null,n=[],s=[],a=null,l=null,u=null){return new O4(t,e,n,s,a,l,u)}function Dv(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>_y(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Tl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Tl(s))).join(",")),e.Te=n}return e.Te}function Ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qx(t.startAt,e.startAt)&&qx(t.endAt,e.endAt)}function Ey(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Pl{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function M4(t,e,n,s,a,l,u,f){return new Pl(t,e,n,s,a,l,u,f)}function Mv(t){return new Pl(t)}function Kx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V4(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function YR(t){return t.collectionGroup!==null}function iu(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new $t(ln.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new vu(l,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new vu(ln.keyField(),s))}return e.Ie}function ds(t){const e=Oe(t);return e.Ee||(e.Ee=P4(e,iu(t))),e.Ee}function P4(t,e){if(t.limitType==="F")return Gx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new vu(a.field,l)}));const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return Gx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ty(t,e){const n=t.filters.concat([e]);return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function k4(t,e){const n=t.explicitOrderBy.concat([e]);return new Pl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function by(t,e,n){return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Md(t,e){return Ov(ds(t),ds(e))&&t.limitType===e.limitType}function $R(t){return`${Dv(ds(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>GR(a))).join(", ")}]`),Dd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Tl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Tl(a))).join(",")),`Target(${s})`})(ds(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):xe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of iu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const p=Hx(u,f,m);return u.inclusive?p<=0:p<0})(s.startAt,iu(s),a)||s.endAt&&!(function(u,f,m){const p=Hx(u,f,m);return u.inclusive?p>=0:p>0})(s.endAt,iu(s),a))})(t,e)}function L4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QR(t){return(e,n)=>{let s=!1;for(const a of iu(t)){const l=j4(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function j4(t,e,n){const s=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?El(m,p):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:t.dir})}}class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return OR(this.inner)}size(){return this.innerSize}}const U4=new Tt(xe.comparator);function ir(){return U4}const XR=new Tt(xe.comparator);function $c(...t){let e=XR;for(const n of t)e=e.insert(n.key,n);return e}function WR(t){let e=XR;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function qa(){return su()}function JR(){return su()}function su(){return new ro((t=>t.toString()),((t,e)=>t.isEqual(e)))}const z4=new Tt(xe.comparator),B4=new $t(xe.comparator);function qe(...t){let e=B4;for(const n of t)e=e.add(n);return e}const F4=new $t(He);function H4(){return F4}function Vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function ZR(t){return{integerValue:""+t}}function q4(t,e){return m4(e)?ZR(e):Vv(t,e)}class Pd{constructor(){this._=void 0}}function G4(t,e,n){return t instanceof id?(function(a,l){const u={fields:{[PR]:{stringValue:VR},[LR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Cv(l)&&(l=Od(l)),l&&(u.fields[kR]=l),{mapValue:u}})(n,e):t instanceof bl?t1(t,e):t instanceof _u?n1(t,e):(function(a,l){const u=e1(a,l),f=Yx(u)+Yx(a.Ae);return vy(u)&&vy(a.Ae)?ZR(f):Vv(a.serializer,f)})(t,e)}function K4(t,e,n){return t instanceof bl?t1(t,e):t instanceof _u?n1(t,e):n}function e1(t,e){return t instanceof sd?(function(s){return vy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class id extends Pd{}class bl extends Pd{constructor(e){super(),this.elements=e}}function t1(t,e){const n=i1(e);for(const s of t.elements)n.some((a=>_s(a,s)))||n.push(s);return{arrayValue:{values:n}}}class _u extends Pd{constructor(e){super(),this.elements=e}}function n1(t,e){let n=i1(e);for(const s of t.elements)n=n.filter((a=>!_s(a,s)));return{arrayValue:{values:n}}}class sd extends Pd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yx(t){return Dt(t.integerValue||t.doubleValue)}function i1(t){return Nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Y4{constructor(e,n){this.field=e,this.transform=n}}function $4(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof bl&&a instanceof bl||s instanceof _u&&a instanceof _u?_l(s.elements,a.elements,_s):s instanceof sd&&a instanceof sd?_s(s.Ae,a.Ae):s instanceof id&&a instanceof id})(t.transform,e.transform)}class Q4{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kd{}function s1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pv(t.key,pi.none()):new Nu(t.key,t.data,pi.none());{const n=t.data,s=Vn.empty();let a=new $t(ln.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new la(t.key,s,new Kn(a.toArray()),pi.none())}}function X4(t,e,n){t instanceof Nu?(function(a,l,u){const f=a.value.clone(),m=Qx(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof la?(function(a,l,u){if(!Pf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Qx(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(r1(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function ru(t,e,n,s){return t instanceof Nu?(function(l,u,f,m){if(!Pf(l.precondition,u))return f;const p=l.value.clone(),y=Xx(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof la?(function(l,u,f,m){if(!Pf(l.precondition,u))return f;const p=Xx(l.fieldTransforms,m,u),y=u.data;return y.setAll(r1(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,s):(function(l,u,f){return Pf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function W4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=e1(s.transform,a||null);l!=null&&(n===null&&(n=Vn.empty()),n.set(s.field,l))}return n||null}function $x(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&_l(s,a,((l,u)=>$4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends kd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class la extends kd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function r1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Qx(t,e,n){const s=new Map;Je(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,K4(u,f,n[a]))}return s}function Xx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,G4(l,u,e))}return s}class Pv extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J4 extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&X4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=JR();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=s1(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,((n,s)=>$x(n,s)))&&_l(this.baseMutations,e.baseMutations,((n,s)=>$x(n,s)))}}class kv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return z4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new kv(e,n,s,a)}}class ej{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tj{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ft,Ye;function nj(t){switch(t){case ne.OK:return Re(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function a1(t){if(t===void 0)return nr("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Ft.OK:return ne.OK;case Ft.CANCELLED:return ne.CANCELLED;case Ft.UNKNOWN:return ne.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ne.INTERNAL;case Ft.UNAVAILABLE:return ne.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ne.NOT_FOUND;case Ft.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ft.ABORTED:return ne.ABORTED;case Ft.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ft.DATA_LOSS:return ne.DATA_LOSS;default:return Re(39323,{code:t})}}(Ye=Ft||(Ft={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function ij(){return new TextEncoder}const sj=new Qr([4294967295,4294967295],0);function Wx(t){const e=ij().encode(t),n=new TR;return n.update(e),new Uint8Array(n.digest())}function Jx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qr([n,s],0),new Qr([a,l],0)]}class Lv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Qc(`Invalid padding: ${n}`);if(s<0)throw new Qc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Qc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Qc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Qr.fromNumber(s)));return a.compare(sj)===1&&(a=new Qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Wx(e),[s,a]=Jx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Lv(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=Wx(e),[s,a]=Jx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ld{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ld(Ne.min(),a,new Tt(He),ir(),qe())}}class Du{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Du(s,n,qe(),qe(),qe())}}class kf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class o1{constructor(e,n){this.targetId=e,this.Ce=n}}class l1{constructor(e,n,s=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Zx{constructor(){this.ve=0,this.Fe=eS(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Re(38017,{changeType:l})}})),new Du(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=eS()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class rj{constructor(e){this.Ge=e,this.ze=new Map,this.je=ir(),this.He=Tf(),this.Je=Tf(),this.Ze=new Tt(He)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ey(l))if(s===0){const u=new xe(l.path);this.et(n,u,pn.newNoDocument(u,Ne.min()))}else Je(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=ta(s).toUint8Array()}catch(m){if(m instanceof MR)return vl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Lv(u,a,l)}catch(m){return vl(m instanceof Qc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Ey(f.target)){const m=new xe(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,pn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=qe();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Ld(e,n,this.Ze,this.je,s);return this.je=ir(),this.He=Tf(),this.Je=Tf(),this.Ze=new Tt(He),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Zx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new $t(He),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new $t(He),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tf(){return new Tt(xe.comparator)}function eS(){return new Tt(xe.comparator)}const aj={asc:"ASCENDING",desc:"DESCENDING"},oj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lj={and:"AND",or:"OR"};class cj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xy(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uj(t,e){return rd(t,e.toTimestamp())}function ms(t){return Je(!!t,49232),Ne.fromTimestamp((function(n){const s=ea(n);return new pt(s.seconds,s.nanos)})(t))}function jv(t,e){return Sy(t,e).canonicalString()}function Sy(t,e){const n=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function u1(t){const e=ht.fromString(t);return Je(p1(e),10190,{key:e.toString()}),e}function Ay(t,e){return jv(t.databaseId,e.path)}function Cg(t,e){const n=u1(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(f1(n))}function h1(t,e){return jv(t.databaseId,e)}function hj(t){const e=u1(t);return e.length===4?ht.emptyPath():f1(e)}function wy(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function f1(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tS(t,e,n){return{name:Ay(t,e),fields:n.value.mapValue.fields}}function fj(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Je(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(Je(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const y=p.code===void 0?ne.UNKNOWN:a1(p.code);return new fe(y,p.message||"")})(u);n=new l1(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Cg(t,s.document.name),l=ms(s.document.updateTime),u=s.document.createTime?ms(s.document.createTime):Ne.min(),f=new Vn({mapValue:{fields:s.document.fields}}),m=pn.newFoundDocument(a,l,u,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new kf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Cg(t,s.document),l=s.readTime?ms(s.readTime):Ne.min(),u=pn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new kf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Cg(t,s.document),l=s.removedTargetIds||[];n=new kf([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new tj(a,l),f=s.targetId;n=new o1(f,u)}}return n}function dj(t,e){let n;if(e instanceof Nu)n={update:tS(t,e.key,e.value)};else if(e instanceof Pv)n={delete:Ay(t,e.key)};else if(e instanceof la)n={update:tS(t,e.key,e.data),updateMask:bj(e.fieldMask)};else{if(!(e instanceof J4))return Re(16599,{dt:e.type});n={verify:Ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof id)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof bl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof _u)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof sd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Re(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:uj(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(t,e.precondition)),n}function mj(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ms(a.updateTime):ms(l);return u.isEqual(Ne.min())&&(u=ms(l)),new Q4(u,a.transformResults||[])})(n,e)))):[]}function pj(t,e){return{documents:[h1(t,e.path)]}}function gj(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=h1(t,a);const l=(function(p){if(p.length!==0)return m1(Ui.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:tl(b.field),direction:_j(b.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=xy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function yj(t){let e=hj(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Je(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(E){const b=d1(E);return b instanceof Ui&&HR(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((b=>(function(D){return new vu(nl(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(E){let b;return b=typeof E=="object"?E.value:E,Dd(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(E){const b=!!E.before,w=E.values||[];return new nd(w,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const b=!E.before,w=E.values||[];return new nd(w,b)})(n.endAt)),M4(e,a,u,l,f,"F",m,p)}function vj(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=nl(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=nl(n.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=nl(n.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=nl(n.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qt.create(nl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>d1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function _j(t){return aj[t]}function Ej(t){return oj[t]}function Tj(t){return lj[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return ln.fromServerFormat(t.fieldPath)}function m1(t){return t instanceof qt?(function(n){if(n.op==="=="){if(Fx(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(Bx(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fx(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(Bx(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:Ej(n.op),value:n.value}}})(t):t instanceof Ui?(function(n){const s=n.getFilters().map((a=>m1(a)));return s.length===1?s[0]:{compositeFilter:{op:Tj(n.op),filters:s}}})(t):Re(54877,{filter:t})}function bj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function p1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function g1(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Kr{constructor(e,n,s,a,l=Ne.min(),u=Ne.min(),f=cn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xj{constructor(e){this.yt=e}}function Sj(t){const e=yj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?by(e,e.limit,"L"):e}class Aj{constructor(){this.Sn=new wj}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Zr.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class wj{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new $t(ht.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(ht.comparator)).toArray()}}const nS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y1=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(y1,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class xl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xl(0)}static ar(){return new xl(-1)}}const iS="LruGarbageCollector",Rj=1048576;function sS([t,e],[n,s]){const a=He(t,n);return a===0?He(e,s):a}class Ij{constructor(e){this.Pr=e,this.buffer=new $t(sS),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Cj{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(iS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?pe(iS,"Ignoring IndexedDB error during garbage collection: ",n):await Ml(n)}await this.Ar(3e5)}))}}class Nj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Nd.ce);const s=new Ij(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(nS)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nS):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(s=E,f=Date.now(),this.removeTargets(e,s,n)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(p=Date.now(),Zo()<=Fe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function Dj(t,e){return new Nj(t,e)}class Oj{constructor(){this.changes=new ro((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Vj{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&ru(s.mutation,a,Kn.empty(),pt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const a=qa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=$c();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=qa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=ir();const u=su(),f=(function(){return su()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof la)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),ru(y.mutation,p,y.mutation.getFieldMask(),pt.now())):u.set(p.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>f.set(p,new Mj(y,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=su();let a=new Tt(((u,f)=>u-f)),l=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Kn.empty();y=f.applyToLocalView(p,y),s.set(m,y);const E=(a.get(f.batchId)||qe()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,E=JR();y.forEach((b=>{if(!l.has(b)){const w=s1(n.get(b),s.get(b));w!==null&&E.set(b,w),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,E))}return ae.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return V4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(qa());let f=mu,m=l;return u.next((p=>ae.forEach(p,((y,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,qe()))).next((y=>({batchId:f,changes:WR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((s=>{let a=$c();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=$c();return this.indexManager.getCollectionParents(e,l).next((f=>ae.forEach(f,(m=>{const p=(function(E,b){return new Pl(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((E,b)=>{u=u.insert(E,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,pn.newInvalidDocument(y)))}));let f=$c();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&ru(y.mutation,p,Kn.empty(),pt.now()),Vd(n,p)&&(f=f.insert(m,p))})),f}))}}class Pj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ms(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:Sj(a.bundledQuery),readTime:ms(a.readTime)}})(n)),ae.resolve()}}class kj{constructor(){this.overlays=new Tt(xe.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qa();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=qa(),l=n.length+1,u=new xe(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Tt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=qa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=qa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return ae.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new ej(n,s));let l=this.Lr.get(n);l===void 0&&(l=qe(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class Lj{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Uv{constructor(){this.kr=new $t(Jt.Kr),this.qr=new $t(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Jt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Jt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new xe(new ht([])),s=new Jt(n,e),a=new Jt(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new xe(new ht([])),s=new Jt(n,e),a=new Jt(n,e+1);let l=qe();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Jt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return xe.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||xe.comparator(e.key,n.key)}}class jj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(Jt.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Z4(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new Jt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Iv:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Jt(n,0),a=new Jt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(He);return n.forEach((a=>{const l=new Jt(a,0),u=new Jt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),ae.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;xe.isDocumentKey(l)||(l=l.child(""));const u=new Jt(new xe(l),0);let f=new $t(He);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),u),ae.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Je(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ae.forEach(n.mutations,(a=>{const l=new Jt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Jt(n,0),a=this.Jr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Uj{constructor(e){this.ti=e,this.docs=(function(){return new Tt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let s=ir();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=ir();const u=n.path,f=new xe(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||u4(c4(y),s)<=0||(a.has(y.key)||Vd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Re(9500)}ni(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new zj(this)}getSize(e){return ae.resolve(this.size)}}class zj extends Oj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Bj{constructor(e){this.persistence=e,this.ri=new ro((n=>Dv(n)),Ov),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new Uv,this.targetCount=0,this.oi=xl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class v1{constructor(e,n){this._i={},this.overlays={},this.ai=new Nd(0),this.ui=!1,this.ui=!0,this.ci=new Lj,this.referenceDelegate=e(this),this.li=new Bj(this),this.indexManager=new Aj,this.remoteDocumentCache=(function(a){return new Uj(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new xj(n),this.Pi=new Pj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new jj(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const a=new Fj(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ae.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class Fj extends f4{constructor(e){super(),this.currentSequenceNumber=e}}class zv{constructor(e){this.persistence=e,this.Ri=new Uv,this.Ai=null}static Vi(e){return new zv(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(s=>{const a=xe.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.fi=new ro((s=>p4(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Dj(this,n)}static Vi(e,n){return new ad(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mf(e.data.value)),n}wr(e,n,s){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=qe(),a=qe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Bv(e,n.fromCache,s,a)}}class Hj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class qj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Nk()?8:d4(yn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Hj;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(Zo()<=Fe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(Zo()<=Fe.DEBUG&&pe("QueryEngine","Query:",el(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Zo()<=Fe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):ae.resolve())}gs(e,n){if(Kx(n))return ae.resolve(null);let s=ds(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=by(n,null,"F"),s=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=qe(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,u,m.readTime)?this.gs(e,by(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return Kx(n)||a.isEqual(Ne.min())?ae.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?ae.resolve(null):(Zo()<=Fe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),el(n)),this.Ds(e,u,n,l4(a,mu)).next((f=>f)))}))}bs(e,n){let s=new $t(QR(e));return n.forEach(((a,l)=>{Vd(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return Zo()<=Fe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",el(n)),this.fs.getDocumentsMatchingQuery(e,n,Zr.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Fv="LocalStore",Gj=3e8;class Kj{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Tt(He),this.Fs=new ro((l=>Dv(l)),Ov),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Yj(t,e,n,s){return new Kj(t,e,n,s)}async function _1(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=qe();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function $j(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const E=p.batch,b=E.keys();let w=ae.resolve();return b.forEach((D=>{w=w.next((()=>y.getEntry(m,D))).next((L=>{const k=p.docVersions.get(D);Je(k!==null,48541),L.version.compareTo(k)<0&&(E.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=qe();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function E1(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Qj(t,e){const n=Oe(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,E)=>{const b=a.get(E);if(!b)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,E).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,E))));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?w=w.withResumeToken(cn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,s)),a=a.insert(E,w),(function(L,k,F){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=Gj?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,w,y)&&f.push(n.li.updateTargetData(l,w))}));let m=ir(),p=qe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(Xj(l,u,e.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(Ne.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((E=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return ae.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function Xj(t,e,n){let s=qe(),a=qe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=ir();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):pe(Fv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function Wj(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Iv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Jj(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,ae.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new Kr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Ry(t,e,n){const s=Oe(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Vl(u))throw u;pe(Fv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function rS(t,e,n){const s=Oe(t);let a=Ne.min(),l=qe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const E=Oe(m),b=E.Fs.get(y);return b!==void 0?ae.resolve(E.vs.get(b)):E.li.getTargetData(p,y)})(s,u,ds(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Ne.min(),n?l:qe()))).next((f=>(Zj(s,L4(e),f),{documents:f,ks:l})))))}function Zj(t,e,n){let s=t.Ms.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class aS{constructor(){this.activeTargetIds=H4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eU{constructor(){this.vo=new aS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new aS,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tU{Mo(e){}shutdown(){}}const oS="ConnectivityMonitor";class lS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(oS,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(oS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bf=null;function Iy(){return bf===null?bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():bf++,"0x"+bf.toString(16)}const Ng="RestConnection",nU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===ed?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Iy(),f=this.Qo(e,n.toUriEncodedString());pe(Ng,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),y=no(p);return this.zo(e,f,m,s,y).then((E=>(pe(Ng,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw vl(Ng,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",s),E}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=nU[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class sU{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const dn="WebChannelConnection",Fc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ul extends iU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=AR();Fc(e,SR.STAT_EVENT,(n=>{n.stat===py.PROXY?pe(dn,"STAT_EVENT: detected buffering proxy"):n.stat===py.NOPROXY&&pe(dn,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,n,s,a,l){const u=Iy();return new Promise(((f,m)=>{const p=new bR;p.setWithCredentials(!0),p.listenOnce(xR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Of.NO_ERROR:const E=p.getResponseJson();pe(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Of.TIMEOUT:pe(dn,`RPC '${e}' ${u} timed out`),m(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const b=p.getStatus();if(pe(dn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w?.error;if(D&&D.status&&D.message){const L=(function(F){const q=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(q)>=0?q:ne.UNKNOWN})(D.status);m(new fe(L,D.message))}else m(new fe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(dn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);pe(dn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Iy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");pe(dn,`Creating RPC '${e}' stream ${a}: ${p}`,f);const y=u.createWebChannel(p,f);this.I_(y);let E=!1,b=!1;const w=new sU({Ho:D=>{b?pe(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(E||(pe(dn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),E=!0),pe(dn,`RPC '${e}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return Fc(y,Yc.EventType.OPEN,(()=>{b||(pe(dn,`RPC '${e}' stream ${a} transport opened.`),w.i_())})),Fc(y,Yc.EventType.CLOSE,(()=>{b||(b=!0,pe(dn,`RPC '${e}' stream ${a} transport closed`),w.o_(),this.E_(y))})),Fc(y,Yc.EventType.ERROR,(D=>{b||(b=!0,vl(dn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),w.o_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),Fc(y,Yc.EventType.MESSAGE,(D=>{if(!b){const L=D.data[0];Je(!!L,16349);const k=L,F=k?.error||k[0]?.error;if(F){pe(dn,`RPC '${e}' stream ${a} received error:`,F);const q=F.status;let z=(function(ce){const N=Ft[ce];if(N!==void 0)return a1(N)})(q),ie=F.message;z===void 0&&(z=ne.INTERNAL,ie="Unknown error status: "+q+" with message "+F.message),b=!0,w.o_(new fe(z,ie)),y.close()}else pe(dn,`RPC '${e}' stream ${a} received:`,L),w.__(L)}})),ul.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wR()}}function rU(t){return new ul(t)}function Dg(){return typeof document<"u"?document:null}function jd(t){return new cj(t,!0)}ul.c_=!1;class T1{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const cS="PersistentStream";class b1{constructor(e,n,s,a,l,u,f,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(cS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pe(cS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aU extends b1{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fj(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?ms(u.readTime):Ne.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=wy(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=Ey(m)?{documents:pj(l,m)}:{query:gj(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=c1(l,u.resumeToken);const p=xy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ne.min())>0){f.readTime=rd(l,u.snapshotVersion.toTimestamp());const p=xy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=vj(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=wy(this.serializer),n.removeTarget=e,this.K_(n)}}class oU extends b1{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mj(e.writeResults,e.commitTime),s=ms(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=wy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>dj(this.serializer,s)))};this.K_(n)}}class lU{}class cU extends lU{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Sy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ne.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,Sy(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function uU(t,e,n,s){return new cU(t,e,n,s)}class hU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xa="RemoteStore";class fU{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{ao(this)&&(pe(Xa,"Restarting streams for network reachability change."),await(async function(m){const p=Oe(m);p.Ea.add(4),await Ou(p),p.Va.set("Unknown"),p.Ea.delete(4),await Ud(p)})(this))}))})),this.Va=new hU(s,a)}}async function Ud(t){if(ao(t))for(const e of t.Ra)await e(!0)}async function Ou(t){for(const e of t.Ra)await e(!1)}function x1(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kv(n)?Gv(n):kl(n).O_()&&qv(n,e))}function Hv(t,e){const n=Oe(t),s=kl(n);n.Ia.delete(e),s.O_()&&S1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ao(n)&&n.Va.set("Unknown"))}function qv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).Z_(e)}function S1(t,e){t.da.$e(e),kl(t).X_(e)}function Gv(t){t.da=new rj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.Va.ua()}function Kv(t){return ao(t)&&!kl(t).x_()&&t.Ia.size>0}function ao(t){return Oe(t).Ea.size===0}function A1(t){t.da=void 0}async function dU(t){t.Va.set("Online")}async function mU(t){t.Ia.forEach(((e,n)=>{qv(t,e)}))}async function pU(t,e){A1(t),Kv(t)?(t.Va.ha(e),Gv(t)):t.Va.set("Unknown")}async function gU(t,e,n){if(t.Va.set("Online"),e instanceof l1&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){pe(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await od(t,s)}else if(e instanceof kf?t.da.Xe(e):e instanceof o1?t.da.st(e):t.da.tt(e),!n.isEqual(Ne.min()))try{const s=await E1(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),S1(l,m);const E=new Kr(y.target,m,p,y.sequenceNumber);qv(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){pe(Xa,"Failed to raise snapshot:",s),await od(t,s)}}async function od(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await Ou(t),t.Va.set("Offline"),n||(n=()=>E1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Xa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ud(t)}))}function w1(t,e){return e().catch((n=>od(t,n,e)))}async function zd(t){const e=Oe(t),n=ia(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Iv;for(;yU(e);)try{const a=await Wj(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,vU(e,a)}catch(a){await od(e,a)}R1(e)&&I1(e)}function yU(t){return ao(t)&&t.Ta.length<10}function vU(t,e){t.Ta.push(e);const n=ia(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function R1(t){return ao(t)&&!ia(t).x_()&&t.Ta.length>0}function I1(t){ia(t).start()}async function _U(t){ia(t).ra()}async function EU(t){const e=ia(t);for(const n of t.Ta)e.ea(n.mutations)}async function TU(t,e,n){const s=t.Ta.shift(),a=kv.from(s,e,n);await w1(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await zd(t)}async function bU(t,e){e&&ia(t).Y_&&await(async function(s,a){if((function(u){return nj(u)&&u!==ne.ABORTED})(a.code)){const l=s.Ta.shift();ia(s).B_(),await w1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await zd(s)}})(t,e),R1(t)&&I1(t)}async function uS(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),pe(Xa,"RemoteStore received new credentials");const s=ao(n);n.Ea.add(3),await Ou(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ud(n)}async function xU(t,e){const n=Oe(t);e?(n.Ea.delete(2),await Ud(n)):e||(n.Ea.add(2),await Ou(n),n.Va.set("Unknown"))}function kl(t){return t.ma||(t.ma=(function(n,s,a){const l=Oe(n);return l.sa(),new aU(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:dU.bind(null,t),Yo:mU.bind(null,t),t_:pU.bind(null,t),J_:gU.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Kv(t)?Gv(t):t.Va.set("Unknown")):(await t.ma.stop(),A1(t))}))),t.ma}function ia(t){return t.fa||(t.fa=(function(n,s,a){const l=Oe(n);return l.sa(),new oU(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_U.bind(null,t),t_:bU.bind(null,t),ta:EU.bind(null,t),na:TU.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await zd(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Xa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Yv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new Yv(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if(nr("AsyncQueue",`${e}: ${t}`),Vl(t))return new fe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||xe.comparator(n.key,s.key):(n,s)=>xe.comparator(n.key,s.key),this.keyedMap=$c(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new hl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class hS{constructor(){this.ga=new Tt(xe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Sl{constructor(e,n,s,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Sl(e,n,hl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class SU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class AU{constructor(){this.queries=fS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Oe(n),l=a.queries;a.queries=fS(),l.forEach(((u,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function fS(){return new ro((t=>$R(t)),Md)}async function C1(t,e){const n=Oe(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new SU,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=$v(u,`Initialization of query '${el(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Qv(n)}async function N1(t,e){const n=Oe(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wU(t,e){const n=Oe(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&Qv(n)}function RU(t,e,n){const s=Oe(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function Qv(t){t.Ca.forEach((e=>{e.next()}))}var Cy,dS;(dS=Cy||(Cy={})).Ma="default",dS.Cache="cache";class D1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}class O1{constructor(e){this.key=e}}class M1{constructor(e){this.key=e}}class IU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=QR(e),this.tu=new hl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new hS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,E)=>{const b=a.get(y),w=Vd(this.query,E)?E:null,D=!!b&&this.mutatedKeys.has(b.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;b&&w?b.data.isEqual(w.data)?D!==L&&(s.track({type:3,doc:w}),k=!0):this.su(b,w)||(s.track({type:2,doc:w}),k=!0,(m&&this.eu(w,m)>0||p&&this.eu(w,p)<0)&&(f=!0)):!b&&w?(s.track({type:0,doc:w}),k=!0):b&&!w&&(s.track({type:1,doc:b}),k=!0,(m||p)&&(f=!0)),k&&(w?(u=u.add(w),l=L?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,E)=>(function(w,D){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:k})}};return L(w)-L(D)})(y.type,E.type)||this.eu(y.doc,E.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Sl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new M1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new O1(s))})),n}cu(e){this.Za=e.ks,this.Ya=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xv="SyncEngine";class CU{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class NU{constructor(e){this.key=e,this.hu=!1}}class DU{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ro((f=>$R(f)),Md),this.Iu=new Map,this.Eu=new Set,this.Ru=new Tt(xe.comparator),this.Au=new Map,this.Vu=new Uv,this.du={},this.mu=new Map,this.fu=xl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OU(t,e,n=!0){const s=U1(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await V1(s,e,n,!0),a}async function MU(t,e){const n=U1(t);await V1(n,e,!0,!1)}async function V1(t,e,n,s){const a=await Jj(t.localStore,ds(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await VU(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&x1(t.remoteStore,a),f}async function VU(t,e,n,s,a){t.pu=(E,b,w)=>(async function(L,k,F,q){let z=k.view.ru(F);z.Ss&&(z=await rS(L.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,z))));const ie=q&&q.targetChanges.get(k.targetId),le=q&&q.targetMismatches.get(k.targetId)!=null,ce=k.view.applyChanges(z,L.isPrimaryClient,ie,le);return pS(L,k.targetId,ce.au),ce.snapshot})(t,E,b,w);const l=await rS(t.localStore,e,!0),u=new IU(e,l.ks),f=u.ru(l.documents),m=Du.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);pS(t,n,p.au);const y=new CU(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function PU(t,e,n){const s=Oe(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Md(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ry(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Hv(s.remoteStore,a.targetId),Ny(s,a.targetId)})).catch(Ml)):(Ny(s,a.targetId),await Ry(s.localStore,a.targetId,!0))}async function kU(t,e){const n=Oe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hv(n.remoteStore,s.targetId))}async function LU(t,e,n){const s=qU(t);try{const a=await(function(u,f){const m=Oe(u),p=pt.now(),y=f.reduce(((w,D)=>w.add(D.key)),qe());let E,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let D=ir(),L=qe();return m.xs.getEntries(w,y).next((k=>{D=k,D.forEach(((F,q)=>{q.isValidDocument()||(L=L.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,D))).next((k=>{E=k;const F=[];for(const q of f){const z=W4(q,E.get(q.key).overlayedDocument);z!=null&&F.push(new la(q.key,z,zR(z.value.mapValue),pi.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,F,f)})).next((k=>{b=k;const F=k.applyToLocalDocumentSet(E,L);return m.documentOverlayCache.saveOverlays(w,k.batchId,F)}))})).then((()=>({batchId:b.batchId,changes:WR(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.du[u.currentUser.toKey()];p||(p=new Tt(He)),p=p.insert(f,m),u.du[u.currentUser.toKey()]=p})(s,a.batchId,n),await Mu(s,a.changes),await zd(s.remoteStore)}catch(a){const l=$v(a,"Failed to persist write");n.reject(l)}}async function P1(t,e){const n=Oe(t);try{const s=await Qj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Je(u.hu,14607):a.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await Mu(n,s,e)}catch(s){await Ml(s)}}function mS(t,e,n){const s=Oe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Oe(u);m.onlineState=f;let p=!1;m.queries.forEach(((y,E)=>{for(const b of E.ba)b.va(f)&&(p=!0)})),p&&Qv(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jU(t,e,n){const s=Oe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Tt(xe.comparator);u=u.insert(l,pn.newNoDocument(l,Ne.min()));const f=qe().add(l),m=new Ld(Ne.min(),new Map,new Tt(He),u,f);await P1(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),Wv(s)}else await Ry(s.localStore,e,!1).then((()=>Ny(s,e,n))).catch(Ml)}async function UU(t,e){const n=Oe(t),s=e.batch.batchId;try{const a=await $j(n.localStore,e);L1(n,s,null),k1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Mu(n,a)}catch(a){await Ml(a)}}async function zU(t,e,n){const s=Oe(t);try{const a=await(function(u,f){const m=Oe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((E=>(Je(E!==null,37113),y=E.keys(),m.mutationQueue.removeMutationBatch(p,E)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);L1(s,e,n),k1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Mu(s,a)}catch(a){await Ml(a)}}function k1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function L1(t,e,n){const s=Oe(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||j1(t,s)}))}function j1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Hv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Wv(t))}function pS(t,e,n){for(const s of n)s instanceof O1?(t.Vu.addReference(s.key,e),BU(t,s)):s instanceof M1?(pe(Xv,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||j1(t,s.key)):Re(19791,{wu:s})}function BU(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(pe(Xv,"New document in limbo: "+n),t.Eu.add(s),Wv(t))}function Wv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(ht.fromString(e)),s=t.fu.next();t.Au.set(s,new NU(n)),t.Ru=t.Ru.insert(n,s),x1(t.remoteStore,new Kr(ds(Mv(n.path)),s,"TargetPurposeLimboResolution",Nd.ce))}}async function Mu(t,e,n){const s=Oe(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Bv.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,p){const y=Oe(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ae.forEach(p,(b=>ae.forEach(b.Ts,(w=>y.persistence.referenceDelegate.addReference(E,b.targetId,w))).next((()=>ae.forEach(b.Is,(w=>y.persistence.referenceDelegate.removeReference(E,b.targetId,w)))))))))}catch(E){if(!Vl(E))throw E;pe(Fv,"Failed to update sequence numbers: "+E)}for(const E of p){const b=E.targetId;if(!E.fromCache){const w=y.vs.get(b),D=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(b,L)}}})(s.localStore,l))}async function FU(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){pe(Xv,"User change. New user:",e.toKey());const s=await _1(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new fe(ne.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mu(n,s.Ns)}}function HU(t,e){const n=Oe(t),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let a=qe();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function U1(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jU.bind(null,e),e.Pu.J_=wU.bind(null,e.eventManager),e.Pu.yu=RU.bind(null,e.eventManager),e}function qU(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zU.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Yj(this.persistence,new qj,e.initialUser,this.serializer)}Cu(e){return new v1(zv.Vi,this.serializer)}Du(e){return new eU}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class GU extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof ad,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Cj(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new v1((s=>ad.Vi(s,n)),this.serializer)}}class Dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AU})()}createDatastore(e){const n=jd(e.databaseInfo.databaseId),s=rU(e.databaseInfo);return uU(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new fU(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>mS(this.syncEngine,n,0)),(function(){return lS.v()?new lS:new tU})())}createSyncEngine(e,n){return(function(a,l,u,f,m,p,y){const E=new DU(a,l,u,f,m,p);return y&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Oe(n);pe(Xa,"RemoteStore shutting down."),s.Ea.add(5),await Ou(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dy.provider={build:()=>new Dy};class z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const sa="FirestoreClient";class KU{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Rv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{pe(sa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(pe(sa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$v(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Og(t,e){t.asyncQueue.verifyOperationInProgress(),pe(sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await _1(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function gS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YU(t);pe(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>uS(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>uS(e.remoteStore,a))),t._onlineComponents=e}async function YU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(sa,"Using user provided OfflineComponentProvider");try{await Og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await Og(t,new ld)}}else pe(sa,"Using default OfflineComponentProvider"),await Og(t,new GU(void 0));return t._offlineComponents}async function B1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(sa,"Using user provided OnlineComponentProvider"),await gS(t,t._uninitializedComponentsProvider._online)):(pe(sa,"Using default OnlineComponentProvider"),await gS(t,new Dy))),t._onlineComponents}function $U(t){return B1(t).then((e=>e.syncEngine))}async function F1(t){const e=await B1(t),n=e.eventManager;return n.onListen=OU.bind(null,e.syncEngine),n.onUnlisten=PU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kU.bind(null,e.syncEngine),n}function QU(t,e,n={}){const s=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new z1({next:b=>{y.Nu(),u.enqueueAndForget((()=>N1(l,E)));const w=b.docs.has(f);!w&&b.fromCache?p.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&m&&m.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new D1(Mv(f.path),y,{includeMetadataChanges:!0,Ka:!0});return C1(l,E)})(await F1(t),t.asyncQueue,e,n,s))),s.promise}function XU(t,e,n={}){const s=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new z1({next:b=>{y.Nu(),u.enqueueAndForget((()=>N1(l,E))),b.fromCache&&m.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new D1(f,y,{includeMetadataChanges:!0,Ka:!0});return C1(l,E)})(await F1(t),t.asyncQueue,e,n,s))),s.promise}function WU(t,e){const n=new Xs;return t.asyncQueue.enqueueAndForget((async()=>LU(await $U(t),e,n))),n.promise}function H1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const JU="ComponentProvider",yS=new Map;function ZU(t,e,n,s,a){return new v4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,H1(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const q1="firestore.googleapis.com",vS=!0;class _S{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q1,this.ssl=vS}else this.host=e.host,this.ssl=e.ssl??vS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rj)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _S({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _S(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new WL;switch(s.type){case"firstParty":return new t4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=yS.get(n);s&&(pe(JU,"Removing Datastore"),yS.delete(n),s.terminate())})(this),Promise.resolve()}}function e3(t,e,n,s={}){t=ji(t,Bd);const a=no(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(xv(`https://${f}`),Sv("Firestore",!0)),l.host!==q1&&l.host!==f&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!er(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=mn.MOCK_USER;else{p=hR(s.mockUserToken,t._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mn(E)}t._authCredentials=new JL(new IR(p,y))}}class oo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cu(n,Mt._jsonSchema))return new Mt(e,s||null,new xe(ht.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Gt("string",Mt._jsonSchemaVersion),referencePath:Gt("string")};class Xr extends oo{constructor(e,n,s){super(e,n,Mv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new xe(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function bn(t,e,...n){if(t=At(t),CR("collection","path",e),t instanceof Bd){const s=ht.fromString(e,...n);return Ox(s),new Xr(t,null,s)}{if(!(t instanceof Mt||t instanceof Xr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return Ox(s),new Xr(t.firestore,null,s)}}function hi(t,e,...n){if(t=At(t),arguments.length===1&&(e=Rv.newId()),CR("doc","path",e),t instanceof Bd){const s=ht.fromString(e,...n);return Dx(s),new Mt(t,null,new xe(s))}{if(!(t instanceof Mt||t instanceof Xr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return Dx(s),new Mt(t.firestore,t instanceof Xr?t.converter:null,new xe(s))}}const ES="AsyncQueue";class TS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const s=Dg();s&&pe(ES,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;pe(ES,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",bS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Yv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:bS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lo extends Bd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new TS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TS(e),this._firestoreClient=void 0,await e}}}function t3(t,e){const n=typeof t=="object"?t:Id(),s=typeof t=="string"?t:ed,a=aa(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=lR("firestore");l&&e3(a,...l)}return a}function Jv(t){if(t._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n3(t),t._firestoreClient}function n3(t){const e=t._freezeSettings(),n=ZU(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new KU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(cn.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Gt("string",fi._jsonSchemaVersion),bytes:Gt("string")};class Zv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fd{constructor(e){this._methodName=e}}class ps{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ps._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,ps._jsonSchema))return new ps(e.latitude,e.longitude)}}ps._jsonSchemaVersion="firestore/geoPoint/1.0",ps._jsonSchema={type:Gt("string",ps._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pi(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Gt("string",Pi._jsonSchemaVersion),vectorValues:Gt("object")};const i3=/^__.*__$/;class s3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class G1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new la(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function K1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:t})}}class Hd{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return cd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(K1(this.dataSource)&&i3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class r3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||jd(e)}createContext(e,n,s,a=!1){return new Hd({dataSource:e,methodName:n,targetDoc:s,path:ln.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qd(t){const e=t._freezeSettings(),n=jd(t._databaseId);return new r3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y1(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);t_("Data must be an object, but it was:",u,s);const f=$1(s,u);let m,p;if(l.merge)m=new Kn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const b=Wa(e,E,n);if(!u.contains(b))throw new fe(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);W1(y,b)||y.push(b)}m=new Kn(y),p=u.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,p=u.fieldTransforms;return new s3(new Vn(f),m,p)}class Gd extends Fd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function a3(t,e,n){return new Hd({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class e_ extends Fd{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=a3(this,e,!0),s=this.Ac.map((l=>Ll(l,n))),a=new bl(s);return new Y4(e.path,a)}isEqual(e){return e instanceof e_&&er(this.Ac,e.Ac)}}function o3(t,e,n,s){const a=t.createContext(1,e,n);t_("Data must be an object, but it was:",a,s);const l=[],u=Vn.empty();oa(s,((m,p)=>{const y=X1(e,m,n);p=At(p);const E=a.childContextForFieldPath(y);if(p instanceof Gd)l.push(y);else{const b=Ll(p,E);b!=null&&(l.push(y),u.set(y,b))}}));const f=new Kn(l);return new G1(u,f,a.fieldTransforms)}function l3(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[Wa(e,s,n)],m=[a];if(l.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(Wa(e,l[b])),m.push(l[b+1]);const p=[],y=Vn.empty();for(let b=f.length-1;b>=0;--b)if(!W1(p,f[b])){const w=f[b];let D=m[b];D=At(D);const L=u.childContextForFieldPath(w);if(D instanceof Gd)p.push(w);else{const k=Ll(D,L);k!=null&&(p.push(w),y.set(w,k))}}const E=new Kn(p);return new G1(y,E,u.fieldTransforms)}function c3(t,e,n,s=!1){return Ll(n,t.createContext(s?4:3,e))}function Ll(t,e){if(Q1(t=At(t)))return t_("Unsupported field value:",e,t),$1(t,e);if(t instanceof Fd)return(function(s,a){if(!K1(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=Ll(f,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=pt.fromDate(s);return{timestampValue:rd(a.serializer,l)}}if(s instanceof pt){const l=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rd(a.serializer,l)}}if(s instanceof ps)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fi)return{bytesValue:c1(a.serializer,s._byteString)};if(s instanceof Mt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:jv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Pi)return(function(u,f){const m=u instanceof Pi?u.toArray():u;return{mapValue:{fields:{[jR]:{stringValue:UR},[td]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return Vv(f.serializer,y)}))}}}}}})(s,a);if(g1(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Cd(s)}`)})(t,e)}function $1(t,e){const n={};return OR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,((s,a)=>{const l=Ll(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Q1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof ps||t instanceof fi||t instanceof Mt||t instanceof Fd||t instanceof Pi||g1(t))}function t_(t,e,n){if(!Q1(n)||!NR(n)){const s=Cd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Wa(t,e,n){if((e=At(e))instanceof Zv)return e._internalPath;if(typeof e=="string")return X1(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const u3=new RegExp("[~\\*/\\[\\]]");function X1(t,e,n){if(e.search(u3)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zv(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new fe(ne.INVALID_ARGUMENT,f+t+m)}function W1(t,e){return t.some((n=>n.isEqual(e)))}class h3{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[td].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new Pi(n)}convertGeoPoint(e){return new ps(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Od(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=ea(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);Je(p1(s),9688,{name:e});const a=new gu(s.get(1),s.get(3)),l=new xe(s.popFirst(5));return a.isEqual(n)||nr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class J1 extends h3{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function Z1(...t){return new e_("arrayUnion",t)}const xS="@firebase/firestore",SS="4.10.0";class eI{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Wa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f3 extends eI{data(){return super.data()}}function d3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n_{}class tI extends n_{}function qs(t,e,...n){let s=[];e instanceof n_&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof i_)).length,f=l.filter((m=>m instanceof Kd)).length;if(u>1||u>0&&f>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Kd extends tI{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Kd(e,n,s)}_apply(e){const n=this._parse(e);return nI(e._query,n),new oo(e.firestore,e.converter,Ty(e._query,n))}_parse(e){const n=qd(e.firestore);return(function(l,u,f,m,p,y,E){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){wS(E,y);const D=[];for(const L of E)D.push(AS(m,l,L));b={arrayValue:{values:D}}}else b=AS(m,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||wS(E,y),b=c3(f,u,E,y==="in"||y==="not-in");return qt.create(p,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function m3(t,e,n){const s=e,a=Wa("where",t);return Kd._create(a,s,n)}class i_ extends n_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i_(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)nI(u,m),u=Ty(u,m)})(e._query,n),new oo(e.firestore,e.converter,Ty(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s_ extends tI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s_(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(l,u)})(e._query,this._field,this._direction);return new oo(e.firestore,e.converter,k4(e._query,n))}}function Ga(t,e="asc"){const n=e,s=Wa("orderBy",t);return s_._create(s,n)}function AS(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YR(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ht.fromString(n));if(!xe.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zx(t,new xe(s))}if(n instanceof Mt)return zx(t,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(n)}.`)}function wS(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nI(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function iI(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Xc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends eI{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Wa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$a._jsonSchemaVersion="firestore/documentSnapshot/1.0",$a._jsonSchema={type:Gt("string",$a._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Lf extends $a{data(e={}){return super.data(e)}}class fl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Lf(this._firestore,this._userDataWriter,s.key,s,new Xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Lf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Xc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Lf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Xc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:p3(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Gt("string",fl._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};function sI(t){t=ji(t,Mt);const e=ji(t.firestore,lo),n=Jv(e);return QU(n,t._key).then((s=>y3(e,t,s)))}function Gs(t){t=ji(t,oo);const e=ji(t.firestore,lo),n=Jv(e),s=new J1(e);return d3(t._query),XU(n,t._query).then((a=>new fl(e,s,t,a)))}function g3(t,e,n){t=ji(t,Mt);const s=ji(t.firestore,lo),a=iI(t.converter,e,n),l=qd(s);return Yd(s,[Y1(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,pi.none())])}function jf(t,e,n,...s){t=ji(t,Mt);const a=ji(t.firestore,lo),l=qd(a);let u;return u=typeof(e=At(e))=="string"||e instanceof Zv?l3(l,"updateDoc",t._key,e,n,s):o3(l,"updateDoc",t._key,e),Yd(a,[u.toMutation(t._key,pi.exists(!0))])}function xf(t){return Yd(ji(t.firestore,lo),[new Pv(t._key,pi.none())])}function il(t,e){const n=ji(t.firestore,lo),s=hi(t),a=iI(t.converter,e),l=qd(t.firestore);return Yd(n,[Y1(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,pi.exists(!1))]).then((()=>s))}function Yd(t,e){const n=Jv(t);return WU(n,e)}function y3(t,e,n){const s=n.docs.get(e._key),a=new J1(t);return new $a(t,a,e._key,s,new Xc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){XL(so),Li(new gi("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new lo(new ZL(s.getProvider("auth-internal")),new n4(u,s.getProvider("app-check-internal")),_4(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Pn(xS,SS,e),Pn(xS,SS,"esm2020")})();var v3="firebase",_3="12.8.0";Pn(v3,_3,"app");const rI="@firebase/installations",r_="0.6.19";const aI=1e4,oI=`w:${r_}`,lI="FIS_v2",E3="https://firebaseinstallations.googleapis.com/v1",T3=3600*1e3,b3="installations",x3="Installations";const S3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ja=new io(b3,x3,S3);function cI(t){return t instanceof yi&&t.code.includes("request-failed")}function uI({projectId:t}){return`${E3}/projects/${t}/installations`}function hI(t){return{token:t.token,requestStatus:2,expiresIn:w3(t.expiresIn),creationTime:Date.now()}}async function fI(t,e){const s=(await e.json()).error;return Ja.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function dI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function A3(t,{refreshToken:e}){const n=dI(t);return n.append("Authorization",R3(e)),n}async function mI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function w3(t){return Number(t.replace("s","000"))}function R3(t){return`${lI} ${t}`}async function I3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=uI(t),a=dI(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:lI,appId:t.appId,sdkVersion:oI},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await mI(()=>fetch(s,f));if(m.ok){const p=await m.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:hI(p.authToken)}}else throw await fI("Create Installation",m)}function pI(t){return new Promise(e=>{setTimeout(e,t)})}function C3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const N3=/^[cdef][\w-]{21}$/,Oy="";function D3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O3(t);return N3.test(n)?n:Oy}catch{return Oy}}function O3(t){return C3(t).substr(0,22)}function $d(t){return`${t.appName}!${t.appId}`}const gI=new Map;function yI(t,e){const n=$d(t);vI(n,e),M3(n,e)}function vI(t,e){const n=gI.get(t);if(n)for(const s of n)s(e)}function M3(t,e){const n=V3();n&&n.postMessage({key:t,fid:e}),P3()}let Ka=null;function V3(){return!Ka&&"BroadcastChannel"in self&&(Ka=new BroadcastChannel("[Firebase] FID Change"),Ka.onmessage=t=>{vI(t.data.key,t.data.fid)}),Ka}function P3(){gI.size===0&&Ka&&(Ka.close(),Ka=null)}const k3="firebase-installations-database",L3=1,Za="firebase-installations-store";let Mg=null;function a_(){return Mg||(Mg=yR(k3,L3,{upgrade:(t,e)=>{e===0&&t.createObjectStore(Za)}})),Mg}async function ud(t,e){const n=$d(t),a=(await a_()).transaction(Za,"readwrite"),l=a.objectStore(Za),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&yI(t,e.fid),e}async function _I(t){const e=$d(t),s=(await a_()).transaction(Za,"readwrite");await s.objectStore(Za).delete(e),await s.done}async function Qd(t,e){const n=$d(t),a=(await a_()).transaction(Za,"readwrite"),l=a.objectStore(Za),u=await l.get(n),f=e(u);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!u||u.fid!==f.fid)&&yI(t,f.fid),f}async function o_(t){let e;const n=await Qd(t.appConfig,s=>{const a=j3(s),l=U3(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Oy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j3(t){const e=t||{fid:D3(),registrationStatus:0};return EI(e)}function U3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ja.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=z3(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:B3(t)}:{installationEntry:e}}async function z3(t,e){try{const n=await I3(t,e);return ud(t.appConfig,n)}catch(n){throw cI(n)&&n.customData.serverCode===409?await _I(t.appConfig):await ud(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function B3(t){let e=await RS(t.appConfig);for(;e.registrationStatus===1;)await pI(100),e=await RS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await o_(t);return s||n}return e}function RS(t){return Qd(t,e=>{if(!e)throw Ja.create("installation-not-found");return EI(e)})}function EI(t){return F3(t)?{fid:t.fid,registrationStatus:0}:t}function F3(t){return t.registrationStatus===1&&t.registrationTime+aI<Date.now()}async function H3({appConfig:t,heartbeatServiceProvider:e},n){const s=q3(t,n),a=A3(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:oI,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await mI(()=>fetch(s,f));if(m.ok){const p=await m.json();return hI(p)}else throw await fI("Generate Auth Token",m)}function q3(t,{fid:e}){return`${uI(t)}/${e}/authTokens:generate`}async function l_(t,e=!1){let n;const s=await Qd(t.appConfig,l=>{if(!TI(l))throw Ja.create("not-registered");const u=l.authToken;if(!e&&Y3(u))return l;if(u.requestStatus===1)return n=G3(t,e),l;{if(!navigator.onLine)throw Ja.create("app-offline");const f=Q3(l);return n=K3(t,f),f}});return n?await n:s.authToken}async function G3(t,e){let n=await IS(t.appConfig);for(;n.authToken.requestStatus===1;)await pI(100),n=await IS(t.appConfig);const s=n.authToken;return s.requestStatus===0?l_(t,e):s}function IS(t){return Qd(t,e=>{if(!TI(e))throw Ja.create("not-registered");const n=e.authToken;return X3(n)?{...e,authToken:{requestStatus:0}}:e})}async function K3(t,e){try{const n=await H3(t,e),s={...e,authToken:n};return await ud(t.appConfig,s),n}catch(n){if(cI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _I(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await ud(t.appConfig,s)}throw n}}function TI(t){return t!==void 0&&t.registrationStatus===2}function Y3(t){return t.requestStatus===2&&!$3(t)}function $3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+T3}function Q3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function X3(t){return t.requestStatus===1&&t.requestTime+aI<Date.now()}async function W3(t){const e=t,{installationEntry:n,registrationPromise:s}=await o_(e);return s?s.catch(console.error):l_(e).catch(console.error),n.fid}async function J3(t,e=!1){const n=t;return await Z3(n),(await l_(n,e)).token}async function Z3(t){const{registrationPromise:e}=await o_(t);e&&await e}function e6(t){if(!t||!t.options)throw Vg("App Configuration");if(!t.name)throw Vg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vg(t){return Ja.create("missing-app-config-values",{valueName:t})}const bI="installations",t6="installations-internal",n6=t=>{const e=t.getProvider("app").getImmediate(),n=e6(e),s=aa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},i6=t=>{const e=t.getProvider("app").getImmediate(),n=aa(e,bI).getImmediate();return{getId:()=>W3(n),getToken:a=>J3(n,a)}};function s6(){Li(new gi(bI,n6,"PUBLIC")),Li(new gi(t6,i6,"PRIVATE"))}s6();Pn(rI,r_);Pn(rI,r_,"esm2020");const hd="analytics",r6="firebase_id",a6="origin",o6=60*1e3,l6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",c_="https://www.googletagmanager.com/gtag/js";const An=new Rd("@firebase/analytics");const c6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new io("analytics","Analytics",c6);function u6(t){if(!t.startsWith(c_)){const e=$n.create("invalid-gtag-resource",{gtagURL:t});return An.warn(e.message),""}return t}function xI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function h6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function f6(t,e){const n=h6("firebase-js-sdk-policy",{createScriptURL:u6}),s=document.createElement("script"),a=`${c_}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function d6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function m6(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const m=(await xI(n)).find(p=>p.measurementId===a);m&&await e[m.appId]}}catch(f){An.error(f)}t("config",a,l)}async function p6(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await xI(n);for(const m of u){const p=f.find(E=>E.measurementId===m),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){An.error(l)}}function g6(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[f,m]=u;await p6(t,e,n,f,m)}else if(l==="config"){const[f,m]=u;await m6(t,e,n,s,f,m)}else if(l==="consent"){const[f,m]=u;t("consent",f,m)}else if(l==="get"){const[f,m,p]=u;t("get",f,m,p)}else if(l==="set"){const[f]=u;t("set",f)}else t(l,...u)}catch(f){An.error(f)}}return a}function y6(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=g6(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function v6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(c_)&&n.src.includes(t))return n;return null}const _6=30,E6=1e3;class T6{constructor(e={},n=E6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const SI=new T6;function b6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function x6(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:b6(n)},a=l6.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const f=await l.json();f.error?.message&&(u=f.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function S6(t,e=SI,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw $n.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw $n.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new R6;return setTimeout(async()=>{f.abort()},o6),AI({appId:s,apiKey:a,measurementId:l},u,f,e)}async function AI(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=SI){const{appId:l,measurementId:u}=t;try{await A6(s,e)}catch(f){if(u)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw f}try{const f=await x6(t);return a.deleteThrottleMetadata(l),f}catch(f){const m=f;if(!w6(m)){if(a.deleteThrottleMetadata(l),u)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw f}const p=Number(m?.customData?.httpStatus)===503?_x(n,a.intervalMillis,_6):_x(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),An.debug(`Calling attemptFetch again in ${p} millis`),AI(t,y,s,a)}}function A6(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function w6(t){if(!(t instanceof yi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class R6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function I6(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function C6(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function N6(){if(dR())try{await mR()}catch(t){return An.warn($n.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return An.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D6(t,e,n,s,a,l,u){const f=S6(t);f.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>An.error(b)),e.push(f);const m=N6().then(b=>{if(b)return s.getId()}),[p,y]=await Promise.all([f,m]);v6(l)||f6(l,p.measurementId),a("js",new Date);const E=u?.config??{};return E[a6]="firebase",E.update=!0,y!=null&&(E[r6]=y),a("config",p.measurementId,E),p.measurementId}class O6{constructor(e){this.app=e}_delete(){return delete dl[this.app.options.appId],Promise.resolve()}}let dl={},CS=[];const NS={};let Pg="dataLayer",M6="gtag",DS,u_,OS=!1;function V6(){const t=[];if(fR()&&t.push("This is a browser extension environment."),Dk()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=$n.create("invalid-analytics-context",{errorInfo:e});An.warn(n.message)}}function P6(t,e,n){V6();const s=t.options.appId;if(!s)throw $n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(dl[s]!=null)throw $n.create("already-exists",{id:s});if(!OS){d6(Pg);const{wrappedGtag:l,gtagCore:u}=y6(dl,CS,NS,Pg,M6);u_=l,DS=u,OS=!0}return dl[s]=D6(t,CS,NS,e,DS,Pg,n),new O6(t)}function k6(t=Id()){t=At(t);const e=aa(t,hd);return e.isInitialized()?e.getImmediate():L6(t)}function L6(t,e={}){const n=aa(t,hd);if(n.isInitialized()){const a=n.getImmediate();if(er(e,n.getOptions()))return a;throw $n.create("already-initialized")}return n.initialize({options:e})}function j6(t,e,n){t=At(t),C6(u_,dl[t.app.options.appId],e,n).catch(s=>An.error(s))}function U6(t,e,n,s){t=At(t),I6(u_,dl[t.app.options.appId],e,n,s).catch(a=>An.error(a))}const MS="@firebase/analytics",VS="0.10.19";function z6(){Li(new gi(hd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return P6(s,a,n)},"PUBLIC")),Li(new gi("analytics-internal",t,"PRIVATE")),Pn(MS,VS),Pn(MS,VS,"esm2020");function t(e){try{const n=e.getProvider(hd).getImmediate();return{logEvent:(s,a,l)=>U6(n,s,a,l),setUserProperties:(s,a)=>j6(n,s,a)}}catch(n){throw $n.create("interop-component-reg-failed",{reason:n})}}}z6();function wI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B6=wI,RI=new io("auth","Firebase",wI());const fd=new Rd("@firebase/auth");function F6(t,...e){fd.logLevel<=Fe.WARN&&fd.warn(`Auth (${so}): ${t}`,...e)}function Uf(t,...e){fd.logLevel<=Fe.ERROR&&fd.error(`Auth (${so}): ${t}`,...e)}function zi(t,...e){throw h_(t,...e)}function gs(t,...e){return h_(t,...e)}function II(t,e,n){const s={...B6(),[e]:n};return new io("auth","Firebase",s).create(e,{appName:t.name})}function Ws(t){return II(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h_(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return RI.create(t,...e)}function we(t,e,...n){if(!t)throw h_(e,...n)}function Ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function sr(t,e){t||Ks(e)}function My(){return typeof self<"u"&&self.location?.href||""}function H6(){return PS()==="http:"||PS()==="https:"}function PS(){return typeof self<"u"&&self.location?.protocol||null}function q6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H6()||fR()||"connection"in navigator)?navigator.onLine:!0}function G6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ak()||Ik()}get(){return q6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function f_(t,e){sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class CI{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Y6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$6=new Vu(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ua(t,e,n,s,a={}){return NI(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Iu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return Rk()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&no(t.emulatorConfig.host)&&(p.credentials="include"),CI.fetch()(await DI(t,t.config.apiHost,n,f),p)})}async function NI(t,e,n){t._canInitEmulator=!1;const s={...K6,...e};try{const a=new X6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Sf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Sf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Sf(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw II(t,y,p);zi(t,y)}}catch(a){if(a instanceof yi)throw a;zi(t,"network-request-failed",{message:String(a)})}}async function Pu(t,e,n,s,a={}){const l=await ua(t,e,n,s,a);return"mfaPendingCredential"in l&&zi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function DI(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?f_(t.config,a):`${t.config.apiScheme}://${a}`;return Y6.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Q6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gs(this.auth,"network-request-failed")),$6.get())})}}function Sf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=gs(t,e,s);return a.customData._tokenResponse=n,a}function kS(t){return t!==void 0&&t.enterprise!==void 0}class W6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Q6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J6(t,e){return ua(t,"GET","/v2/recaptchaConfig",ca(t,e))}async function Z6(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function dd(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}function au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e5(t,e=!1){const n=At(t),s=await n.getIdToken(e),a=d_(s);we(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:au(kg(a.auth_time)),issuedAtTime:au(kg(a.iat)),expirationTime:au(kg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function kg(t){return Number(t)*1e3}function d_(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=aR(n);return a?JSON.parse(a):(Uf("Failed to decode base64 JWT payload"),null)}catch(a){return Uf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function LS(t){const e=d_(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Eu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yi&&t5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function t5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class n5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function md(t){const e=t.auth,n=await t.getIdToken(),s=await Eu(t,dd(e,{idToken:n}));we(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?OI(a.providerUserInfo):[],u=s5(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function i5(t){const e=At(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s5(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function OI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function r5(t,e){const n=await NI(t,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await DI(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&no(t.emulatorConfig.host)&&(m.credentials="include"),CI.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a5(t,e){return ua(t,"POST","/v2/accounts:revokeToken",ca(t,e))}class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=LS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await r5(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new ml;return s&&(we(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(we(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return Ks("not implemented")}}function Ur(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new n5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e5(this,e)}reload(){return i5(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Ws(this.auth));const e=await this.getIdToken();return await Eu(this,Z6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:w,providerData:D,stsTokenManager:L}=n;we(E&&L,e,"internal-error");const k=ml.fromJSON(this.name,L);we(typeof E=="string",e,"internal-error"),Ur(s,e.name),Ur(a,e.name),we(typeof b=="boolean",e,"internal-error"),we(typeof w=="boolean",e,"internal-error"),Ur(l,e.name),Ur(u,e.name),Ur(f,e.name),Ur(m,e.name),Ur(p,e.name),Ur(y,e.name);const F=new Oi({uid:E,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:w,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(F.providerData=D.map(q=>({...q}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,n,s=!1){const a=new ml;a.updateFromServerResponse(n);const l=new Oi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await md(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?OI(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new ml;f.updateFromIdToken(s);const m=new Oi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const jS=new Map;function Ys(t){sr(t instanceof Function,"Expected a class definition");let e=jS.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jS.set(t,e),e)}class MI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MI.type="NONE";const US=MI;function zf(t,e,n){return`firebase:${t}:${e}:${n}`}class pl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=zf(this.userKey,a.apiKey,l),this.fullPersistenceKey=zf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dd(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new pl(Ys(US),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ys(US);const u=zf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(u);if(y){let E;if(typeof y=="string"){const b=await dd(e,{idToken:y}).catch(()=>{});if(!b)break;E=await Oi._fromGetAccountInfoResponse(e,b,y)}else E=Oi._fromJSON(e,y);p!==l&&(f=E),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new pl(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new pl(l,e,s))}}function zS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UI(e))return"Blackberry";if(zI(e))return"Webos";if(PI(e))return"Safari";if((e.includes("chrome/")||kI(e))&&!e.includes("edge/"))return"Chrome";if(jI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function VI(t=yn()){return/firefox\//i.test(t)}function PI(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kI(t=yn()){return/crios\//i.test(t)}function LI(t=yn()){return/iemobile/i.test(t)}function jI(t=yn()){return/android/i.test(t)}function UI(t=yn()){return/blackberry/i.test(t)}function zI(t=yn()){return/webos/i.test(t)}function m_(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o5(t=yn()){return m_(t)&&!!window.navigator?.standalone}function l5(){return Ck()&&document.documentMode===10}function BI(t=yn()){return m_(t)||jI(t)||zI(t)||UI(t)||/windows phone/i.test(t)||LI(t)}function FI(t,e=[]){let n;switch(t){case"Browser":n=zS(yn());break;case"Worker":n=`${zS(yn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${s}`}class c5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function u5(t,e={}){return ua(t,"GET","/v2/passwordPolicy",ca(t,e))}const h5=6;class f5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??h5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class d5{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BS(this),this.idTokenSubscription=new BS(this),this.beforeStateQueue=new c5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dd(this,{idToken:e}),s=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Ws(this));const n=e?At(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u5(this),n=new f5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new io("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await a5(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&F6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function co(t){return At(t)}class BS{constructor(e){this.auth=e,this.observer=null,this.addObserver=kk(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m5(t){Xd=t}function HI(t){return Xd.loadJS(t)}function p5(){return Xd.recaptchaEnterpriseScript}function g5(){return Xd.gapiScript}function y5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class v5{constructor(){this.enterprise=new _5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const E5="recaptcha-enterprise",qI="NO_RECAPTCHA";class T5{constructor(e){this.type=E5,this.auth=co(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{J6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new W6(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;kS(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(qI)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new v5().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&kS(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=p5();m.length!==0&&(m+=f),HI(m).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function FS(t,e,n,s=!1,a=!1){const l=new T5(t);let u;if(a)u=qI;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Py(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await FS(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await FS(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function b5(t,e){const n=aa(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(er(l,e??{}))return a;zi(a,"already-initialized")}return n.initialize({options:e})}function x5(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function S5(t,e,n){const s=co(t);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=GI(e),{host:u,port:f}=A5(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(er(p,s.config.emulator)&&er(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,no(u)?(xv(`${l}//${u}${m}`),Sv("Auth",!0)):w5()}function GI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A5(t){const e=GI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:HS(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:HS(u)}}}function HS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class p_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ks("not implemented")}_getIdTokenResponse(e){return Ks("not implemented")}_linkToIdToken(e,n){return Ks("not implemented")}_getReauthenticationResolver(e){return Ks("not implemented")}}async function R5(t,e){return ua(t,"POST","/v1/accounts:signUp",e)}async function I5(t,e){return Pu(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}async function C5(t,e){return Pu(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function N5(t,e){return Pu(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}class Tu extends p_{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Py(e,n,"signInWithPassword",I5);case"emailLink":return C5(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Py(e,s,"signUpPassword",R5);case"emailLink":return N5(e,{idToken:n,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function gl(t,e){return Pu(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}const D5="http://localhost";class eo extends p_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new eo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return gl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,gl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gl(e,n)}buildRequest(){const e={requestUri:D5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}function O5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M5(t){const e=Gc(Kc(t)).link,n=e?Gc(Kc(e)).deep_link_id:null,s=Gc(Kc(t)).deep_link_id;return(s?Gc(Kc(s)).link:null)||s||n||e||t}class g_{constructor(e){const n=Gc(Kc(e)),s=n.apiKey??null,a=n.oobCode??null,l=O5(n.mode??null);we(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=M5(e);try{return new g_(n)}catch{return null}}}class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return Tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=g_.parseLink(n);return we(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class KI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ku extends KI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Br extends ku{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";class Fr extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eo._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";class Hr extends ku{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";class qr extends ku{constructor(){super("twitter.com")}static credential(e,n){return eo._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";async function V5(t,e){return Pu(t,"POST","/v1/accounts:signUp",ca(t,e))}class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Oi._fromIdTokenResponse(e,s,a),u=qS(s);return new to({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=qS(s);return new to({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function qS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class pd extends yi{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new pd(e,n,s,a)}}function YI(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(t,l,e,s):l})}async function P5(t,e,n=!1){const s=await Eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return to._forOperation(t,"link",s)}async function k5(t,e,n=!1){const{auth:s}=t;if(Gn(s.app))return Promise.reject(Ws(s));const a="reauthenticate";try{const l=await Eu(t,YI(s,a,e,t),n);we(l.idToken,s,"internal-error");const u=d_(l.idToken);we(u,s,"internal-error");const{sub:f}=u;return we(t.uid===f,s,"user-mismatch"),to._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&zi(s,"user-mismatch"),l}}async function $I(t,e,n=!1){if(Gn(t.app))return Promise.reject(Ws(t));const s="signIn",a=await YI(t,s,e),l=await to._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function L5(t,e){return $I(co(t),e)}async function QI(t){const e=co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j5(t,e,n){if(Gn(t.app))return Promise.reject(Ws(t));const s=co(t),u=await Py(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V5).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&QI(t),m}),f=await to._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function XI(t,e,n){return Gn(t.app)?Promise.reject(Ws(t)):L5(At(t),jl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&QI(t),s})}function U5(t,e,n,s){return At(t).onIdTokenChanged(e,n,s)}function z5(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function y_(t,e,n,s){return At(t).onAuthStateChanged(e,n,s)}function WI(t){return At(t).signOut()}const gd="__sak";class JI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const B5=1e3,F5=10;class ZI extends JI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);l5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,F5):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},B5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZI.type="LOCAL";const H5=ZI;class eC extends JI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eC.type="SESSION";const tC=eC;function q5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Wd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await q5(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];function v_(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class G5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=v_("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ys(){return window}function K5(t){ys().location.href=t}function nC(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function Y5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $5(){return navigator?.serviceWorker?.controller||null}function Q5(){return nC()?self:null}const iC="firebaseLocalStorageDb",X5=1,yd="firebaseLocalStorage",sC="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jd(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function W5(){const t=indexedDB.deleteDatabase(iC);return new Lu(t).toPromise()}function ky(){const t=indexedDB.open(iC,X5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(yd,{keyPath:sC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(yd)?e(s):(s.close(),await W5(),e(await ky()))})})}async function GS(t,e,n){const s=Jd(t,!0).put({[sC]:e,value:n});return new Lu(s).toPromise()}async function J5(t,e){const n=Jd(t,!1).get(e),s=await new Lu(n).toPromise();return s===void 0?null:s.value}function KS(t,e){const n=Jd(t,!0).delete(e);return new Lu(n).toPromise()}const Z5=800,ez=3;class rC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ky(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ez)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(Q5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Y5(),!this.activeServiceWorker)return;this.sender=new G5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ky();return await GS(e,gd,"1"),await KS(e,gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>GS(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>J5(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Jd(a,!1).getAll();return new Lu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rC.type="LOCAL";const tz=rC;new Vu(3e4,6e4);function nz(t,e){return e?Ys(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class __ extends p_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iz(t){return $I(t.auth,new __(t),t.bypassAuthState)}function sz(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),k5(n,new __(t),t.bypassAuthState)}async function rz(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),P5(n,new __(t),t.bypassAuthState)}class aC{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iz;case"linkViaPopup":case"linkViaRedirect":return rz;case"reauthViaPopup":case"reauthViaRedirect":return sz;default:zi(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const az=new Vu(2e3,1e4);class ll extends aC{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=v_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,az.get())};e()}}ll.currentPopupAction=null;const oz="pendingRedirect",Bf=new Map;class lz extends aC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const s=await cz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cz(t,e){const n=fz(e),s=hz(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function uz(t,e){Bf.set(t._key(),e)}function hz(t){return Ys(t._redirectPersistence)}function fz(t){return zf(oz,t.config.apiKey,t.name)}async function dz(t,e,n=!1){if(Gn(t.app))return Promise.reject(Ws(t));const s=co(t),a=nz(s,e),u=await new lz(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const mz=600*1e3;class pz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(gs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mz&&this.cachedEventUids.clear(),this.cachedEventUids.has(YS(e))}saveEventToCache(e){this.cachedEventUids.add(YS(e)),this.lastProcessedEventTime=Date.now()}}function YS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oC(t);default:return!1}}async function yz(t,e={}){return ua(t,"GET","/v1/projects",e)}const vz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_z=/^https?/;async function Ez(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yz(t);for(const n of e)try{if(Tz(n))return}catch{}zi(t,"unauthorized-domain")}function Tz(t){const e=My(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!_z.test(n))return!1;if(vz.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const bz=new Vu(3e4,6e4);function $S(){const t=ys().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xz(t){return new Promise((e,n)=>{function s(){$S(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$S(),n(gs(t,"network-request-failed"))},timeout:bz.get()})}if(ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ys().gapi?.load)s();else{const a=y5("iframefcb");return ys()[a]=()=>{gapi.load?s():n(gs(t,"network-request-failed"))},HI(`${g5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function Sz(t){return Ff=Ff||xz(t),Ff}const Az=new Vu(5e3,15e3),wz="__/auth/iframe",Rz="emulator/auth/iframe",Iz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nz(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f_(e,Rz):`https://${t.config.authDomain}/${wz}`,s={apiKey:e.apiKey,appName:t.name,v:so},a=Cz.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Iu(s).slice(1)}`}async function Dz(t){const e=await Sz(t),n=ys().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:Nz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iz,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=gs(t,"network-request-failed"),f=ys().setTimeout(()=>{l(u)},Az.get());function m(){ys().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const Oz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mz=500,Vz=600,Pz="_blank",kz="http://localhost";class QS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lz(t,e,n,s=Mz,a=Vz){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...Oz,width:s.toString(),height:a.toString(),top:l,left:u},p=yn().toLowerCase();n&&(f=kI(p)?Pz:n),VI(p)&&(e=e||kz,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[w,D])=>`${b}${w}=${D},`,"");if(o5(p)&&f!=="_self")return jz(e||"",f),new QS(null);const E=window.open(e||"",f,y);we(E,t,"popup-blocked");try{E.focus()}catch{}return new QS(E)}function jz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Uz="__/auth/handler",zz="emulator/auth/handler",Bz=encodeURIComponent("fac");async function XS(t,e,n,s,a,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:so,eventId:a};if(e instanceof KI){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Pk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))u[y]=E}if(e instanceof ku){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${Bz}=${encodeURIComponent(m)}`:"";return`${Fz(t)}?${Iu(f).slice(1)}${p}`}function Fz({config:t}){return t.emulator?f_(t,zz):`https://${t.authDomain}/${Uz}`}const Lg="webStorageSupport";class Hz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tC,this._completeRedirectFn=dz,this._overrideRedirectResult=uz}async _openPopup(e,n,s,a){sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await XS(e,n,s,My(),a);return Lz(e,l,v_())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await XS(e,n,s,My(),a);return K5(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(sr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Dz(e),s=new pz(e);return n.register("authEvent",a=>(we(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lg,{type:Lg},a=>{const l=a?.[0]?.[Lg];l!==void 0&&n(!!l),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ez(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BI()||PI()||m_()}}const qz=Hz;var WS="@firebase/auth",JS="1.12.0";class Gz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yz(t){Li(new gi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FI(t)},p=new d5(s,a,l,m);return x5(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Li(new gi("auth-internal",e=>{const n=co(e.getProvider("auth").getImmediate());return(s=>new Gz(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(WS,JS,Kz(t)),Pn(WS,JS,"esm2020")}const $z=300,Qz=uR("authIdTokenMaxAge")||$z;let ZS=null;const Xz=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Qz)return;const a=n?.token;ZS!==a&&(ZS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Wz(t=Id()){const e=aa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b5(t,{popupRedirectResolver:qz,persistence:[tz,H5,tC]}),s=uR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=Xz(l.toString());z5(n,u,()=>u(n.currentUser)),U5(n,f=>u(f))}}const a=oR("auth");return a&&S5(n,`http://${a}`),n}function Jz(){return document.getElementsByTagName("head")?.[0]??document}m5({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=gs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Jz().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yz("Browser");const lC="firebasestorage.googleapis.com",Zz="storageBucket",e9=120*1e3,t9=600*1e3;class bs extends yi{constructor(e,n,s=0){super(jg(e),`Firebase Storage: ${n} (${jg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Es;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Es||(Es={}));function jg(t){return"storage/"+t}function n9(){const t="An unknown error occurred, please check the error payload for server response.";return new bs(Es.UNKNOWN,t)}function i9(){return new bs(Es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s9(){return new bs(Es.CANCELED,"User canceled the upload/download.")}function r9(t){return new bs(Es.INVALID_URL,"Invalid URL '"+t+"'.")}function a9(t){return new bs(Es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eA(t){return new bs(Es.INVALID_ARGUMENT,t)}function cC(){return new bs(Es.APP_DELETED,"The Firebase app was deleted.")}function o9(t){return new bs(Es.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Mi.makeFromUrl(e,n)}catch{return new Mi(e,"")}if(s.path==="")return s;throw a9(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(ie){ie.path_=decodeURIComponent(ie.path)}const y="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${E}/${y}/b/${a}/o${b}`,"i"),D={bucket:1,path:3},L=n===lC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",F=new RegExp(`^https?://${L}/${a}/${k}`,"i"),z=[{regex:f,indices:m,postModify:l},{regex:w,indices:D,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let ie=0;ie<z.length;ie++){const le=z[ie],ce=le.regex.exec(e);if(ce){const N=ce[le.indices.bucket];let R=ce[le.indices.path];R||(R=""),s=new Mi(N,R),le.postModify(s);break}}if(s==null)throw r9(e);return s}}class l9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function c9(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let p=!1;function y(...k){p||(p=!0,e.apply(null,k))}function E(k){a=setTimeout(()=>{a=null,t(w,m())},k)}function b(){l&&clearTimeout(l)}function w(k,...F){if(p){b();return}if(k){b(),y.call(null,k,...F);return}if(m()||u){b(),y.call(null,k,...F);return}s<64&&(s*=2);let z;f===1?(f=2,z=0):z=(s+Math.random())*1e3,E(z)}let D=!1;function L(k){D||(D=!0,b(),!p&&(a!==null?(k||(f=2),clearTimeout(a),E(0)):k||(f=1)))}return E(0),l=setTimeout(()=>{u=!0,L(!0)},n),L}function u9(t){t(!1)}function h9(t){return t!==void 0}function tA(t,e,n,s){if(s<e)throw eA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw eA(`Invalid value for '${t}'. Expected ${n} or less.`)}function f9(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var vd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vd||(vd={}));function d9(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class m9{constructor(e,n,s,a,l,u,f,m,p,y,E,b=!0,w=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,L)=>{this.resolve_=D,this.reject_=L,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Af(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===vd.NO_ERROR,m=l.getStatus();if(!f||d9(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===vd.ABORT;s(!1,new Af(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Af(p,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());h9(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=n9();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?cC():s9();u(m)}else{const m=i9();u(m)}};this.canceled_?n(!1,new Af(!1,null,!0)):this.backoffId_=c9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Af{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function p9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function g9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function v9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _9(t,e,n,s,a,l,u=!0,f=!1){const m=f9(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return y9(y,e),p9(y,n),g9(y,l),v9(y,s),new m9(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function E9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class _d{constructor(e,n){this._service=e,n instanceof Mi?this._location=n:this._location=Mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _d(e,n)}get root(){const e=new Mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T9(this._location.path)}get storage(){return this._service}get parent(){const e=E9(this._location.path);if(e===null)return null;const n=new Mi(this._location.bucket,e);return new _d(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw o9(e)}}function nA(t,e){const n=e?.[Zz];return n==null?null:Mi.makeFromBucketSpec(n,t)}function b9(t,e,n,s={}){t.host=`${e}:${n}`;const a=no(e);a&&(xv(`https://${t.host}/b`),Sv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:hR(l,t.app.options.projectId))}class x9{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=lC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e9,this._maxUploadRetryTime=t9,this._requests=new Set,a!=null?this._bucket=Mi.makeFromBucketSpec(a,this._host):this._bucket=nA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mi.makeFromBucketSpec(this._url,e):this._bucket=nA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _d(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new l9(cC());{const u=_9(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const iA="@firebase/storage",sA="0.14.0";const uC="storage";function S9(t=Id(),e){t=At(t);const s=aa(t,uC).getImmediate({identifier:e}),a=lR("storage");return a&&A9(s,...a),s}function A9(t,e,n,s={}){b9(t,e,n,s)}function w9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new x9(n,s,a,e,so)}function R9(){Li(new gi(uC,w9,"PUBLIC").setMultipleInstances(!0)),Pn(iA,sA,""),Pn(iA,sA,"esm2020")}R9();const I9={apiKey:"AIzaSyANZRlyzKDXsnB8QP6dTrKsq5-WFaZTJDY",authDomain:"bookofgrit.firebaseapp.com",projectId:"bookofgrit",storageBucket:"bookofgrit.firebasestorage.app",messagingSenderId:"416633269965",appId:"1:416633269965:web:8e82d613d1b9f004590384",measurementId:"G-WKRTDR23SF"},Zd=vR(I9);typeof window<"u"&&k6(Zd);const ut=t3(Zd),Yn=Wz(Zd);S9(Zd);function C9({isOpen:t,onClose:e,item:n,onComplete:s}){const[a,l]=O.useState("idle"),[u,f]=O.useState("");Il(),O.useEffect(()=>{t&&(l("idle"),f(""))},[t]);const m=async()=>{l("processing"),f("");try{const y=await fetch("/create-checkout-session.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:n.id,name:n.name,price:n.price,img:n.img||"https://thebookofgrit.com/bookofgrit_logo_v3.png",uid:Yn.currentUser?.uid||"anonymous"})}),E=y.headers.get("content-type");if(!E||!E.includes("application/json")){const w=await y.text();throw console.error("Non-JSON response:",w),new Error("SERVER_CONFIGURATION_ERROR")}const b=await y.json();if(b.error)throw new Error(b.error);if(b.url)window.location.href=b.url;else throw new Error("SECURE_LINK_GENERATION_FAILED")}catch(y){console.error("Payment Error:",y),f(y.message||"FAILED_TO_INITIALIZE_GATEWAY"),l("error")}};if(!t)return null;const p=n?.id==="SUB_MONTHLY";return v.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 sm:p-6 md:p-12",children:[v.jsx(Ot.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/95 backdrop-blur-xl"}),v.jsxs(Ot.div,{initial:{scale:.95,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:30},className:`relative w-full ${p?"max-w-4xl":"max-w-2xl"} bg-black border-2 ${p?"border-neon-magenta shadow-[0_0_80px_rgba(255,0,255,0.15)]":"border-primary shadow-[0_0_80px_rgba(0,240,255,0.15)]"} overflow-hidden h-fit max-h-[90vh] flex flex-col`,children:[v.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent ${p?"via-neon-magenta":"via-primary"} to-transparent opacity-50`}),v.jsxs("div",{className:"p-8 md:p-12 relative z-10 flex-1 overflow-y-auto custom-scrollbar",children:[v.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-zinc-600 hover:text-white transition-colors material-symbols-outlined text-4xl",children:"close"}),v.jsxs(oP,{mode:"wait",children:[a==="idle"&&v.jsx(Ot.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-10",children:v.jsxs("div",{className:"text-center md:text-left",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8 border-b border-zinc-900 pb-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:`text-4xl md:text-6xl font-bombed text-white mb-2 uppercase tracking-tighter ${p?"text-neon-magenta":""}`,children:p?"ELITE_ENLISTMENT":"SECURE_ACCESS"}),v.jsx("p",{className:`${p?"text-neon-magenta":"text-primary"} font-technical text-xs md:text-sm tracking-[0.4em] uppercase`,children:p?"OPERATIONAL FREQUENCY ACCESS":`ASSET_ID: ${n?.id||"AUTH_REQUIRED"}`})]}),v.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[v.jsx("span",{className:"text-zinc-600 font-technical text-[10px] uppercase mb-1 tracking-widest",children:"COST"}),v.jsx("span",{className:"text-white text-5xl font-bombed leading-none",children:n?.price||"$0.00"})]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"bg-zinc-900/40 border border-zinc-800 p-8 relative",children:[v.jsx("div",{className:`absolute -top-3 -left-3 w-8 h-8 border-l-2 border-t-2 ${p?"border-neon-magenta/40":"border-primary/40"}`}),v.jsx("div",{className:`absolute -bottom-3 -right-3 w-8 h-8 border-r-2 border-b-2 ${p?"border-neon-magenta/40":"border-primary/40"}`}),v.jsx("p",{className:`text-white font-graffiti text-3xl mb-4 italic ${p?"text-neon-magenta":""}`,children:n?.name||"UNKNOWN_ITEM"}),v.jsx("p",{className:"text-zinc-400 font-technical text-xs leading-relaxed",children:n?.description||"Decryption sequence for operational manifests. Includes full tactical orientation and implementation protocols."})]}),p&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("h4",{className:"text-neon-magenta font-stencil text-lg uppercase underline underline-offset-8 decoration-neon-magenta/30",children:"WHY_JOIN_THE_MOVEMENT?"}),v.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{icon:"hub",label:"THE NETWORK",desc:"Direct connection to a global collective of elite performers. No noise. Pure signal."},{icon:"deployed_code",label:"TACTICAL DRILLS",desc:"Weekly operational procedures designed to push your limit and rebuild your discipline."},{icon:"shield_with_heart",label:"PRIVATE ARCHIVE",desc:"Unrestricted access to the classified manifestos and unreleased grit protocols."}].map((y,E)=>v.jsxs("div",{className:"flex gap-4 group",children:[v.jsx("span",{className:"material-symbols-outlined text-neon-magenta text-3xl opacity-50 group-hover:opacity-100 transition-opacity",children:y.icon}),v.jsxs("div",{children:[v.jsx("p",{className:"text-white font-bombed text-[10px] mb-1",children:y.label}),v.jsx("p",{className:"text-zinc-500 font-technical text-[9px] leading-tight",children:y.desc})]})]},E))})]})]}),v.jsxs("div",{className:"flex flex-col justify-between space-y-8",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-black/80 border border-zinc-800 p-6 font-technical text-[10px] text-zinc-500 space-y-2 leading-relaxed",children:[v.jsx("p",{className:"text-zinc-400 font-bold uppercase",children:"MISSION_PROTOCOL_2.0:"}),v.jsx("p",{children:"By proceeding, you acknowledge that progress is only possible through consistent, uncomfortable work. The assets provided are tools, not solutions. No refunds will be issued for Lack of discipline."})]}),v.jsxs("ul",{className:"space-y-3",children:[v.jsxs("li",{className:"flex items-center gap-3 text-zinc-400 font-technical text-[10px]",children:[v.jsx("span",{className:`material-symbols-outlined text-sm ${p?"text-neon-magenta":"text-primary"}`,children:"verified"}),"INSTANT DIGITAL DEPLOYMENT"]}),v.jsxs("li",{className:"flex items-center gap-3 text-zinc-400 font-technical text-[10px]",children:[v.jsx("span",{className:`material-symbols-outlined text-sm ${p?"text-neon-magenta":"text-primary"}`,children:"security"}),"ENCRYPTED_SESSION_KEY_INCLUDED"]})]})]}),v.jsxs("div",{className:"space-y-4 pt-8 border-t border-zinc-900",children:[v.jsxs("button",{onClick:m,className:`w-full py-6 font-stencil text-2xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-2xl flex items-center justify-center gap-4 ${p?"bg-neon-magenta text-black shadow-neon-magenta/20":"bg-primary text-black shadow-primary/20"} hover:bg-white`,children:[v.jsx("span",{className:"material-symbols-outlined text-3xl",children:"terminal"}),"INITIALIZE CHECKOUT"]}),v.jsxs("div",{className:"flex items-center justify-center gap-6 opacity-30 invert pointer-events-none",children:[v.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg",alt:"Stripe",className:"h-6"}),v.jsx("div",{className:"w-px h-6 bg-white"}),v.jsx("span",{className:"text-[10px] font-technical text-white tracking-widest uppercase",children:"SSL_SECURE"})]})]})]})]})]})},"idle"),a==="processing"&&v.jsxs(Ot.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-24 text-center space-y-10",children:[v.jsxs("div",{className:"relative inline-block scale-150",children:[v.jsx("div",{className:`w-24 h-24 border-2 ${p?"border-neon-magenta/10":"border-primary/10"} rounded-full`}),v.jsx("div",{className:`absolute top-0 left-0 w-24 h-24 border-t-2 ${p?"border-neon-magenta":"border-primary"} rounded-full animate-spin`}),v.jsx("span",{className:`absolute inset-0 flex items-center justify-center material-symbols-outlined text-4xl ${p?"text-neon-magenta":"text-primary"} animate-pulse`,children:"sensors"})]}),v.jsxs("div",{children:[v.jsx("p",{className:`font-bombed ${p?"text-neon-magenta":"text-primary"} text-2xl tracking-[0.2em] animate-pulse`,children:"AUTHORIZING_LINK..."}),v.jsx("p",{className:"font-technical text-xs text-zinc-600 mt-4 uppercase tracking-widest",children:"Handshaking with secure payment node"})]})]},"processing"),a==="error"&&v.jsxs(Ot.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-24 text-center space-y-10",children:[v.jsx("span",{className:"material-symbols-outlined text-7xl text-fire",children:"warning"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bombed text-fire text-2xl tracking-[0.2em]",children:"CONNECTION_REJECTED"}),v.jsx("p",{className:"font-technical text-xs text-zinc-600 mt-4 uppercase tracking-widest",children:u})]}),v.jsx("button",{onClick:()=>l("idle"),className:"px-8 py-2 border border-zinc-800 text-zinc-500 font-technical text-[10px] hover:text-white hover:border-white transition-all uppercase",children:"Retry Connection"})]},"error")]})]}),v.jsxs("div",{className:"bg-zinc-950 px-12 py-6 border-t border-zinc-900/50 flex justify-between items-center opacity-40",children:[v.jsxs("span",{className:"text-[10px] font-technical text-zinc-600 tracking-tighter",children:["SESSION_SIG: ",Math.random().toString(36).substring(2,15).toUpperCase()]}),v.jsxs("div",{className:"flex gap-8",children:[v.jsx("span",{className:"text-[10px] font-technical text-zinc-600 tracking-tighter uppercase",children:"Protocol: Grit_v3.2"}),v.jsx("span",{className:"text-[10px] font-technical text-zinc-600 tracking-tighter uppercase",children:"Loc: Global_Net"})]})]})]})]})}function N9(){const[t,e]=O.useState([]),[n,s]=O.useState([]),[a,l]=O.useState(!1),[u,f]=O.useState(null),[m,p]=O.useState(!0),[y,E]=O.useState(null),[b,w]=O.useState(!1),[D,L]=O.useState(""),[k,F]=O.useState([]),[q,z]=O.useState(""),[ie,le]=O.useState(!1),ce=Il();O.useEffect(()=>{const oe=y_(Yn,async ge=>{if(E(ge),ge){const Ge=hi(ut,"users",ge.uid),wt=await sI(Ge);if(wt.exists()){const vn=wt.data();L(vn.callsign||""),vn.purchased&&s(vn.purchased),w(vn.isSubscriber||vn.purchased?.includes("SUB_MONTHLY"))}}else L(""),s([]),w(!1)});return R(),N(),()=>oe()},[]);const N=async()=>{try{const oe=qs(bn(ut,"drills"),Ga("timestamp","desc")),Ge=(await Gs(oe)).docs.map(wt=>({id:wt.id,...wt.data()}));F(Ge)}catch(oe){console.error("Failed to fetch drills:",oe)}},R=async()=>{try{console.log("FETCHING chapters from FIRESTORE");const oe=qs(bn(ut,"chapters"),Ga("id","asc")),Ge=(await Gs(oe)).docs.map(wt=>({...wt.data(),firestoreId:wt.id}));e(Ge)}catch(oe){console.error("Failed to fetch chapters:",oe)}finally{p(!1)}},[C,P]=O.useState(""),[V,B]=O.useState(""),[I,Ee]=O.useState("google"),[Pe,$]=O.useState(null),re=async oe=>{try{$(null),oe?await j5(Yn,C,V):await XI(Yn,C,V)}catch(ge){console.error("Email Auth Error:",ge),$(ge.message.replace("Firebase: ",""))}},me=async()=>{await WI(Yn)},Ie=async oe=>{if(!(!y||!oe))try{const ge=hi(ut,"users",y.uid);await g3(ge,{callsign:oe.toUpperCase(),email:y.email,purchased:n,isSubscriber:b},{merge:!0}),L(oe.toUpperCase())}catch(ge){console.error("Failed to init callsign:",ge)}},Le=()=>{document.getElementById("archive-section")?.scrollIntoView({behavior:"smooth"})},j=oe=>{n.includes(oe.id)?Se(oe):(f(oe),l(!0))},te=()=>{f({id:"SUB_MONTHLY",name:"THE MOVEMENT",price:"$10/MO",description:"Elite access to the global collective. Includes weekly drills, private discord connectivity, and full archive decryption. No excuses allowed."}),l(!0)},he=oe=>{oe.id.startsWith("CH_")?(s(ge=>[...ge,oe.id]),Se(oe)):oe.id==="SUB_MONTHLY"&&alert("ENLISTMENT SUCCESSFUL. CHECK DISCORD FOR DRILL SCHEDULE.")},de=()=>{ce("/admin")},Se=oe=>{if(oe.pdfUrl){const un=`/download.php?file=${oe.pdfUrl.split("/").pop()}&uid=${y?.uid||"anonymous"}`;window.open(un,"_blank");return}const ge=new jsPDF;ge.setFillColor(0,0,0),ge.rect(0,0,210,297,"F"),ge.setTextColor(255,77,0),ge.setFont("courier","bold"),ge.setFontSize(22),ge.text("CLASSIFIED ASSET",105,40,null,null,"center"),ge.setTextColor(255,255,255),ge.setFontSize(30),ge.text(oe.name.toUpperCase(),105,120,null,null,"center"),ge.setFontSize(10),ge.setTextColor(150,150,150),ge.text(`ID: ${oe.id}`,105,135,null,null,"center"),ge.text("AUTHORIZATION: GRIT_MASTER",105,140,null,null,"center"),ge.addPage(),ge.setTextColor(0,0,0),ge.setFont("times","normal"),ge.setFontSize(12);const Ge=oe.content||`NO CONTENT FOUND.

STAY HARD.`,wt=ge.splitTextToSize(Ge,180);ge.text(wt,15,20),ge.save(`${oe.id}_${oe.name.replace(/\s/g,"_")}_DECRYPTED.pdf`)},Ce=async oe=>{oe.preventDefault();try{await il(bn(ut,"enlistments"),{email:q,timestamp:new Date,status:"PENDING"}),le(!0),z("")}catch(ge){console.error("Enlistment failed",ge),alert("CONNECTION_STRENGTH_LOW: ENLISTMENT_FAILED")}};return v.jsxs("div",{className:"concrete-texture font-display text-white selection:bg-primary selection:text-black min-h-screen",children:[v.jsxs("div",{className:"relative flex min-h-screen w-full flex-col max-w-md mx-auto bg-black",children:[v.jsx(Ot.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative pt-6 pb-12 px-6 border-b-4 border-black",children:v.jsxs("div",{className:"relative z-10 text-center",children:[v.jsx("div",{className:"mb-2 flex justify-center",children:v.jsx("img",{src:"/bookofgrit_logo_v3.png",alt:"BOOK OF GRIT LOGO",className:"w-64 md:w-80 h-auto drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]"})}),v.jsxs("div",{className:"relative inline-block mb-8",children:[v.jsxs("h2",{className:"text-4xl font-bombed text-white tracking-tighter leading-none drip bg-white bg-clip-text text-transparent uppercase",children:["No comfort.",v.jsx("br",{}),"Just grit."]}),v.jsx("div",{className:"absolute -bottom-4 left-0 w-full h-1 bg-fire"})]}),v.jsx("button",{onClick:Le,className:"w-full bg-primary text-black font-stencil text-xl py-5 stencil-cutout shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-[0.98] transition-all duration-100 cursor-pointer",children:"ACQUIRE MANUALS"}),b?v.jsx(Vi,{to:"/dashboard",className:"block w-full mt-4",children:v.jsx("button",{className:"w-full bg-neon-magenta text-black font-stencil text-xl py-5 stencil-cutout shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-[0.98] transition-all duration-100 cursor-pointer",children:"ENTER THE DEEP WEB"})}):v.jsx("button",{onClick:()=>document.getElementById("subs-section")?.scrollIntoView({behavior:"smooth"}),className:"w-full mt-4 bg-neon-magenta text-black font-stencil text-xl py-5 stencil-cutout shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-[0.98] transition-all duration-100 cursor-pointer",children:"ENTER TO GRIT"})]})}),v.jsx("div",{className:"bg-neon-yellow py-2 ticker-wrap border-y-2 border-black overflow-hidden",children:v.jsxs(Ot.div,{animate:{x:[0,-1e3]},transition:{repeat:1/0,duration:30,ease:"linear"},className:"ticker-content flex gap-8 items-center whitespace-nowrap",children:[k.length>0?k.map((oe,ge)=>v.jsxs("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:["SIGNAL_REVEALED: ",oe.title," // TYPE: ",oe.type," // MISSION_START: ",oe.timestamp?.toDate().toLocaleTimeString()," //"]},ge)):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:"8,400+ OPERATORS ACTIVE // MISSION LOGGED 2m AGO // SECURE_LINE_ACTIVE //"}),v.jsx("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:"8,400+ OPERATORS ACTIVE // MISSION LOGGED 2m AGO // SECURE_LINE_ACTIVE //"})]}),k.length>0&&k.map((oe,ge)=>v.jsxs("span",{className:"text-black font-technical font-bold text-xs uppercase tracking-tighter",children:["SIGNAL_REVEALED: ",oe.title," // TYPE: ",oe.type," // MISSION_START: ",oe.timestamp?.toDate().toLocaleTimeString()," //"]},`dup-${ge}`))]})}),v.jsx(Ot.section,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"p-8 border-b-2 border-white/10 relative bg-black",children:v.jsxs("div",{className:"relative z-10",children:[v.jsx("h3",{className:"font-stencil text-fire text-sm mb-2 tracking-[0.2em] uppercase",children:"Phase_01"}),v.jsx("h2",{className:"text-4xl font-bombed mb-6 leading-none",children:"TRUTH OVER COMFORT"}),v.jsxs("p",{className:"text-zinc-400 font-medium leading-relaxed mb-4",children:["The world doesn't care about your potential. It only cares about what you've endured.",v.jsx("span",{className:"text-white",children:" The Book of Grit is the manual for those who refuse to be forgotten."})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("div",{className:"h-1 w-12 bg-fire"}),v.jsx("div",{className:"h-1 w-4 bg-zinc-800"}),v.jsx("div",{className:"h-1 w-4 bg-zinc-800"})]})]})}),v.jsx(Ot.section,{initial:{opacity:0},whileInView:{opacity:1},className:"p-8 bg-black border-b-2 border-white/5",children:y?D?v.jsxs("div",{className:"flex justify-between items-center bg-zinc-900/30 p-4 border border-zinc-800",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[8px] font-technical text-zinc-500 uppercase",children:"Authenticated_Operator:"}),v.jsx("p",{className:"text-xs font-bombed text-white tracking-widest",children:D})]})]}),v.jsx("button",{onClick:me,className:"text-[8px] font-technical text-zinc-700 hover:text-fire uppercase underline",children:"Terminate_Session"})]}):v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"font-technical text-[10px] text-zinc-500 mb-4 uppercase tracking-widest text-center",children:"ENCRYPT_OPERATOR_IDENTITY"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",placeholder:"ENTER_CALLSIGN",id:"callsign-input",className:"flex-1 bg-black border border-zinc-800 p-3 font-technical text-white focus:border-primary outline-none text-xs",onKeyDown:oe=>{oe.key==="Enter"&&Ie(oe.target.value)}}),v.jsx("button",{onClick:()=>{const oe=document.getElementById("callsign-input").value;Ie(oe)},className:"bg-primary text-black font-stencil px-4 text-xs",children:"ENCRYPT"})]})]}):v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"font-technical text-[10px] text-zinc-500 mb-4 uppercase tracking-widest text-center",children:"INITIALIZE_OPERATOR_ENLISTMENT"}),v.jsxs("div",{className:"w-full space-y-4",children:[I==="google"&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>Ee("signup"),className:"w-full py-4 px-6 bg-primary text-black font-stencil hover:bg-white transition-colors flex items-center justify-center gap-3 shadow-[4px_4px_0px_#333] uppercase",children:"CREATE_NEW_IDENTITY"}),v.jsx("div",{className:"text-center mt-4",children:v.jsx("button",{onClick:()=>Ee("login"),className:"text-[10px] font-technical text-zinc-600 hover:text-white uppercase transition-colors",children:"Authorized_Personnel_Login"})})]}),(I==="login"||I==="signup")&&v.jsxs("div",{className:"space-y-3 animate-fade-in",children:[v.jsx("input",{type:"email",placeholder:"OPERATOR_EMAIL",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white text-xs placeholder-zinc-600 focus:border-primary outline-none uppercase",value:C,onChange:oe=>P(oe.target.value)}),v.jsx("input",{type:"password",placeholder:"ACCESS_CODE",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white text-xs placeholder-zinc-600 focus:border-primary outline-none uppercase",value:V,onChange:oe=>B(oe.target.value)}),Pe&&v.jsx("p",{className:"text-fire text-[10px] font-technical",children:Pe}),v.jsx("button",{onClick:()=>re(I==="signup"),className:"w-full py-3 bg-primary text-black font-stencil hover:bg-white transition-colors uppercase",children:I==="signup"?"ESTABLISH_IDENTITY":"AUTHENTICATE"}),v.jsx("button",{onClick:()=>{Ee("google"),$(null)},className:"w-full text-[10px] font-technical text-zinc-500 hover:text-white uppercase",children:"ABORT_MANUAL_OVERRIDE"})]})]})]})}),v.jsxs("section",{id:"archive-section",className:"p-6 bg-black",children:[v.jsxs("div",{className:"my-20 p-10 bg-zinc-950 border-2 border-zinc-900 relative overflow-hidden group hover:border-primary/30 transition-colors",children:[v.jsxs("div",{className:"max-w-xl mx-auto text-center space-y-8 relative z-10",children:[v.jsx("div",{className:"inline-block border border-primary/30 px-4 py-1.5 bg-primary/5",children:v.jsx("span",{className:"text-[10px] font-technical text-primary uppercase tracking-[0.3em]",children:"SECURE_ENLISTMENT_LINE_OPEN"})}),ie?v.jsxs("div",{className:"space-y-4 animate-reveal",children:[v.jsx("span",{className:"material-symbols-outlined text-primary text-5xl",children:"check_circle"}),v.jsx("h3",{className:"text-2xl font-bombed text-white uppercase italic",children:"IDENTITY_LOGGED"}),v.jsx("p",{className:"text-xs font-technical text-zinc-500 uppercase tracking-widest",children:"YOU_ARE_NOW_ON_THE_GRID. WATCH_FOR_SIGNALS."})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-4xl font-bombed uppercase italic text-white tracking-widest",children:"JOIN_THE_MOVEMENT"}),v.jsx("p",{className:"text-[10px] font-technical text-zinc-600 uppercase tracking-widest leading-relaxed mt-4",children:"RESERVE YOUR ACCESS TO THE DEEP WEB. BE THE FIRST TO RECEIVE OMEGA_PROTOCOL ALERTS, PROMOTIONAL CODES, AND REDACTED INTEL."})]}),v.jsxs("form",{onSubmit:Ce,className:"mt-8 space-y-4",children:[v.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[v.jsx("input",{type:"email",required:!0,placeholder:"ENTER_SECURE_EMAIL",className:"flex-1 bg-black border border-zinc-800 p-4 font-technical text-white focus:border-primary outline-none text-xs",value:q,onChange:oe=>z(oe.target.value)}),v.jsx("button",{type:"submit",className:"bg-primary text-black font-stencil px-8 py-4 text-sm hover:bg-white transition-all transform hover:scale-[1.02]",children:"ENLIST_NOW"})]}),v.jsx("p",{className:"text-[8px] font-technical text-zinc-800 uppercase",children:"SIGNAL_ENCRYPTION_ACTIVE // WE_ONLY_SEND_TRUTH."})]})]})]}),v.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",children:v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent h-1 w-full animate-scan",style:{top:"30%"}})})]}),v.jsxs("div",{className:"flex justify-between items-end mb-8",children:[v.jsx("h2",{className:"text-3xl font-graffiti text-white uppercase tracking-tighter",children:"FIELD MANUALS"}),v.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[n.length," / ",t.length," UNLOCKED"]})]}),m?v.jsx("div",{className:"py-20 text-center font-technical text-primary animate-pulse uppercase",children:"decrypting_archive..."}):t.length===0?v.jsx("div",{className:"py-20 text-center font-technical text-zinc-700 uppercase",children:"archive_empty // connection_lost"}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-10",children:t.map((oe,ge)=>v.jsxs("div",{onClick:()=>j(oe),className:`relative group cursor-pointer ${ge%2!==0?"md:translate-y-6":""}`,children:[v.jsxs("div",{className:`aspect-[3/4] bg-zinc-900 border-2 relative overflow-hidden transition-transform duration-300 group-hover:scale-[1.02] animate-scan ${n.includes(oe.id)?"border-neon-yellow shadow-[0_0_15px_rgba(204,255,0,0.3)]":`${oe.borderClass} ${oe.glow}`}`,children:[v.jsx("img",{alt:oe.name,className:`w-full h-full object-cover transition-all duration-500 ${n.includes(oe.id)?"grayscale-0":"grayscale group-hover:grayscale-0"}`,src:oe.img}),v.jsx("div",{className:`absolute top-2 right-2 sticker-peel px-2 py-1.5 text-[10px] font-bold z-20 leading-none ${n.includes(oe.id)?"bg-neon-yellow text-black":"bg-white text-black"}`,children:n.includes(oe.id)?"ACCESS_DATA":"ACQUIRE_TARGET"})]}),v.jsxs("div",{className:"mt-2 text-center",children:[v.jsx("p",{className:`text-[10px] font-technical ${n.includes(oe.id)?"text-neon-yellow":oe.colorClass}`,children:oe.id}),v.jsx("p",{className:"text-xs font-graffiti uppercase",children:oe.name})]})]},oe.firestoreId||oe.id))}),v.jsx("div",{className:"h-12"})]}),v.jsx(Ot.section,{id:"subs-section",whileInView:{scale:[.95,1],opacity:[0,1]},viewport:{once:!0},className:"p-6 mb-12",children:v.jsxs("div",{className:"border-4 border-neon-magenta p-10 relative bg-black shadow-[0_0_40px_rgba(255,0,255,0.1)] animate-scan magenta-scan",children:[v.jsx("div",{className:"absolute -top-4 left-6 bg-neon-magenta text-black px-4 py-1 text-xs font-bold font-technical tracking-widest uppercase z-20",children:"ENLIST_NOW"}),v.jsxs("div",{className:"mb-10 text-center",children:[v.jsx("h2",{className:"text-4xl md:text-5xl font-bombed mb-4 leading-none text-white italic drop-shadow-[0_0_10px_rgba(255,0,255,0.3)]",children:"REWRITE YOUR REALITY"}),v.jsx("div",{className:"h-0.5 w-16 bg-neon-magenta mx-auto mb-6"}),v.jsx("p",{className:"font-technical text-zinc-400 text-xs leading-relaxed max-w-sm mx-auto uppercase tracking-tighter",children:"Individuality is a weakness. The collective is an accelerator. Most people fail because they lack the network to hold them accountable."})]}),v.jsx("div",{className:"grid grid-cols-1 gap-8 mb-12",children:[{title:"TACTICAL_DRILLS",color:"primary",desc:"Custom tailored physical and mental protocols delivered weekly to ensure exponential growth."},{title:"DIRECT_SIGNAL",color:"neon-magenta",desc:"Bypass the noise of public socials. Direct access to the inner circle and decentralized discord backbone."},{title:"RESOURCE_DUMP",color:"fire",desc:"Immediate unlocking of the full grit archive, including classified strategy decks and behavioral templates."}].map((oe,ge)=>v.jsxs("div",{className:"flex gap-6 items-start border-l-2 border-zinc-900 pl-6 hover:border-neon-magenta transition-colors group",children:[v.jsx("div",{className:"pt-1",children:v.jsx("span",{className:"material-symbols-outlined text-neon-magenta opacity-50 group-hover:opacity-100 transition-all font-bold",children:"bolt"})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-white font-bombed text-[12px] mb-2 tracking-widest underline decoration-zinc-800",children:oe.title}),v.jsx("p",{className:"text-zinc-500 font-technical text-[10px] leading-snug",children:oe.desc})]})]},ge))}),b?v.jsx("div",{className:"w-full py-6 bg-green-500/20 border border-green-500/50 text-green-500 font-stencil text-2xl text-center uppercase tracking-widest",children:"OPERATIONAL_CLEARANCE_ACTIVE"}):v.jsx("button",{onClick:te,className:"w-full py-6 bg-neon-magenta text-black font-stencil text-2xl hover:bg-white active:scale-[0.98] transition-all cursor-pointer shadow-[0_10px_30px_rgba(255,0,255,0.2)]",children:"$10/MONTH // JOIN THE 8,400+"}),v.jsx("p",{className:"text-center mt-6 text-zinc-700 font-technical text-[8px] uppercase tracking-[0.4em]",children:"NO_REFUNDS // NO_EXCUSES // NO_RETREAT"})]})}),v.jsxs(Ot.section,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"red-alert p-10 flex flex-col items-center justify-center text-center min-h-[400px] border-y-4 border-black",children:[v.jsx("h2",{className:"text-6xl font-bombed text-white leading-none tracking-tighter mb-4 drop-shadow-[4px_4px_0px_#000]",children:"NO ONE IS COMING TO SAVE YOU"}),v.jsx("div",{className:"w-20 h-1 bg-white mb-8"}),v.jsx("p",{className:"text-white font-stencil text-lg",children:"DO THE WORK."})]}),v.jsx("footer",{className:"p-8 bg-black border-t-4 border-zinc-900",children:v.jsxs("div",{className:"flex flex-col gap-6",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("div",{className:"text-[10px] font-technical text-zinc-600",children:"AUTH: CLASSIFIED_04"}),v.jsx("button",{onClick:de,className:"text-[10px] font-technical text-zinc-600 text-left hover:text-fire transition-colors",children:"SYS_ADMIN_LOGIN"})]}),v.jsx("div",{className:"flex gap-4",children:v.jsx("span",{className:"material-symbols-outlined text-zinc-700",children:"lock"})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[10px] font-technical text-zinc-400",children:[v.jsx(Vi,{className:"hover:text-primary underline",to:"/terms",children:"TERMS_OF_GRIT"}),v.jsx(Vi,{className:"hover:text-primary underline",to:"/privacy",children:"SECURE_DECRYPT"})]}),v.jsx("div",{className:"pt-6 flex justify-center opacity-20",children:v.jsx("h1",{className:"text-2xl graffiti-logo",children:"BOOK OF GRIT"})})]})}),v.jsx("div",{className:"h-8"})]}),v.jsx(C9,{isOpen:a,onClose:()=>l(!1),item:u,onComplete:he})]})}function D9(){const t=rr(),[e,n]=O.useState(t.state?.item||null),[s,a]=O.useState(!e);O.useEffect(()=>{const p=new URLSearchParams(t.search),y=p.get("item_id"),E=p.get("session_id");E?l(E,y):a(!1)},[]);const l=async(p,y)=>{a(!0);try{const b=await(await fetch(`/verify-session.php?session_id=${p}`)).json();if(b.status==="paid"){const w=b.itemId||y;Yn.currentUser&&await u(Yn.currentUser.uid,w),w&&f(w)}else console.error("SECURE_VERIFICATION_FAILED"),a(!1)}catch(E){console.error("VERIFICATION_UNSTABLE:",E),a(!1)}},u=async(p,y)=>{try{const E=hi(ut,"users",p),b={purchased:Z1(y)};y==="SUB_MONTHLY"&&(b.isSubscriber=!0),await jf(E,b),console.log("CLOUDSYNC_COMPLETE:",y)}catch(E){console.error("CLOUDSYNC_FAILED:",E)}},f=async p=>{try{console.log("FETCHING item for success:",p);const y=qs(bn(ut,"chapters"),m3("id","==",p)),E=await Gs(y);if(E.empty)console.error("No item found for ID:",p);else{const b=E.docs[0].data();n(b),m(b)}}catch(y){console.error("Failed to fetch item for success download:",y)}finally{a(!1)}},m=p=>{if(p.pdfUrl){const L=`/download.php?file=${p.pdfUrl.split("/").pop()}&uid=${Yn.currentUser?.uid||"anonymous"}`;window.open(L,"_blank");return}const y=p.content||`MANIFESSTO - ${p.name}

NO ONE IS COMING TO SAVE YOU.
DO THE WORK.`,E=new Blob([y],{type:"text/plain"}),b=URL.createObjectURL(E),w=document.createElement("a");w.href=b,w.download=`${p.id}_${p.name.replace(/\s/g,"_")}.txt`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(b)};return v.jsx("div",{className:"concrete-texture min-h-screen bg-black flex flex-col items-center justify-center p-6 text-white text-center",children:v.jsxs(Ot.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 max-w-md w-full border-4 border-primary glow-cyan bg-black p-12 shadow-[0_0_100px_rgba(0,255,255,0.1)]",children:[v.jsx(Ot.div,{initial:{y:20},animate:{y:0},className:"mb-8",children:v.jsx("span",{className:"material-symbols-outlined text-8xl text-primary drop-shadow-[0_0_20px_rgba(0,255,255,0.5)]",children:"task_alt"})}),v.jsxs("h1",{className:"text-5xl font-bombed mb-4 leading-none italic",children:["TRANSACTION",v.jsx("br",{}),"CONFIRMED"]}),v.jsx("div",{className:"h-1 w-20 bg-primary mx-auto mb-8"}),s?v.jsx("div",{className:"mb-8 p-4 border border-zinc-900 bg-black animate-pulse text-center",children:v.jsx("p",{className:"text-[10px] font-technical text-zinc-600 uppercase",children:"IDENTIFYING_ASSET..."})}):e?v.jsxs("div",{className:"mb-8 p-4 border border-zinc-800 bg-black text-center",children:[v.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase mb-1",children:"Decrypted_Asset:"}),v.jsx("p",{className:"text-xl font-bombed text-white uppercase",children:e.name}),v.jsx("p",{className:"text-[8px] font-technical text-primary mt-2",children:"DOWNLOAD_STARTED..."})]}):v.jsx("div",{className:"mb-8 p-4 border border-fire/20 bg-black text-center",children:v.jsx("p",{className:"text-fire text-[10px] font-technical uppercase",children:"ASSET_NOT_FOUND_IN_ARCHIVE"})}),v.jsxs("p",{className:"font-technical text-zinc-400 text-[10px] mb-12 leading-relaxed uppercase tracking-tighter",children:["Operator credentials verified. Digital manifests have been decrypted and linked to your session.",v.jsx("span",{className:"text-white block mt-4 italic font-bold",children:'"THE ONLY EASY DAY WAS YESTERDAY."'})]}),v.jsx(Vi,{to:"/",children:v.jsx("button",{className:"w-full bg-primary text-black font-stencil text-xl py-6 hover:bg-white hover:scale-[1.02] active:scale-[0.98] transition-all cursor-pointer shadow-[8px_8px_0px_#000]",children:"RETURN TO ARCHIVE"})}),v.jsx("div",{className:"mt-8 text-[8px] font-technical text-zinc-700 uppercase tracking-widest",children:"SECURE_LINE_TERMINATED // IP_LOGGED"})]})})}function O9(){return v.jsx("div",{className:"concrete-texture min-h-screen bg-black flex flex-col items-center justify-center p-6 text-white text-center",children:v.jsxs(Ot.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"relative z-10 max-w-md w-full border-4 border-fire glow-orange bg-black p-12 shadow-[0_0_100px_rgba(255,80,0,0.1)]",children:[v.jsx("div",{className:"mb-8",children:v.jsx("span",{className:"material-symbols-outlined text-8xl text-fire animate-pulse",children:"warning"})}),v.jsxs("h1",{className:"text-5xl font-bombed mb-4 leading-none text-fire",children:["MISSION",v.jsx("br",{}),"ABORTED"]}),v.jsx("div",{className:"h-1 w-20 bg-fire mx-auto mb-8"}),v.jsxs("p",{className:"font-technical text-zinc-500 text-sm mb-12 leading-relaxed uppercase tracking-tighter",children:["Authorization sequence interrupted. The deployment has been halted. No assets were moved.",v.jsx("span",{className:"text-zinc-300 block mt-4 italic font-bold",children:'"FAILURE IS NOT AN OPTION, BUT PAYMENTS ARE."'})]}),v.jsx(Vi,{to:"/",children:v.jsx("button",{className:"w-full bg-zinc-800 text-white font-stencil text-xl py-6 hover:bg-fire hover:scale-[1.02] active:scale-[0.98] transition-all cursor-pointer",children:"RETRY DEPLOYMENT"})}),v.jsx("div",{className:"mt-8 text-[8px] font-technical text-zinc-800 uppercase tracking-widest",children:"ERROR_CODE: PAYMENT_CANCELLED_BY_OPERATOR"})]})})}const M9="PiA69d9PK7WzdnKRJIrwgV8hCSr1";function V9(t){const{chapters:e,users:n,subs:s,drills:a,enlistments:l,onAdd:u,onUpdate:f,onDelete:m,onSeed:p,onClose:y,onAddDrill:E,onDeleteDrill:b,onGrantAccess:w,onResetProtocols:D,onDeleteUser:L,onDeleteEnlistment:k}=t,[F,q]=O.useState(null),[z,ie]=O.useState({id:"",name:"",img:"",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"",content:"",pdfFile:null,imgFile:null}),[le,ce]=O.useState({title:"",content:"",type:"PROTOCOL"}),[N,R]=O.useState({email:"",password:""}),[C,P]=O.useState(null),[V,B]=O.useState(!1),[I,Ee]=O.useState(!1),[Pe,$]=O.useState(null),[re,me]=O.useState("BOOKS");O.useEffect(()=>{const Z=y_(Yn,Te=>{$(Te),Te&&Te.uid===M9&&Ee(!0)});return()=>Z()},[]);const Ie=async Z=>{if(Z.preventDefault(),B(!0),P(null),N.email.toLowerCase()==="commander")if(N.password==="protocol_omega_99"){console.log("HARDCODED_ADMIN_BYPASS_ACTIVE"),Ee(!0),B(!1);return}else{P("INVALID_COMMAND_KEY"),B(!1);return}try{await XI(Yn,N.email.includes("@")?N.email:`${N.email}@bookofgrit.com`,N.password)}catch(Te){console.error("Auth Error:",Te);let lt="ACCESS_DENIED";(Te.code==="auth/user-not-found"||Te.code==="auth/invalid-credential")&&(lt="OPERATOR_NOT_FOUND"),Te.code==="auth/wrong-password"&&(lt="INVALID_ACCESS_KEY"),Te.code==="auth/invalid-email"&&(lt="MALFORMED_ID"),Te.code==="auth/network-request-failed"&&(lt="CONNECTION_LOST"),Te.code==="auth/too-many-requests"&&(lt="RATE_LIMIT_EXCEEDED"),P(lt)}finally{B(!1)}},Le=()=>{Ee(!1),WI(Yn)},j=(Z,Te=800,lt=800)=>new Promise((hn,Ze)=>{const it=new FileReader;it.onerror=()=>Ze(new Error("FAILED_TO_READ_FILE")),it.readAsDataURL(Z),it.onload=Bi=>{const Fi=new Image;Fi.onerror=()=>Ze(new Error("FAILED_TO_LOAD_IMAGE_DATA")),Fi.src=Bi.target.result,Fi.onload=()=>{const xs=document.createElement("canvas");let _t=Fi.width,_n=Fi.height;_t>_n?_t>Te&&(_n*=Te/_t,_t=Te):_n>lt&&(_t*=lt/_n,_n=lt),xs.width=_t,xs.height=_n,xs.getContext("2d").drawImage(Fi,0,0,_t,_n),xs.toBlob(or=>{if(!or){Ze(new Error("CANVAS_TO_BLOB_FAILED"));return}const Hi=new File([or],Z.name,{type:"image/jpeg"});hn(Hi)},"image/jpeg",.8)}},setTimeout(()=>Ze(new Error("RESIZE_PROTOCOL_TIMEOUT")),1e4)}),te=Z=>{q(Z),ie({id:Z.id||"",name:Z.name||"",img:Z.img||"",price:Z.price||"$3",borderClass:Z.borderClass||"border-primary",colorClass:Z.colorClass||"text-primary",glow:Z.glow||"glow-cyan",description:Z.description||"",content:Z.content||"",pdfFile:null,imgFile:null}),me("BOOKS")},he=()=>{q(null),ie({id:"",name:"",img:"",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"",content:"",pdfFile:null,imgFile:null})},[de,Se]=O.useState("PEER_NETWORK_LOGS_PENDING..."),[Ce,oe]=O.useState(!1),ge=async()=>{oe(!0);try{const Te=await(await fetch("/api/generate-drill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({difficulty:"OPERATOR"})})).json();Te.title&&(ce({title:Te.title,type:Te.type||"PROTOCOL",content:Te.content}),alert("AI_SIGNAL_INTERCEPTED_AND_DECODED"))}catch(Z){console.error("AI Generation Failed",Z),alert("SIGNAL_CORRUPT: AI_HANDSHAKE_FAILED")}finally{oe(!1)}},Ge=async()=>{try{const Te=await(await fetch(`/ops.php?action=read_logs&t=${Date.now()}`,{headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"}})).json();Te.status==="success"&&Se(Te.logs)}catch(Z){console.error("Logs Fetch Error",Z)}};O.useEffect(()=>{re==="LOGS"&&Ge()},[re]);const wt=async Z=>{const Te=new FormData;Te.append("file",Z),Te.append("action","upload");const hn=await(await fetch(`/ops.php?t=${Date.now()}`,{method:"POST",headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"},body:Te})).json();if(hn.status==="success")return hn.url;throw new Error(hn.message||"UPLOAD_FAILED")},[vn,un]=O.useState(""),ar=async Z=>{Z.preventDefault(),B(!0),P(null),un("INITIALIZING...");try{let Te=F?.pdfUrl||"";z.pdfFile&&(un(`UPLOADING_MANUSCRIPT: ${z.pdfFile.name}...`),Te=await wt(z.pdfFile));let lt=z.img;if(z.imgFile){un(`OPTIMIZING_COVER: ${z.imgFile.name}...`);const Ze=await j(z.imgFile);un("UPLOADING_COVER..."),lt=await wt(Ze)}lt||(lt="https://thebookofgrit.com/bookofgrit_logo_v3.png"),un("SYNCHRONIZING_WITH_FIRESTORE...");const hn={id:z.id,name:z.name,img:lt,price:z.price||"$3",borderClass:z.borderClass||"border-primary",colorClass:z.colorClass||"text-primary",glow:z.glow||"glow-cyan",description:z.description||"",content:z.content||"",pdfUrl:Te||""};F?await f(F.firestoreId,hn):await u(hn),q(null),ie({id:"",name:"",img:"",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"",content:"",pdfFile:null,imgFile:null}),un(""),alert(F?"ASSET_UPDATED_SUCCESSFULLY":"ASSET_DEPLOYED_SUCCESSFULLY")}catch(Te){console.error("Upload Error",Te),P("DEPLOYMENT_FAILED: "+Te.message),un("")}finally{B(!1)}},Xn=async Z=>{Z.preventDefault(),B(!0);try{await E({...le,timestamp:new Date}),ce({title:"",content:"",type:"PROTOCOL"})}catch(Te){console.error("Drill Upload Error",Te)}finally{B(!1)}};return!Pe&&!I?v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/95 animate-scan",children:v.jsxs("div",{className:"w-full max-w-[90vw] md:max-w-md bg-black border-2 border-fire p-6 md:p-8 shadow-[0_0_50px_rgba(255,77,0,0.2)] relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-fire animate-pulse"}),v.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-zinc-800 pb-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-fire animate-pulse",children:"terminal"}),v.jsx("h2",{className:"text-xl md:text-2xl font-bombed text-white uppercase tracking-widest",children:"AUTHENTICATION_REQUIRED"})]}),v.jsx("button",{onClick:y,className:"text-zinc-500 hover:text-fire material-symbols-outlined text-2xl leading-none transition-colors",children:"close"})]}),v.jsxs("form",{onSubmit:Ie,className:"space-y-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest",children:"ID_CREDENTIAL"}),v.jsx("input",{type:"text",placeholder:"admin",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none text-sm",value:N.email,onChange:Z=>R({...N,email:Z.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest",children:"VRS_ACCESS_KEY"}),v.jsx("input",{type:"password",placeholder:"",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none text-sm",value:N.password,onChange:Z=>R({...N,password:Z.target.value})})]}),C&&v.jsx("div",{className:"bg-fire/10 border border-fire/30 p-3",children:v.jsxs("p",{className:"text-fire text-[10px] font-technical uppercase leading-tight",children:["ERROR // ",C]})}),v.jsxs("button",{disabled:V,className:"w-full bg-fire text-white font-stencil py-4 hover:bg-white hover:text-black transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock_open"}),V?"DECRYPTING...":"AUTHORIZE_SYSTEM"]})]}),v.jsx("div",{className:"mt-8 pt-4 border-t border-zinc-800 text-center",children:v.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"Warning: Unauthorized access is logged and prosecuted."})})]})}):v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-4 bg-black/95 overflow-hidden",children:v.jsxs("div",{className:"w-full max-w-6xl bg-black border-2 border-fire p-4 md:p-8 shadow-2xl h-full md:h-[90vh] flex flex-col",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 border-b border-zinc-800 pb-4 shrink-0 gap-4",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bombed text-white uppercase tracking-widest",children:"COMMAND CENTER"}),v.jsx("span",{className:"bg-fire text-black px-2 py-0.5 text-[10px] font-bold font-technical",children:"SECURE_SESSION"})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center w-full md:w-auto",children:[v.jsx("div",{className:"flex bg-zinc-900 border border-zinc-700 rounded-sm overflow-hidden flex-1 md:flex-none",children:["BOOKS","DRILLS","USERS","SUBS","ENLISTMENTS","LOGS"].map(Z=>v.jsx("button",{onClick:()=>me(Z),className:`flex-1 md:flex-none px-3 md:px-4 py-2 text-[10px] font-technical uppercase transition-all ${re===Z?"bg-fire text-white":"text-zinc-500 hover:text-white hover:bg-zinc-800"}`,children:Z},Z))}),v.jsx("div",{className:"hidden md:block w-px h-6 bg-zinc-800 mx-2"}),v.jsxs("div",{className:"flex gap-4 ml-auto md:ml-0",children:[v.jsx("button",{onClick:Le,className:"text-[10px] font-technical text-zinc-500 hover:text-fire uppercase underline",children:"Logout"}),v.jsx("button",{onClick:y,className:"text-zinc-500 hover:text-fire material-symbols-outlined text-4xl leading-none",children:"cancel"})]})]})]}),v.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[re==="BOOKS"&&v.jsxs("div",{className:"grid md:grid-cols-2 gap-12 h-full overflow-hidden",children:[v.jsxs("div",{className:"overflow-y-auto pr-2 custom-scrollbar",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"text-xl font-technical text-fire uppercase tracking-tighter underline",children:F?"MODIFY_ARCHIVE_DATA":"ENLIST_NEW_DOC"}),F&&v.jsx("button",{onClick:he,className:"text-[10px] font-technical bg-zinc-800 text-zinc-400 px-3 py-1 hover:bg-white hover:text-black transition-colors",children:"CANCEL_EDIT"})]}),v.jsxs("form",{onSubmit:ar,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"ASSET_IDENTIFIER"}),v.jsx("input",{type:"text",placeholder:"ID (e.g. CH_05)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none",value:z.id,onChange:Z=>ie({...z,id:Z.target.value})})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"MARKET_VALUATION"}),v.jsx("input",{type:"text",placeholder:"PRICE (e.g. $10)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-fire focus:border-white outline-none",value:z.price,onChange:Z=>ie({...z,price:Z.target.value})})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"CODENAME"}),v.jsx("input",{type:"text",placeholder:"NAME",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none",value:z.name,onChange:Z=>ie({...z,name:Z.target.value})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"border border-zinc-700 p-3 flex flex-col gap-2 bg-zinc-900/20",children:[v.jsxs("label",{className:"text-[10px] font-technical text-zinc-500 uppercase flex justify-between",children:[v.jsx("span",{children:"COVER_ASSET"}),v.jsx("span",{className:"material-symbols-outlined text-xs",children:"image"})]}),v.jsx("input",{type:"file",accept:"image/*",className:"text-xs text-zinc-400 file:bg-zinc-800 file:text-white file:border-0 file:px-2 file:py-1 file:font-technical file:uppercase hover:file:bg-fire hover:file:text-black cursor-pointer",onChange:Z=>ie({...z,imgFile:Z.target.files[0]})}),z.imgFile?v.jsxs("div",{className:"mt-2 text-[8px] font-technical text-fire flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"image_search"}),"COVER_STAGED: ",z.imgFile.name," (AUTO_OPTIMIZING)"]}):z.img&&v.jsxs("div",{className:"mt-2 flex items-center gap-2 border border-zinc-800 p-1 bg-black/40",children:[v.jsx("img",{src:z.img,alt:"Preview",className:"w-8 h-8 object-cover border border-zinc-700"}),v.jsx("p",{className:"text-[8px] text-zinc-600 truncate uppercase tracking-tighter",children:"Existing_Cover_Linked"})]})]}),v.jsxs("div",{className:"border border-zinc-700 p-3 flex flex-col gap-2 bg-zinc-900/20",children:[v.jsxs("label",{className:"text-[10px] font-technical text-zinc-500 uppercase flex justify-between",children:[v.jsx("span",{children:"PDF_MANUSCRIPT"}),v.jsx("span",{className:"material-symbols-outlined text-xs",children:"picture_as_pdf"})]}),v.jsx("input",{type:"file",accept:"application/pdf",className:"text-xs text-zinc-400 file:bg-zinc-800 file:text-white file:border-0 file:px-2 file:py-1 file:font-technical file:uppercase hover:file:bg-fire hover:file:text-black cursor-pointer",onChange:Z=>ie({...z,pdfFile:Z.target.files[0]})}),z.pdfFile?v.jsxs("div",{className:"mt-2 text-[8px] font-technical text-primary flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"check_circle"}),"FILE_STAGED: ",z.pdfFile.name]}):v.jsx("p",{className:"text-[8px] text-zinc-600 mt-2 uppercase tracking-tighter",children:"No_File_Selected"})]})]}),v.jsx("textarea",{placeholder:"BRIEFING_DESCRIPTION (TEASER)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none h-20",value:z.description,onChange:Z=>ie({...z,description:Z.target.value})}),v.jsx("textarea",{placeholder:"MANIFESTO_CONTENT",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-fire outline-none h-32",value:z.content,onChange:Z=>ie({...z,content:Z.target.value})}),v.jsx("button",{disabled:V,className:`w-full ${F?"bg-white text-black":"bg-fire text-white"} font-stencil py-4 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed uppercase`,children:V?vn:F?"UPDATE_ARCHIVE":"DEPLOY_TO_ARCHIVE"})]})]}),v.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"text-xl font-technical text-primary uppercase tracking-tighter underline",children:"ACTIVE_ARCHIVE"}),v.jsx("button",{onClick:p,className:"text-[10px] font-technical bg-zinc-800 text-zinc-400 px-3 py-1 hover:bg-fire hover:text-white transition-colors",children:"RESEED"})]}),v.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:e.map(Z=>v.jsxs("div",{className:`bg-black p-4 border flex justify-between items-center group transition-colors ${F?.id===Z.id?"border-white":"border-zinc-900 hover:border-zinc-700"}`,children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("p",{className:"text-xs font-technical text-zinc-500",children:Z.id}),v.jsx("span",{className:"w-1 h-1 bg-zinc-700 rounded-full"}),v.jsx("p",{className:"text-[10px] font-technical text-fire",children:Z.price}),Z.pdfUrl?v.jsx("span",{className:"text-[8px] bg-green-900/30 text-green-500 px-1 border border-green-900 font-technical",children:"PDF_READY"}):v.jsx("span",{className:"text-[8px] bg-red-900/30 text-red-500 px-1 border border-red-900 font-technical",children:"NO_PDF"})]}),v.jsx("p",{className:"font-bombed text-white uppercase tracking-wider",children:Z.name})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>te(Z),className:"text-zinc-700 hover:text-white material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"edit"}),v.jsx("button",{onClick:async()=>{if(window.confirm(`PERMANENTLY_DELETE_ASSET: ${Z.name}?`)){B(!0);try{if(Z.pdfUrl){const Te=new FormData;Te.append("action","delete"),Te.append("fileUrl",Z.pdfUrl),await fetch(`/ops.php?t=${Date.now()}`,{method:"POST",headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"},body:Te})}if(Z.img){const Te=new FormData;Te.append("action","delete"),Te.append("fileUrl",Z.img),await fetch(`/ops.php?t=${Date.now()}`,{method:"POST",headers:{"X-Operator-Key":"protocol_omega_99_secure_vault"},body:Te})}await m(Z.firestoreId),alert("ASSET_WIPED_FROM_EXISTENCE")}catch(Te){console.error("Deletion Failed",Te),alert("DELETION_ERROR_CHECK_LOGS")}finally{B(!1)}}},className:"text-zinc-700 hover:text-red-500 material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"delete_forever"})]})]},Z.id))})]})]}),re==="DRILLS"&&v.jsxs("div",{className:"grid md:grid-cols-2 gap-12 h-full overflow-hidden",children:[v.jsxs("div",{className:"overflow-y-auto pr-2 custom-scrollbar",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"text-xl font-technical text-neon-magenta uppercase tracking-tighter underline",children:"DEPLOY_DRILL"}),v.jsxs("button",{type:"button",onClick:ge,disabled:Ce,className:"text-[10px] font-technical text-white border border-neon-magenta px-3 py-1 hover:bg-neon-magenta hover:text-black transition-all flex items-center gap-2 animate-pulse",children:[v.jsx("span",{className:"material-symbols-outlined text-xs",children:"psychology"}),Ce?"DECODING_AI_SIGNAL...":"GENERATE_VIA_AI"]})]}),v.jsxs("form",{onSubmit:Xn,className:"space-y-4",children:[v.jsx("input",{type:"text",placeholder:"DRILL_TITLE",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-neon-magenta outline-none",value:le.title,onChange:Z=>ce({...le,title:Z.target.value})}),v.jsxs("select",{className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-neon-magenta outline-none",value:le.type,onChange:Z=>ce({...le,type:Z.target.value}),children:[v.jsx("option",{value:"PROTOCOL",children:"PROTOCOL"}),v.jsx("option",{value:"MANIFESTO",children:"MANIFESTO"}),v.jsx("option",{value:"TACTICAL",children:"TACTICAL"}),v.jsx("option",{value:"CLEARANCE",children:"CLEARANCE"})]}),v.jsx("textarea",{placeholder:"DRILL_CONTENT (TECHNICAL_BREIFING)",className:"w-full bg-black border border-zinc-700 p-3 font-technical text-white focus:border-neon-magenta outline-none h-64",value:le.content,onChange:Z=>ce({...le,content:Z.target.value})}),v.jsx("button",{disabled:V,className:"w-full bg-neon-magenta text-black font-stencil py-4 hover:bg-white transition-all disabled:opacity-50",children:V?"BROADCASTING...":"INITIALIZE_BROADCAST"})]})]}),v.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[v.jsx("h3",{className:"text-xl font-technical text-zinc-500 mb-6 uppercase tracking-tighter underline",children:"ACTIVE_SIGNALS"}),v.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:a&&a.map(Z=>v.jsxs("div",{className:"bg-black p-4 border border-zinc-900 flex justify-between items-center group hover:border-neon-magenta/30 transition-colors",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[8px] font-technical text-zinc-600 mb-1",children:Z.timestamp?.toDate().toLocaleDateString()}),v.jsx("p",{className:"font-bombed text-white uppercase tracking-widest",children:Z.title})]}),v.jsx("button",{onClick:()=>b(Z.id),className:"text-zinc-700 hover:text-fire material-symbols-outlined opacity-0 group-hover:opacity-100 transition-opacity",children:"delete_sweep"})]},Z.id))})]})]}),re==="USERS"&&v.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[v.jsx("h3",{className:"text-xl font-technical text-neon-magenta mb-6 uppercase tracking-tighter underline",children:"OPERATIVE_ROSTER"}),v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b border-zinc-800",children:[v.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"ID"}),v.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"EMAIL"}),v.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"ROLE"}),v.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"STATUS"}),v.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"JOINED"}),v.jsx("th",{className:"p-4 text-[10px] font-technical text-zinc-500 uppercase",children:"ACTIONS"})]})}),v.jsx("tbody",{children:n&&n.map(Z=>v.jsxs("tr",{className:"border-b border-zinc-900 hover:bg-zinc-900/30 transition-colors",children:[v.jsx("td",{className:"p-4 text-xs font-mono text-zinc-400",children:Z.id}),v.jsx("td",{className:"p-4 text-sm text-white font-bold",children:Z.email}),v.jsx("td",{className:"p-4 text-xs font-technical text-primary",children:Z.role}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:`px-2 py-0.5 text-[8px] font-bold ${Z.status==="ACTIVE"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:Z.status})}),v.jsx("td",{className:"p-4 text-xs text-zinc-600",children:Z.joined}),v.jsxs("td",{className:"p-4 flex gap-2",children:[v.jsx("button",{onClick:()=>w(Z.id),className:"text-[10px] bg-primary/10 text-primary border border-primary/30 px-2 py-1 hover:bg-primary hover:text-black transition-all font-technical",children:"GRANT_ACCESS"}),v.jsx("button",{onClick:()=>D(Z.id),className:"text-[10px] bg-zinc-900 text-zinc-600 border border-zinc-800 px-2 py-1 hover:text-white transition-all font-technical",children:"RESET_PROTOCOLS"}),v.jsx("button",{onClick:()=>L(Z.id),className:"text-[10px] bg-fire/10 text-fire border border-fire/30 px-2 py-1 hover:bg-fire hover:text-white transition-all font-technical",children:"TERMINATE"})]})]},Z.id))})]})})]}),re==="SUBS"&&v.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[v.jsx("h3",{className:"text-xl font-technical text-neon-yellow mb-6 uppercase tracking-tighter underline",children:"ACTIVE_SUBSCRIPTIONS"}),v.jsx("div",{className:"grid grid-cols-1 gap-2",children:s&&s.map(Z=>v.jsxs("div",{className:"bg-black p-4 border border-zinc-900 flex justify-between items-center hover:border-neon-yellow/30 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("div",{className:"w-10 h-10 bg-zinc-900 flex items-center justify-center border border-zinc-800",children:v.jsx("span",{className:"material-symbols-outlined text-zinc-600",children:"badge"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-technical text-neon-yellow mb-1",children:Z.plan}),v.jsx("p",{className:"text-white text-sm",children:Z.user})]})]}),v.jsxs("div",{className:"flex items-center gap-8 text-right",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"STATUS"}),v.jsx("p",{className:`text-xs font-bold ${Z.status==="ACTIVE"?"text-green-500":"text-zinc-500"}`,children:Z.status})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:"RENEWAL"}),v.jsx("p",{className:"text-xs text-white",children:Z.nextBilling})]}),v.jsx("button",{onClick:()=>alert(`OPERATOR_QUERY: ${Z.user}
TARGET_PLAN: ${Z.plan}
CURRENT_STATUS: ${Z.status}

Manual status overrides must be performed via Stripe Dashboard.`),className:"text-zinc-600 hover:text-white text-[10px] border border-zinc-800 px-3 py-1 hover:border-white transition-colors",children:"MANAGE"})]})]},Z.id))})]}),re==="ENLISTMENTS"&&v.jsxs("div",{className:"space-y-6 h-full overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-xl font-technical text-primary uppercase underline italic",children:"PRE_ENLISTMENT_DATABASE"}),v.jsxs("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:[l?.length||0,"_ENTRIES_FOUND"]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:v.jsxs("div",{className:"grid gap-4",children:[l&&l.map((Z,Te)=>v.jsxs("div",{className:"bg-zinc-950 border border-zinc-900 p-6 flex justify-between items-center group hover:border-primary/30 transition-all",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("span",{className:"text-zinc-800 font-technical text-sm",children:String(Te+1).padStart(3,"0")}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-bombed text-white tracking-widest uppercase",children:Z.email}),v.jsxs("p",{className:"text-[8px] font-technical text-zinc-600 uppercase mt-1",children:["HANDSHAKE: ",Z.timestamp?.toDate().toLocaleString()," // STATUS: ",Z.status]})]})]}),v.jsxs("div",{className:"flex gap-4 items-center",children:[v.jsxs("button",{onClick:()=>{const lt=prompt("ENTER_PROMO_CODE:");lt&&alert(`SIGNAL_SENT: Promo ${lt} transmitted to ${Z.email}`)},className:"text-[10px] font-technical text-zinc-500 hover:text-primary transition-colors flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:"send"}),"SEND_SIGNAL"]}),v.jsx("button",{onClick:()=>k(Z.id),className:"text-zinc-800 hover:text-fire material-symbols-outlined transition-colors",children:"delete_forever"})]})]},Z.id)),(!l||l.length===0)&&v.jsxs("div",{className:"p-20 border border-dashed border-zinc-900 text-center space-y-4",children:[v.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-5xl",children:"person_search"}),v.jsx("p",{className:"text-[10px] font-technical text-zinc-700 uppercase",children:"NO_RECRUITS_IN_QUEUE"})]})]})})]}),re==="LOGS"&&v.jsxs("div",{className:"h-full flex flex-col gap-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bombed text-white uppercase tracking-tighter italic",children:"FULFILLMENT_AUDIT_TRAIL"}),v.jsx("p",{className:"text-[8px] font-technical text-zinc-500 uppercase tracking-widest",children:"LIVE_SERVER_DATA // SECURE_FETCH_ACTIVE"})]}),v.jsxs("button",{onClick:Ge,className:"bg-zinc-900 border border-zinc-800 px-4 py-2 text-[10px] font-technical text-zinc-400 hover:text-white hover:border-white transition-all flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:"terminal"}),"RE-SYNC_TERMINAL"]})]}),v.jsxs("div",{className:"flex-1 bg-black border-2 border-zinc-900 p-0 font-mono text-[10px] overflow-hidden flex flex-col shadow-2xl",children:[v.jsxs("div",{className:"bg-zinc-900/50 px-4 py-2 border-b border-zinc-800 flex justify-between items-center",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/20"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500/20"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/20"})]}),v.jsx("span",{className:"text-[8px] text-zinc-500 uppercase tracking-widest",children:"AUDIT_PROTOCOL_v4.2.0"})]}),v.jsx("div",{className:"flex-1 p-6 overflow-y-auto custom-scrollbar space-y-2",children:de==="NO_LOGS_ON_DISK_CURRENTLY"?v.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-700 animate-pulse",children:[v.jsx("span",{className:"material-symbols-outlined text-4xl mb-4",children:"folder_open"}),v.jsx("p",{className:"font-technical tracking-widest",children:"ARCHIVE_TEMPORARILY_EMPTY"})]}):de.split(`
`).filter(Z=>Z.trim()).map((Z,Te)=>{const lt=Z.includes("SUCCESS")||Z.includes("GRANTED"),hn=Z.includes("ERROR")||Z.includes("FAILED"),Ze=Z.includes("RECEIVED")||Z.includes("FETCHED");let it="text-zinc-500";return lt&&(it="text-green-500"),hn&&(it="text-red-500"),Ze&&(it="text-primary"),v.jsxs("div",{className:"flex gap-4 group hover:bg-zinc-900/50 p-1 -ml-1 transition-colors",children:[v.jsx("span",{className:"text-zinc-800 select-none",children:String(Te+1).padStart(3,"0")}),v.jsx("span",{className:`${it} leading-relaxed`,children:Z})]},Te)})}),v.jsxs("div",{className:"bg-zinc-950 px-4 py-2 border-t border-zinc-900 flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_5px_#22c55e]"}),v.jsx("span",{className:"text-[8px] text-zinc-500 uppercase",children:"System_Online"})]}),v.jsx("span",{className:"text-zinc-800",children:"|"}),v.jsxs("span",{className:"text-[8px] text-zinc-600 uppercase",children:["Last_Update: ",new Date().toLocaleTimeString()]})]}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsx("span",{className:"text-[8px] text-zinc-700 uppercase",children:"Root@GRIT_SERVER_NODE"})})]})]})]})]})]})})}class P9 extends rA.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error",e,n),this.setState({errorInfo:n})}render(){return this.state.hasError?v.jsxs("div",{className:"min-h-screen bg-black text-red-500 p-10 font-mono flex flex-col items-center justify-center",children:[v.jsx("h1",{className:"text-4xl mb-6 font-bold border-b border-red-500 pb-2",children:"CRITICAL SYSTEM FAILURE"}),v.jsxs("div",{className:"w-full max-w-4xl bg-zinc-900/50 p-6 rounded border border-red-900/50 overflow-auto",children:[v.jsxs("p",{className:"text-xl mb-4 text-white",children:["Error: ",this.state.error&&this.state.error.toString()]}),v.jsxs("details",{className:"text-sm text-zinc-400",children:[v.jsx("summary",{className:"cursor-pointer hover:text-white mb-2",children:"Stack Trace"}),v.jsx("pre",{className:"whitespace-pre-wrap",children:this.state.error&&this.state.error.stack}),v.jsx("pre",{className:"whitespace-pre-wrap mt-4",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}),v.jsx("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-3 bg-red-600 text-white font-bold hover:bg-red-500 transition-colors",children:"REBOOT SYSTEM"})]}):this.props.children}}function k9(){const[t,e]=O.useState([]),[n,s]=O.useState([]),[a,l]=O.useState([]),[u,f]=O.useState([]),[m,p]=O.useState([]),[y,E]=O.useState(!0),b=Il();O.useEffect(()=>{w();const I=Yn.onAuthStateChanged(Ee=>{});return()=>I()},[]);const w=async()=>{E(!0),await Promise.all([D(),L(),k(),F(),q()]),E(!1)},D=async()=>{try{const I=qs(bn(ut,"chapters"),Ga("id","asc")),Pe=(await Gs(I)).docs.map($=>({...$.data(),firestoreId:$.id}));e(Pe)}catch(I){console.error("Fetch chapters failed:",I)}},L=async()=>{try{const I=qs(bn(ut,"users"),Ga("createdAt","desc")),Pe=(await Gs(I)).docs.map($=>{const re=$.data();return{...re,id:$.id,firestoreId:$.id,joined:re.createdAt?.toDate().toLocaleDateString()||"N/A"}});s(Pe)}catch(I){console.error("Fetch users failed:",I)}},k=async()=>{try{const I=qs(bn(ut,"subscriptions")),Pe=(await Gs(I)).docs.map($=>{const re=$.data();return{...re,id:$.id,firestoreId:$.id,nextBilling:re.current_period_end?new Date(re.current_period_end*1e3).toLocaleDateString():"N/A"}});l(Pe)}catch(I){console.error("Fetch subs failed:",I)}},F=async()=>{try{const I=qs(bn(ut,"drills"),Ga("timestamp","desc")),Pe=(await Gs(I)).docs.map($=>({...$.data(),id:$.id}));f(Pe)}catch(I){console.error("Fetch drills failed:",I)}},q=async()=>{try{const I=qs(bn(ut,"enlistments"),Ga("timestamp","desc")),Pe=(await Gs(I)).docs.map($=>({...$.data(),id:$.id}));p(Pe)}catch(I){console.error("Fetch enlistments failed:",I)}},z=async I=>{try{await il(bn(ut,"chapters"),I),D()}catch(Ee){console.error("Add failed:",Ee)}},ie=async I=>{try{const Ee=prompt("ENTER_ASSET_ID_TO_GRANT (e.g. CH_01):");if(!Ee)return;await jf(hi(ut,"users",I),{purchased:Z1(Ee)}),alert("ACCESS_GRANTED_SUCCESSFULLY"),L()}catch(Ee){console.error("Grant failed:",Ee)}},le=async I=>{try{if(!confirm("WIPE_USER_CLEARANCE? THIS WILL REMOVE ALL PURCHASES AND SUBS STATUS."))return;await jf(hi(ut,"users",I),{purchased:[],isSubscriber:!1}),alert("PROTOCOL_RESET_COMPLETE"),L()}catch(Ee){console.error("Reset failed:",Ee)}},ce=async I=>{try{if(!confirm("DELETE_OPERATOR_PERMANENTLY?"))return;await xf(hi(ut,"users",I)),alert("OPERATOR_TERMINATED"),L()}catch(Ee){console.error("Deletion failed:",Ee)}},N=async I=>{await xf(hi(ut,"chapters",I)),D()},R=async(I,Ee)=>{try{await jf(hi(ut,"chapters",I),Ee),D()}catch(Pe){console.error("Update failed:",Pe)}},C=async I=>{try{await il(bn(ut,"drills"),I),F()}catch(Ee){console.error("Add drill failed:",Ee)}},P=async I=>{await xf(hi(ut,"drills",I)),F()},V=async I=>{await xf(hi(ut,"enlistments",I)),q()},B=async()=>{try{if(!confirm("WARNING: THIS WILL DUPLICATE DATA IF NOT EMPTY. PROCEED?"))return;const I=[{id:"CH_01",name:"MANIFESTO",price:"$3",borderClass:"border-primary",colorClass:"text-primary",glow:"glow-cyan",description:"The founding principles of the grit mindset. Discomfort is not an obstacle; it is the path.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuAsY68-HDaa2jNGV0f03uraeN1eAqz_z6KJdGELGwpfgV_IyaDsmNm2pUIj2CJopuOyrHLGHBhzaFEW4bSg7IwJ-h7tCXv37K4bHeQQNu4xjbR-Z7sIK3rK5CxFi1R4dufN5xFBtACCgXrI4cTbdlMCQMU9S-bVS557EShmVJerHO1WPZR8ZJdEu9rTI-YyCwg2-jTyA3K3D-k0fp3EWETdZu_8J9UFV0AU1nD4uKrflSJ-QCIsg1NLfo7rxfr-nITIal9-FpkOniZB",content:"MANIFESTO_PROTOCOL: THE ONLY EASY DAY WAS YESTERDAY."},{id:"CH_02",name:"The Void",price:"$3",borderClass:"border-fire",colorClass:"text-fire",glow:"glow-orange",description:"Embracing the emptiness where growth happens. When you have nothing, you have everything to gain.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuAuh9yajP2K2UokzC7ClDOOXipnj6G6thi0OzOv94tkXWtGDVl0dEnviC-6576FdKLS31wC_yPy4-nVxK2fqIAhvbecAFRogwdBnmndq16MPdnNr5_abVr8mAfJNY9JZHqNwSr244rPrC4nMj65BOa6xQIBuDDtGkH2yCqKygfBgMDTJsIjfNAVQHU7Gh9tNg-rDao62BLMbp1JKCQsqxqcwcfGZ23gyH72_j5q9Wdnbknj01wxnD0YLK8oDr32VUBlUqCNDB_1xgY0",content:"VOID_PROTOCOL: START_WITH_NOTHING."},{id:"CH_03",name:"Pain Tolerance",price:"$3",borderClass:"border-neon-magenta",colorClass:"text-neon-magenta",glow:"glow-magenta",description:"Pain is the only yardstick of progress. Understanding the difference between discomfort and damage.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuC56kH_70TDlN9SyKgcd-f4074AztZff3B4A2Y04L_KrjaZF8QLytUNtIUD8Kg6a3WO04zeBGmLNAnw2T5tHnlrl2eTF3TzAmiimbqOAWPqYgFWtqkYuilGoC9YSeiixfAMX-L03LY1CIdwk7g_5GLKIyTi6dnsTqO1Uq9KqDKtfu8BqEAOcE66Eg4-tOz1rcDqsF197HDbUfR3v8h3TT-btXDZh8a98tx7-OzEzEReZGr40rMhqOWrQFUQE9u44NT25wi4j_CzHEYw",content:"PAIN_PROTOCOL: EMBRACE_THE_BURN."},{id:"CH_04",name:"Legacy War",price:"$3",borderClass:"border-zinc-500",colorClass:"text-zinc-500",glow:"border-white/50",description:"What will they say when you are gone? Building something that outlasts your biological existence.",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuAmffZph4QDexI5jYr49CCmsRxz_ynZIQPdmfDkbLEgj4y7Yi5iVymxj3UTjJp9-N6J_qM7lfY0MaExbUGpf2Y_VveR4yXRoXdmk_S6TI1Bt7y3IFPyPhulf42xH4aFv45FuijLtWH3F7vF8hnHHWYIr5jSAC-IBQVyqhpazomWHorUpw14GC2KAibvKiLoZQxghokSfOqcqvR6K4x24N-YDYp-1U-ERYvjhtf9R_7G6hwrvO_pzoefIDFMy-acsOR2puoWlGsQsxup",content:"LEGACY_PROTOCOL: BUILD_TO_LAST."}];for(const $ of I)await il(bn(ut,"chapters"),$);const Ee=[{id:"USR_01",email:"operator@bookofgrit.com",status:"ACTIVE",role:"COMMANDER",joined:"2023-10-15"},{id:"USR_02",email:"recruit@bookofgrit.com",status:"PENDING",role:"RECRUIT",joined:"2023-11-02"}];for(const $ of Ee)await il(bn(ut,"users"),$);const Pe=[{id:"SUB_001",user:"operator@bookofgrit.com",plan:"THE MOVEMENT",status:"ACTIVE",nextBilling:"2023-12-15"},{id:"SUB_002",user:"recruit@bookofgrit.com",plan:"THE MOVEMENT",status:"PAUSED",nextBilling:"2023-12-02"}];for(const $ of Pe)await il(bn(ut,"subscriptions"),$);w()}catch(I){console.error("Seed failed:",I)}};return v.jsx("div",{className:"min-h-screen bg-black",children:v.jsx(P9,{children:v.jsx(V9,{chapters:t,users:n,subs:a,drills:u,onAdd:z,onUpdate:R,onDelete:N,onGrantAccess:ie,onAddDrill:C,onDeleteDrill:P,onResetProtocols:le,onDeleteUser:ce,enlistments:m,onDeleteEnlistment:V,onSeed:B,onClose:()=>b("/")})})})}function L9(){const[t,e]=O.useState(null),[n,s]=O.useState(null),[a,l]=O.useState(!0),[u,f]=O.useState([]),m=Il();O.useEffect(()=>{const E=y_(Yn,async b=>{if(!b){m("/");return}e(b);const w=hi(ut,"users",b.uid),D=await sI(w);if(D.exists()){const L=D.data();!L.isSubscriber&&!L.purchased?.includes("SUB_MONTHLY")?s(L):(s(L),p())}l(!1)});return()=>E()},[m]);const p=async()=>{try{const E=qs(bn(ut,"drills"),Ga("timestamp","desc")),w=(await Gs(E)).docs.map(D=>({id:D.id,...D.data()}));f(w)}catch(E){console.error("Fetch drills failed:",E)}};return a?v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center font-technical text-primary uppercase tracking-[0.4em]",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"w-16 h-1 w-full bg-zinc-900 overflow-hidden relative",children:v.jsx(Ot.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"absolute inset-0 bg-primary"})}),"AUTHENTICATING_OPERATOR..."]})}):n?.isSubscriber||n?.purchased?.includes("SUB_MONTHLY")?v.jsxs("div",{className:"min-h-screen bg-black concrete-texture text-white selection:bg-neon-magenta selection:text-black overflow-x-hidden relative",children:[v.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 opacity-[0.03]",children:[v.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#888_1px,transparent_1px),linear-gradient(to_bottom,#888_1px,transparent_1px)] bg-[size:40px_40px]"}),v.jsx(Ot.div,{animate:{y:["0%","100%"]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-b from-transparent via-neon-magenta/30 to-transparent h-[20%] w-full"})]}),v.jsxs("header",{className:"p-8 border-b-2 border-neon-magenta/10 flex justify-between items-center bg-black/80 backdrop-blur-xl sticky top-0 z-50",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx(Vi,{to:"/",className:"w-12 h-12 flex items-center justify-center border border-neon-magenta/20 hover:border-neon-magenta hover:bg-neon-magenta/10 transition-all group",children:v.jsx("span",{className:"material-symbols-outlined text-neon-magenta group-hover:scale-110 transition-transform",children:"arrow_back"})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-neon-magenta animate-pulse shadow-[0_0_10px_#ff00ff]"}),v.jsx("h1",{className:"text-xl md:text-3xl font-bombed uppercase tracking-widest text-white italic",children:"WAR_ROOM_ACCESS"})]}),v.jsxs("p",{className:"text-[8px] font-technical text-neon-magenta/40 uppercase tracking-[0.4em] mt-1 flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"sensors"}),"SIGNAL_STRENGTH: 98% // ENCRYPTION: OMEGA_IV"]})]})]}),v.jsxs("div",{className:"hidden md:flex flex-col items-end border-r-2 border-neon-magenta/30 pr-6",children:[v.jsx("span",{className:"text-[8px] font-technical text-zinc-600 uppercase tracking-widest",children:"CURRENT_LOGGED_OPERATOR"}),v.jsxs("span",{className:"text-sm font-bombed text-white tracking-widest flex items-center gap-2 italic",children:[n?.callsign||"OPERATOR_X",v.jsx("span",{className:"material-symbols-outlined text-neon-magenta text-xs",children:"verified"})]})]})]}),v.jsx("main",{className:"max-w-6xl mx-auto p-8 py-16",children:v.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[v.jsx("div",{className:"flex items-center gap-4 mb-4 border-l-4 border-neon-magenta pl-6",children:v.jsxs("div",{children:[v.jsx("h2",{className:"text-4xl font-bombed uppercase italic",children:"TACTICAL_DRILLS"}),v.jsx("p",{className:"text-[10px] font-technical text-zinc-500 uppercase tracking-widest",children:"WEEKLY_OPERATIONAL_PROCEDURES"})]})}),v.jsx("div",{className:"space-y-8",children:u.length===0?v.jsxs("div",{className:"p-20 border border-zinc-900 text-center space-y-6 bg-zinc-950/20 backdrop-blur-sm relative overflow-hidden group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neon-magenta/5 to-transparent"}),v.jsx("span",{className:"material-symbols-outlined text-zinc-800 text-6xl group-hover:text-neon-magenta/20 transition-colors",children:"radar"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-technical text-[10px] text-zinc-600 uppercase tracking-[0.5em] mb-2",children:"SCANNING_FOR_ACTIVE_SIGNALS..."}),v.jsx("div",{className:"w-32 h-[1px] bg-zinc-900 mx-auto relative overflow-hidden",children:v.jsx(Ot.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-neon-magenta/50"})})]})]}):u.map((E,b)=>v.jsxs(Ot.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:b*.1,duration:.6},className:"group relative border border-zinc-900 hover:border-neon-magenta/40 bg-zinc-950/40 backdrop-blur-sm transition-all overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 inset-x-0 h-[1px] bg-gradient-to-r from-transparent via-neon-magenta/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-500"}),v.jsxs("div",{className:"p-8",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsx("span",{className:"w-10 h-10 flex items-center justify-center bg-zinc-900 border border-zinc-800 text-neon-magenta material-symbols-outlined",children:E.type==="PROTOCOL"?"terminal":E.type==="MANIFESTO"?"contract":"description"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-2xl font-bombed uppercase group-hover:text-neon-magenta transition-colors italic",children:E.title}),v.jsxs("p",{className:"text-[8px] font-technical text-zinc-600 uppercase tracking-widest underline decoration-zinc-800 underline-offset-4",children:["REF_ID: DRILL_",E.id.substring(0,6).toUpperCase()," // TYPE: ",E.type||"RAW_INTEL"]})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[10px] font-bombed text-white underline decoration-neon-magenta/50",children:"DECODED"}),v.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase",children:E.timestamp?.toDate().toLocaleDateString()})]})]}),v.jsx("div",{className:"prose prose-invert prose-xs font-technical text-zinc-400 leading-relaxed mb-8 pl-6 border-l-2 border-zinc-900 group-hover:border-neon-magenta/30 transition-colors whitespace-pre-wrap",children:E.content}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("span",{className:"px-3 py-1 bg-neon-magenta/10 border border-neon-magenta/20 text-[8px] font-technical text-neon-magenta uppercase",children:"CLEARANCE: OPERATOR"}),v.jsx("span",{className:"px-3 py-1 bg-zinc-900 border border-zinc-800 text-[8px] font-technical text-zinc-500 uppercase",children:"STATUS: VERIFIED"})]}),v.jsxs("button",{className:"text-[10px] font-bombed uppercase text-zinc-700 hover:text-white transition-colors flex items-center gap-2",children:["MARK_AS_COMPLETE ",v.jsx("span",{className:"material-symbols-outlined text-xs",children:"radio_button_unchecked"})]})]})]})]},E.id))})]}),v.jsxs("div",{className:"space-y-12",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsx("h4",{className:"text-neon-magenta font-stencil text-lg uppercase underline underline-offset-8 decoration-neon-magenta/30",children:"MEMBER_ASSETS"}),v.jsx("div",{className:"grid gap-4",children:[{icon:"description",label:"THE CORE MANIFESTO",sub:"Foundational Doc V3.2"},{icon:"shield",label:"OPERATOR PROTOCOLS",sub:"Conduct & Discipline"},{icon:"database",label:"THE RAW ARCHIVE",sub:"Unreleased Dumps"}].map((E,b)=>v.jsxs("div",{className:"p-4 border border-zinc-900 bg-zinc-950/30 hover:bg-zinc-900/50 transition-all cursor-pointer group flex items-center gap-4",children:[v.jsx("span",{className:"material-symbols-outlined text-zinc-500 group-hover:text-neon-magenta",children:E.icon}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bombed text-white uppercase",children:E.label}),v.jsx("p",{className:"text-[8px] font-technical text-zinc-600 uppercase tracking-tighter",children:E.sub})]})]},b))})]}),v.jsxs("div",{className:"p-8 bg-neon-magenta/5 border border-neon-magenta/10 space-y-6 relative overflow-hidden",children:[v.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-neon-magenta/10 rounded-full blur-3xl animate-pulse"}),v.jsx("h4",{className:"font-stencil text-neon-magenta text-sm uppercase",children:"OPERATOR_STATUS"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-end border-b border-zinc-900 pb-2",children:[v.jsx("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"TIER"}),v.jsx("span",{className:"text-xs font-bombed text-neon-magenta uppercase tracking-widest italic",children:"MOVEMENT_ELITE"})]}),v.jsxs("div",{className:"flex justify-between items-end border-b border-zinc-900 pb-2",children:[v.jsx("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"NETWORK_ID"}),v.jsxs("span",{className:"text-[10px] font-technical text-zinc-300 uppercase",children:["G_NODE_",t?.uid.substring(0,8).toUpperCase()]})]}),v.jsxs("div",{className:"flex justify-between items-end border-b border-zinc-900 pb-2",children:[v.jsx("span",{className:"text-[10px] font-technical text-zinc-500 uppercase",children:"SESSION_KEY"}),v.jsx("span",{className:"text-[10px] font-technical text-zinc-300 uppercase",children:"ENC_VERIFIED"})]})]})]}),v.jsx("div",{className:"text-[8px] font-technical text-zinc-700 leading-relaxed uppercase",children:"Warning: Unauthorized distribution of Deep Web assets will result in permanent termination of operational status and network blacklisting."})]})]})}),v.jsxs("div",{className:"fixed bottom-0 inset-x-0 h-10 bg-black/90 backdrop-blur-xl border-t-2 border-neon-magenta/20 flex items-center z-[100] overflow-hidden",children:[v.jsxs("div",{className:"bg-neon-magenta px-4 h-full flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-black text-sm animate-spin-slow",children:"settings"}),v.jsx("span",{className:"text-[10px] font-technical font-bold text-black uppercase tracking-widest whitespace-nowrap",children:"GLOBAL_LIVE_FEED:"})]}),v.jsx("div",{className:"flex-1 px-8 overflow-hidden",children:v.jsx(Ot.div,{initial:{x:"0%"},animate:{x:"-50%"},transition:{duration:40,repeat:1/0,ease:"linear"},className:"flex gap-16 whitespace-nowrap",children:[...Array(2)].map((E,b)=>v.jsxs("div",{className:"flex gap-16 uppercase text-[9px] font-technical text-neon-magenta tracking-[0.2em] font-bold",children:[v.jsx("span",{children:"LATENCY: 12ms // SERVER: OMEGA_SOUTH // STATUS: DEEP_FETCH_ACTIVE"}),v.jsx("span",{children:"OPERATORS_ACTIVE: 1,402 // DRILLS_SYNCED: 100% // NOCOMING_SAVE_YOU"}),v.jsx("span",{children:"SIGNAL_LOCK: SECURE // VOID_PROTOCOL: INITIALIZED // GRIT_ORACLE_LIVE"}),v.jsx("span",{children:"LATENCY: 12ms // SERVER: OMEGA_SOUTH // STATUS: DEEP_FETCH_ACTIVE"})]},b))})}),v.jsxs("div",{className:"hidden md:flex bg-zinc-900 px-6 h-full items-center gap-4 text-[9px] font-technical text-zinc-500 tracking-[0.2em]",children:[v.jsx("p",{children:"FREQ: 44.9KHZ"}),v.jsx("p",{className:"text-neon-magenta",children:"STATUS: CLEAR"})]})]}),v.jsx("div",{className:"h-10"})]}):v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:v.jsxs("div",{className:"max-w-md w-full border-2 border-fire/50 bg-black/80 backdrop-blur-xl p-10 text-center space-y-8 shadow-[0_0_50px_rgba(255,100,0,0.1)]",children:[v.jsx("span",{className:"material-symbols-outlined text-fire text-7xl",children:"lock_open"}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-4xl font-bombed text-white mb-4 uppercase italic",children:"ACCESS_DENIED"}),v.jsx("p",{className:"font-technical text-[10px] text-zinc-500 uppercase tracking-widest leading-relaxed",children:`Terminal 4.1.0: "THE DEEP WEB" requires an active 'MOVEMENT' enlistment. Your clearance does not meet the minimum operational threshold.`})]}),v.jsx(Vi,{to:"/",children:v.jsx("button",{className:"w-full bg-fire text-black font-stencil text-lg py-4 hover:bg-white transition-all cursor-pointer",children:"ENLIST_NOW"})})]})})}function j9(){return v.jsx("div",{className:"concrete-texture min-h-screen bg-black text-zinc-400 font-technical p-8 md:p-24 selection:bg-primary selection:text-black",children:v.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto border border-zinc-900 bg-zinc-950/50 p-8 md:p-16 relative",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),v.jsx(Vi,{to:"/",className:"text-primary hover:text-white mb-12 inline-block uppercase tracking-[0.2em] text-[10px]",children:" RETURN_TO_BASE"}),v.jsx("h1",{className:"text-4xl md:text-6xl font-bombed text-white mb-12 leading-none uppercase italic",children:"PRIVACY_PROTOCOL"}),v.jsxs("div",{className:"space-y-12 text-sm leading-relaxed",children:[v.jsxs("section",{children:[v.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"01. DATA_COLLECTION"}),v.jsx("p",{children:"The Book of Grit collects minimal operator data required for session persistence and asset delivery. This includes email addresses provided via Google Auth and custom Callsigns initialized during operator setup."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"02. TRANSACTION_SECURITY"}),v.jsx("p",{children:"All financial transactions are handled by Stripe. We do not store credit card details or sensitive billing information on our servers. Verification is performed via secure server-to-server handshakes."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"03. TRACKING_LOGS"}),v.jsx("p",{children:"Access to the archive is logged. IP addresses and session timestamps are recorded to prevent unauthorized distribution of classified assets."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"04. DATA_RETENTION"}),v.jsx("p",{children:"Operators may terminate their session and request data deletion via the support channel. Upon termination, all linked assets will be purged from the active session."})]})]}),v.jsxs("div",{className:"mt-24 pt-8 border-t border-zinc-900 flex justify-between items-center text-[10px] text-zinc-600",children:[v.jsx("span",{children:"DOC_ID: PRIV_GRIT_v1.0"}),v.jsx("span",{children:"LAST_MOD: 2024.02.12"})]})]})})}function U9(){return v.jsx("div",{className:"concrete-texture min-h-screen bg-black text-zinc-400 font-technical p-8 md:p-24 selection:bg-fire selection:text-black",children:v.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto border border-zinc-900 bg-zinc-950/50 p-8 md:p-16 relative",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-fire"}),v.jsx(Vi,{to:"/",className:"text-fire hover:text-white mb-12 inline-block uppercase tracking-[0.2em] text-[10px]",children:" RETURN_TO_BASE"}),v.jsx("h1",{className:"text-4xl md:text-6xl font-bombed text-white mb-12 leading-none uppercase italic",children:"TERMS_OF_GRIT"}),v.jsxs("div",{className:"space-y-12 text-sm leading-relaxed",children:[v.jsxs("section",{children:[v.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"01. NO_REFUNDS"}),v.jsx("p",{children:"All assets acquired through the Book of Grit are digital and non-refundable. Discomfort is part of the process. Requesting a refund due to lack of discipline is a violation of the grit code."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"02. ASSET_USAGE"}),v.jsx("p",{children:"Manuals are for individual use only. Redistribution, resale, or public broadcasting of classified manifests is strictly prohibited and will result in permanent session termination."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"03. MEMBERSHIP_ENLISTMENT"}),v.jsx("p",{children:"The Movement subscription provides recurring access to the archive and drills. Operators may cancel their enlistment at any time, but access to elite channels will be revoked at the end of the billing cycle."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-white font-bombed text-xl mb-4 uppercase tracking-widest",children:"04. OPERATOR_CONDUCT"}),v.jsx("p",{children:"Disrespecting the collective or sharing information from the private signal channels will result in immediate discharge without warning."})]})]}),v.jsxs("div",{className:"mt-24 pt-8 border-t border-zinc-900 flex justify-between items-center text-[10px] text-zinc-600",children:[v.jsx("span",{children:"DOC_ID: TERMS_GRIT_v1.0"}),v.jsx("span",{children:"LAST_MOD: 2024.02.12"})]})]})})}function z9(){return v.jsx(_O,{children:v.jsxs(QD,{children:[v.jsx(Hs,{path:"/",element:v.jsx(N9,{})}),v.jsx(Hs,{path:"/success",element:v.jsx(D9,{})}),v.jsx(Hs,{path:"/cancel",element:v.jsx(O9,{})}),v.jsx(Hs,{path:"/admin",element:v.jsx(k9,{})}),v.jsx(Hs,{path:"/dashboard",element:v.jsx(L9,{})}),v.jsx(Hs,{path:"/privacy",element:v.jsx(j9,{})}),v.jsx(Hs,{path:"/terms",element:v.jsx(U9,{})}),v.jsx(Hs,{path:"*",element:v.jsx(YD,{to:"/",replace:!0})})]})})}class B9 extends rA.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Global Error:",e,n)}render(){return this.state.hasError?v.jsxs("div",{style:{padding:20,background:"#111",color:"#f00",minHeight:"100vh",fontFamily:"monospace"},children:[v.jsx("h1",{children:"GLOBAL APP CRASH"}),v.jsx("p",{children:this.state.error&&this.state.error.toString()}),v.jsx("pre",{children:this.state.error&&this.state.error.stack})]}):this.props.children}}WN.createRoot(document.getElementById("root")).render(v.jsx(O.StrictMode,{children:v.jsx(B9,{children:v.jsx(z9,{})})}));
